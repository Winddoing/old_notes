<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=Generator content="Microsoft Word 12 (filtered)">
<title>嵌入式Linux</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 5 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:黑体;
	panose-1:2 1 6 9 6 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
h1
	{mso-style-link:"标题 1 Char";
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:240%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
h2
	{mso-style-link:"标题 2 Char";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	line-height:173%;
	page-break-after:avoid;
	font-size:15.0pt;
	font-family:"Cambria","serif";
	font-weight:bold;}
h3
	{mso-style-link:"标题 3 Char";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:173%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
h4
	{mso-style-link:"标题 4 Char";
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	font-weight:normal;}
h5
	{mso-style-link:"标题 5 Char";
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:156%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
h6
	{mso-style-link:"标题 6 Char";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:133%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	font-weight:bold;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:24.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:63.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:84.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:105.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:126.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:147.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:168.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"页眉 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	layout-grid-mode:char;
	border:none;
	padding:0cm;
	font-size:9.0pt;
	font-family:"Times New Roman","serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"页脚 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:"Times New Roman","serif";}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"标题 Char";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-link:"副标题 Char";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	line-height:130%;
	font-size:16.0pt;
	font-family:"Cambria","serif";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{mso-style-link:"文档结构图 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:9.0pt;
	font-family:宋体;}
p
	{margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:宋体;}
code
	{font-family:宋体;}
pre
	{mso-style-link:"HTML 预设格式 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:宋体;}
samp
	{font-family:宋体;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"批注框文本 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:9.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
span.MsoIntenseEmphasis
	{color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Char
	{mso-style-name:"页眉 Char";
	mso-style-link:页眉;}
span.Char0
	{mso-style-name:"页脚 Char";
	mso-style-link:页脚;}
span.2Char
	{mso-style-name:"标题 2 Char";
	mso-style-link:"标题 2";
	font-family:"Cambria","serif";
	font-weight:bold;}
span.1Char
	{mso-style-name:"标题 1 Char";
	mso-style-link:"标题 1";
	font-family:"Times New Roman","serif";
	font-weight:bold;}
span.Char1
	{mso-style-name:"批注框文本 Char";
	mso-style-link:批注框文本;
	font-family:"Times New Roman","serif";}
span.3Char
	{mso-style-name:"标题 3 Char";
	mso-style-link:"标题 3";
	font-family:"Times New Roman","serif";
	font-weight:bold;}
span.Char2
	{mso-style-name:"标题 Char";
	mso-style-link:标题;
	font-family:"Cambria","serif";}
span.5Char
	{mso-style-name:"标题 5 Char";
	mso-style-link:"标题 5";
	font-family:"Times New Roman","serif";
	font-weight:bold;}
span.4Char
	{mso-style-name:"标题 4 Char";
	mso-style-link:"标题 4";
	font-family:"Cambria","serif";}
span.Char3
	{mso-style-name:"副标题 Char";
	mso-style-link:副标题;
	font-family:"Cambria","serif";
	font-weight:bold;}
span.6Char
	{mso-style-name:"标题 6 Char";
	mso-style-link:"标题 6";
	font-family:"Cambria","serif";
	font-weight:bold;}
span.apple-converted-space
	{mso-style-name:apple-converted-space;}
span.Char4
	{mso-style-name:"文档结构图 Char";
	mso-style-link:文档结构图;
	font-family:宋体;}
span.HTMLChar
	{mso-style-name:"HTML 预设格式 Char";
	mso-style-link:"HTML 预设格式";
	font-family:宋体;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection3
	{page:WordSection3;}
@page WordSection4
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection4
	{page:WordSection4;}
@page WordSection5
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection5
	{page:WordSection5;}
@page WordSection6
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection6
	{page:WordSection6;}
@page WordSection7
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection7
	{page:WordSection7;}
@page WordSection8
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection8
	{page:WordSection8;}
@page WordSection9
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection9
	{page:WordSection9;}
@page WordSection10
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection10
	{page:WordSection10;}
@page WordSection11
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection11
	{page:WordSection11;}
@page WordSection12
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection12
	{page:WordSection12;}
@page WordSection13
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection13
	{page:WordSection13;}
@page WordSection14
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection14
	{page:WordSection14;}
@page WordSection15
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection15
	{page:WordSection15;}
@page WordSection16
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection16
	{page:WordSection16;}
@page WordSection17
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection17
	{page:WordSection17;}
@page WordSection18
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection18
	{page:WordSection18;}
@page WordSection19
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection19
	{page:WordSection19;}
@page WordSection20
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection20
	{page:WordSection20;}
@page WordSection21
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection21
	{page:WordSection21;}
@page WordSection22
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection22
	{page:WordSection22;}
@page WordSection23
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection23
	{page:WordSection23;}
@page WordSection24
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection24
	{page:WordSection24;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body bgcolor=white lang=ZH-CN link=blue vlink=purple style='text-justify-trim:
punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<h1><span style='font-family:宋体'>一、基于虚拟技术的</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>安装</span></h1>

<h2><span lang=EN-US>1. </span><span style='font-family:宋体'>新建虚拟机</span></h2>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>安装位置剩余空间最少</span><span lang=EN-US>20G</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>虚拟内存选择小于等于</span><span lang=EN-US>2G</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>c)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>网络连接</span><span lang=EN-US>-----</span><span
style='font-family:宋体'>桥接</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>d)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>虚拟磁盘类型</span><span lang=EN-US>IDE</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>e)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>虚拟磁盘拆分成多文件、适中</span></p>

<h2><span lang=EN-US>2. </span><span style='font-family:宋体'>修改虚拟机设置</span></h2>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>移除</span><span lang=EN-US>&nbsp;
autoinst.iso</span><span style='font-family:宋体'>光驱、</span><span lang=EN-US>floppy</span><span
style='font-family:宋体'>（软盘）、打印机等</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US style='color:red'>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体;color:red'>添加串口</span><span
lang=EN-US style='color:red'>Serial Port</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>c)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>创建共享文件夹</span></p>

<h2><span lang=EN-US>3. </span><span style='font-family:宋体'>安装设置</span></h2>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
style='font-family:宋体'>【注】：（命令）</span><span lang=EN-US style='color:#00B0F0'>linux
rescue</span><span lang=EN-US>&nbsp; #</span><span style='font-family:宋体'>用于系统修复</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>检测安装介质、安装号码</span><span lang=EN-US>
-------</span><span style='font-family:宋体'>跳过</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>创建分区</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:63.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=114 valign=top style='width:85.2pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>类型</span></p>
  </td>
  <td width=114 valign=top style='width:85.2pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>大小</span></p>
  </td>
  <td width=114 valign=top style='width:85.2pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>作用</span></p>
  </td>
  <td width=114 valign=top style='width:85.25pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>挂载点</span></p>
  </td>
  <td width=114 valign=top style='width:85.25pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=114 valign=top style='width:85.2pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>swap</span></p>
  </td>
  <td width=114 valign=top style='width:85.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>内存</span><span lang=EN-US>2</span><span style='font-family:宋体'>倍</span></p>
  </td>
  <td width=114 valign=top style='width:85.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>虚拟内存</span></p>
  </td>
  <td width=114 valign=top style='width:85.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=114 valign=top style='width:85.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>交换分区</span></p>
  </td>
 </tr>
 <tr>
  <td width=114 valign=top style='width:85.2pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>ext3</span></p>
  </td>
  <td width=114 valign=top style='width:85.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>100M</span></p>
  </td>
  <td width=114 valign=top style='width:85.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>引导分区</span></p>
  </td>
  <td width=114 valign=top style='width:85.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>/boot</span></p>
  </td>
  <td width=114 valign=top style='width:85.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=114 valign=top style='width:85.2pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>ext3</span></p>
  </td>
  <td width=114 valign=top style='width:85.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>剩余全部</span></p>
  </td>
  <td width=114 valign=top style='width:85.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>根</span></p>
  </td>
  <td width=114 valign=top style='width:85.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>/</span></p>
  </td>
  <td width=114 valign=top style='width:85.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>c)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>软件选择</span><span lang=EN-US>“</span><span
style='font-family:宋体'>软件开发</span><span lang=EN-US>”“</span><span
style='font-family:宋体'>网络服务</span><span lang=EN-US>”“</span><span
style='font-family:宋体'>现在定制</span><span lang=EN-US>”</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>d)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>防火墙</span><span lang=EN-US>-----</span><span
style='font-family:宋体'>禁用</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>e)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>SELinux-----</span><span style='font-family:
宋体'>允许</span></p>

<p class=MsoNormal><span style='font-family:宋体'>键盘组合键：</span><span lang=EN-US>&lt;Ctrl
+Alt+Backspace&gt;&nbsp;&nbsp; -------&nbsp;&nbsp; </span><span
style='font-family:宋体'>作用：重启</span><span lang=EN-US>X-windows</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>二、系统的优化与基本设置</span></h1>

<h2><span lang=EN-US>1. </span><span style='font-family:宋体'>安装虚拟机工具（</span><span
lang=EN-US>VMware Tools</span><span style='font-family:宋体'>）</span></h2>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>a．<span style='font:7.0pt "Times New Roman"'> </span></span><span
style='font-family:宋体'>挂载安装光盘</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>b．</span><span style='font-family:宋体'>进入光盘目录</span><span lang=EN-US>&nbsp;
<span style='color:#00B0F0'>[root@localhost ~]# cd /media/</span></span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>c．<span style='font:7.0pt "Times New Roman"'> </span></span><span
style='font-family:宋体'>将</span><span lang=EN-US>VMware Tools </span><span
style='font-family:宋体'>解包到</span><span lang=EN-US> /usr/local/src</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>tar –zxvf VMwaretools[tab][tab] –C
/usr/local/src</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
</span><span lang=EN-US>d.</span><span style='font-family:宋体'>执行安装脚本</span><span
lang=EN-US> *.pl</span></p>

<h2><span lang=EN-US>2. </span><span style='font-family:宋体'>修改终端下显示模式</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a</span><span
style='font-family:宋体'>．打开</span><span lang=EN-US>/etc/grub.conf</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b.&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>在</span><span lang=EN-US>kernel</span><span
style='font-family:宋体'>行尾加入</span><span lang=EN-US> vga=791</span></p>

<h2><span lang=EN-US>3. </span><span style='font-family:宋体'>修改系统默认运行级别</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a</span><span
style='font-family:宋体'>．打开</span><span lang=EN-US>/etc/inittab</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b.
&nbsp; </span><span style='font-family:宋体'>将</span><span lang=EN-US>initdefault</span><span
style='font-family:宋体'>行中的</span><span lang=EN-US>5</span><span
style='font-family:宋体'>改为</span><span lang=EN-US>3</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>【注】修改完</span><span lang=EN-US>2</span><span
style='font-family:宋体'>、</span><span lang=EN-US>3</span><span style='font-family:
宋体'>文件后重启，系统将默认进入文本状态</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>Linux</b></span><b><span
style='font-family:宋体'>的运行级别</span> </b></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><b><i><span
lang=EN-US>0</span></i></b><i><span lang=EN-US> &nbsp;&nbsp; </span></i><i><span
style='font-family:宋体'>关机</span></i></p>

<p class=MsoNormal style='margin-left:63.0pt'><b><span lang=EN-US>1</span></b><i><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span></i><i><span style='font-family:
宋体'>单用户无需登录直接获得</span><span lang=EN-US>root</span></i><i><span
style='font-family:宋体'>权限（系统维护）</span></i></p>

<p class=MsoNormal style='margin-left:63.0pt'><b><span lang=EN-US>2</span></b><i><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span></i><i><span style='font-family:
宋体'>多用户、无网络（排除网络故障）</span></i></p>

<p class=MsoNormal style='margin-left:63.0pt'><b><span lang=EN-US>3</span></b><i><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span></i><i><span style='font-family:
宋体'>多用户、文本模式（系统、网络管理）</span></i></p>

<p class=MsoNormal style='margin-left:63.0pt'><b><span lang=EN-US>4</span></b><i><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span></i><i><span style='font-family:
宋体'>自定义</span></i></p>

<p class=MsoNormal style='margin-left:63.0pt'><b><span lang=EN-US>5</span></b><i><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span></i><i><span style='font-family:
宋体'>图形（桌面用户）</span></i></p>

<p class=MsoNormal style='margin-left:63.0pt'><b><span lang=EN-US>6</span></b><i><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span></i><i><span style='font-family:
宋体'>重启</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></i></p>

<h2><span lang=EN-US>4. </span><span style='font-family:宋体'>关闭冗余服务</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
style='font-family:宋体'>在终端下执行</span> <span lang=EN-US style='color:#00B0F0'>ntsysv</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:48.25pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=73 rowspan=10 style='width:55.05pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;layout-flow:vertical-ideographic'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:5.65pt;
  margin-bottom:0cm;margin-left:5.65pt;margin-bottom:.0001pt;text-align:center'><span
  style='font-size:18.0pt;font-family:宋体'>保留服务</span></p>
  </td>
  <td width=211 valign=top style='width:157.95pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>haldaemon</span></p>
  </td>
  <td width=207 valign=top style='width:155.25pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>图形界面支持</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:157.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>kudzu</span></p>
  </td>
  <td width=207 valign=top style='width:155.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>即插既用设备</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:157.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>messagebus</span></p>
  </td>
  <td width=207 valign=top style='width:155.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>图形界面支持</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:157.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>network</span></p>
  </td>
  <td width=207 valign=top style='width:155.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:157.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>nfs</span></p>
  </td>
  <td width=207 rowspan=2 valign=top style='width:155.25pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>nfs</span><span style='font-family:宋体'>服务（</span><span
  style='font-size:9.0pt;font-family:宋体'>网络文件系统可以将服务器上的目录共享给远程的计算机，并在远程计算机上挂载）</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:157.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>protmap</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:157.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>vmware-tools</span></p>
  </td>
  <td width=207 valign=top style='width:155.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:9.0pt'>
  <td width=211 valign=top style='width:157.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>vmware-tal</span><span style='font-family:
  宋体'>。。。。</span></p>
  </td>
  <td width=207 valign=top style='width:155.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=211 valign=top style='width:157.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>xfs</span></p>
  </td>
  <td width=207 rowspan=2 valign=top style='width:155.25pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>超级服务器</span><span lang=EN-US>---</span><span
  style='font-family:宋体'>可以管理很多不能独立运行的网络服务</span></p>
  </td>
 </tr>
 <tr style='height:7.35pt'>
  <td width=211 valign=top style='width:157.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span lang=EN-US>xineted</span></p>
  </td>
 </tr>
</table>

<h1><span style='font-family:宋体'>三、文件系统</span></h1>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=584
 style='width:437.9pt;border-collapse:collapse;border:none'>
 <tr style='height:23.8pt'>
  <td width=83 valign=top style='width:62.1pt;border:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:23.8pt'>
  <p class=MsoNormal><b><span lang=EN-US style='font-size:26.0pt'>&nbsp;</span></b></p>
  </td>
  <td width=113 valign=top style='width:3.0cm;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:23.8pt'>
  <p class=MsoNormal><span style='font-family:宋体'>目录</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:23.8pt'>
  <p class=MsoNormal><span style='font-family:宋体'>作用</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:23.8pt'>
  <p class=MsoNormal><span style='font-family:宋体'>备注</span></p>
  </td>
 </tr>
 <tr style='height:6.75pt'>
  <td width=83 rowspan=22 style='width:62.1pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US
  style='font-size:26.0pt'>/</span></p>
  </td>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US>boot</span></p>
  </td>
  <td width=198 style='width:148.85pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US>Linux</span><span style='font-family:
  宋体'>内核、引导程序（</span><span lang=EN-US>grub</span><span style='font-family:宋体'>、</span><span
  lang=EN-US>lilo</span><span style='font-family:宋体'>）</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>内核的作用：</span></p>
  <p class=MsoNormal><span style='font-family:宋体'>文件管理、内存管理、进程管理、设备管理</span></p>
  </td>
 </tr>
 <tr>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>bin</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>普通用户可以执行的命令</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>sbin</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>只有超级用户可以执行的命令</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=113 rowspan=2 style='width:3.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>etc</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>配置文件目录</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>/etc/rc*</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>rc</span><span style='font-family:宋体'>表示</span><span
  lang=EN-US>Runlevel Changes</span><span style='font-family:宋体'>（运行级别）</span></p>
  </td>
 </tr>
 <tr>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>proc</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>内核启动映像</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>观察内核的运行状态、微调内核的一些参数</span></p>
  </td>
 </tr>
 <tr>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>sys</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>系统总线映射</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>usr</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>第三方软件目录</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>/usr/include C</span><span
  style='font-family:宋体'>头文件</span></p>
  </td>
 </tr>
 <tr style='height:9.0pt'>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>root</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span style='font-family:宋体'>超级用户专属目录</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>home</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span style='font-family:宋体'>普通用户家目录</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:6.75pt'>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US>media</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>光盘挂载目录</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>mnt</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>外部存储设备挂载目录</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>tmp</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span style='font-family:宋体'>临时文件目录</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:20.25pt'>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:20.25pt'>
  <p class=MsoNormal><span lang=EN-US>var</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:20.25pt'>
  <p class=MsoNormal><span style='font-family:宋体'>日志（网站）等需要频繁访问的文件</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:20.25pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:10.2pt'>
  <td width=113 style='width:3.0cm;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:10.2pt'>
  <p class=MsoNormal><span lang=EN-US>lib</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.2pt'>
  <p class=MsoNormal><span lang=EN-US>C</span><span style='font-family:宋体'>库目录</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.2pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:7.35pt'>
  <td width=113 rowspan=7 style='width:3.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:7.35pt'>
  <p class=MsoNormal><span lang=EN-US>dev</span></p>
  </td>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span style='font-family:宋体'>设备文件目录</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span style='font-family:宋体'>每个文件对应一个设备，而设备可能存在，也可能不存在</span></p>
  </td>
 </tr>
 <tr style='height:7.35pt'>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span lang=EN-US>/dev/ttyn</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span style='font-family:宋体'>物理终端</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>/dev/ptsn</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>虚拟终端</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>/dev/zero</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>只读</span> <span
  style='font-family:宋体'>——</span><span lang=EN-US>0</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>/dev/null</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span style='font-family:宋体'>只写</span> <span
  style='font-family:宋体'>——丢弃</span></p>
  </td>
 </tr>
 <tr style='height:6.6pt'>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.6pt'>
  <p class=MsoNormal><span lang=EN-US>/dev/random</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.6pt'>
  <p class=MsoNormal><span style='font-family:宋体'>只读</span> <span
  style='font-family:宋体'>——随机数</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=198 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>/dev/console</span></p>
  </td>
  <td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span style='font-family:宋体;color:red'>操作系统所必须，关系到系统登录</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>四、常用操作</span></h1>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>&lt;Alt+Fn&gt; n=1~7&nbsp; </span><span
style='font-family:宋体'>——物理终端间切换</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>文本下启动图形界面</span><span lang=EN-US>&nbsp;
<span style='color:#00B0F0'>startx</span></span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>退出图形界面</span><span lang=EN-US>
&lt;Ctrl+Alt+Backspace&gt;</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>图形界面下运行文本</span><span lang=EN-US>&lt;Ctrl+Alt+Fn&gt;
n=1~6</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>文本进入图形</span><span lang=EN-US>&nbsp;
&lt;Alt+F7&gt;</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>终止程序运行</span><span lang=EN-US>
&lt;Ctrl+C&gt;</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>7.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>执行程序运行命令时，在末尾家</span><span
lang=EN-US>&amp;</span><span style='font-family:宋体'>——表示让程序在后台运行</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>8.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>作业调度</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>jobs</span><span lang=EN-US>&nbsp; #</span><span
style='font-family:宋体'>查看作业号</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>fg </span><span style='font-family:宋体;
color:#00B0F0'>作业号</span><span lang=EN-US>&nbsp; #</span><span
style='font-family:宋体'>将后台作业调入前台</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>&lt;Ctrl+Z&gt;&nbsp; </span><span style='font-family:宋体'>表示挂起前台作业</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>bg </span><span style='font-family:宋体;
color:#00B0F0'>作业号</span><span lang=EN-US>&nbsp; #</span><span
style='font-family:宋体'>将挂起作业调入后台</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>9.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>&lt;Ctrl+L&gt;&nbsp; </span><span
style='font-family:宋体'>清屏</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>10.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=EN-US style='color:#00B0F0'>history</span><span lang=EN-US>&nbsp;&nbsp; #</span><span
style='font-family:宋体'>显示历史命令</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>默认最多</span><span lang=EN-US>1500</span><span
style='font-family:宋体'>条</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>11.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=EN-US style='color:#00B0F0'>! </span><span style='font-family:宋体;
color:#00B0F0'>历史命令编号</span><span lang=EN-US>&nbsp; #</span><span
style='font-family:宋体'>重新执行该命令</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>12.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>历史相似命令</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>a．<span style='font:7.0pt "Times New Roman"'> </span></span><span
lang=EN-US>&lt;Ctrl+r&gt;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>注：在宿主机即虚拟机外将重启虚拟机</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>b．</span><span style='font-family:宋体'>输入相似部分</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>c．<span style='font:7.0pt "Times New Roman"'> </span></span><span
style='font-family:宋体'>回车执行</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>13.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=EN-US>Tab</span><span style='font-family:宋体'>用法</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>a．<span style='font:7.0pt "Times New Roman"'> </span></span><span
style='font-family:宋体'>补全命令</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>b．</span><span style='font-family:宋体'>显示相似命令</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>c．<span style='font:7.0pt "Times New Roman"'> </span></span><span
style='font-family:宋体'>补全目录或文件</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>附：</span><span lang=EN-US>C</span><span
style='font-family:宋体'>语言</span><span class=1Char><span style='font-size:16.0pt;
line-height:173%;font-family:宋体;font-weight:normal'>输</span></span><span
style='font-family:宋体'>入输出</span></h2>

<h3><strong><span lang=EN-US>printf</span></strong></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>只能写标准输出中输出的字符串</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3><strong><span lang=EN-US>fprintf</span></strong></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>可以写任意文件中输出的字符串</span></p>

<p class=MsoNormal><span style='font-family:宋体'>【注】在</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>中一切皆文件</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>a．<span style='font:7.0pt "Times New Roman"'> </span></span><span
lang=EN-US>stdin&nbsp; </span><span style='font-family:宋体'>——标准输入</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>b．</span><span lang=EN-US>stdout </span><span style='font-family:
宋体'>——标准输出</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
style='font-family:宋体'>将数据存入缓冲区，待缓冲区满或遇到换行字符或程序结束时，才向输出设备上输出内容</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>c．<span style='font:7.0pt "Times New Roman"'> </span></span><span
lang=EN-US>stderr </span><span style='font-family:宋体'>——标准错误输出（不经过缓冲区直接输出）</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
style='font-family:宋体'>例：</span><span lang=EN-US>fprintf(stdout, “Hello”);</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h3><strong><span style='font-family:宋体'>返回值</span></strong><strong><span
lang=EN-US>return</span></strong></h3>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>a．<span style='font:7.0pt "Times New Roman"'> </span></span><span
lang=EN-US>return EXIT_SUCCESS;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>EXIT_SUCCESS</span><span style='font-family:宋体'>宏定义在</span><span
lang=EN-US>stdlib.h</span><span style='font-family:宋体'>文件中，宏值为</span><span
lang=EN-US>0</span><span style='font-family:宋体'>，表示程序运行成功并退出</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>b．</span><span lang=EN-US>return EXIT_FAILURE;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>EXIT_FAILURE</span><span style='font-family:宋体'>宏定义在</span><span
lang=EN-US>stdlib.h</span><span style='font-family:宋体'>文件中，宏值为</span><span
lang=EN-US>1</span><span style='font-family:宋体'>，表示程序运行失败，并退出</span></p>

<p class=MsoNormal><span style='font-family:宋体'>注：返回值使用宏定义目的在于提高程序的可读性，在</span><span
lang=EN-US>main</span><span style='font-family:宋体'>中使用也可以在调用</span><span
lang=EN-US>exit</span><span style='font-family:宋体'>函数中使用。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void
exit</span><span style='font-family:宋体'>（</span><span lang=EN-US>int status</span><span
style='font-family:宋体'>）结束当前进程，</span><span lang=EN-US>status</span><span
style='font-family:宋体'>形参的值用于程序退出的值，相当于</span><span lang=EN-US>main</span><span
style='font-family:宋体'>函数中的</span><span lang=EN-US>return</span><span
style='font-family:宋体'>值</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><strong><span style='font-family:宋体;font-weight:normal'>异常处理</span></strong></h3>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>assert(0)&nbsp; //</span><span style='font-family:宋体'>如果形参的值为真时，不做任何处理；否则退出程序，并报错</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>例：</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='position:relative;z-index:1'><span style='left:0px;position:absolute;
left:12px;top:-69px;width:527px;height:328px'><img width=527 height=328
src="embedded_linux_notes.files/image001.png"
alt="圆角矩形: #include &lt;stdio.h&gt;&#13;&#10;#include &lt;stdlib.h&gt;&#13;&#10;void fun(void)&#13;&#10;{&#13;&#10;        int n = 0;&#13;&#10;        assert(n!=0);&#13;&#10;        fprintf(stdout, &quot;%d\n&quot;, 5/n);&#13;&#10;}&#13;&#10;int main(int argc, char* argv[])&#13;&#10;{&#13;&#10;        fun();&#13;&#10;        return EXIT_SUCCESS;&#13;&#10;}&#13;&#10;"></span></span><span
style='font-family:宋体'>运行结果：</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US>[root@localhost ~]# gcc a.c </span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US>/tmp/cc37WP4H.o: In function `fun':</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US>a.c:(.text+0x1b): undefined reference to `assert'</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US>collect2:
ld </span><span style='font-family:宋体'>返回</span><span lang=EN-US> 1</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:2;left:0px;
margin-left:46px;margin-top:3px;width:467px;height:358px'><img width=467
height=358 src="embedded_linux_notes.files/image002.png"
alt="圆角矩形: 1 #include &lt;stdio.h&gt;&#13;&#10;  2 #include &lt;stdlib.h&gt;&#13;&#10;  3 &#13;&#10;  4 int main(int argc, char* argv[])&#13;&#10;  5 {&#13;&#10;  6     int n = 0;&#13;&#10;  7 &#13;&#10;  8     while(1)&#13;&#10;  9     {&#13;&#10; 10         sleep(1);&#13;&#10; 11         fprintf(stderr, &quot;\r%02d&quot;, n++);&#13;&#10; 12     }&#13;&#10; 13 &#13;&#10; 14     return EXIT_SUCCESS;&#13;&#10; 15 }&#13;&#10;"></span><span
style='font-family:宋体'>例</span><span lang=EN-US>2</span><span style='font-family:
宋体'>：</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>五、常用命令</span></h1>

<h2><span lang=EN-US>a.&nbsp;&nbsp; </span><span style='font-family:宋体'>开关机命令</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:absolute;z-index:3;left:0px;margin-left:
168px;margin-top:3px;width:12px;height:53px'><img width=12 height=53
src="embedded_linux_notes.files/image003.png"></span><span lang=EN-US
style='color:#00B0F0'>reboot</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US style='color:#00B0F0'>shutdown&nbsp; -r&nbsp; now</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>重启</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US style='color:#00B0F0'>init 6</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:absolute;z-index:4;left:0px;margin-left:
149px;margin-top:8px;width:12px;height:53px'><img width=12 height=53
src="embedded_linux_notes.files/image004.png"></span><span lang=EN-US
style='color:#00B0F0'>shutdown&nbsp; -h&nbsp; 0</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US style='color:#00B0F0'>poweroff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span lang=EN-US>&nbsp;&nbsp;</span><span style='font-family:宋体'>关机</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US style='color:#00B0F0'>init 3</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>7.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:absolute;z-index:5;left:0px;margin-left:
100px;margin-top:14px;width:12px;height:27px'><img width=12 height=27
src="embedded_linux_notes.files/image005.png"></span><span lang=EN-US
style='color:#00B0F0'>logout&nbsp;&nbsp;&nbsp; </span><span lang=EN-US>&nbsp;&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>8.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US style='color:#00B0F0'>exit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span lang=EN-US>&nbsp;&nbsp;</span><span style='font-family:宋体'>退出登录（终端下）</span></p>

<h2><span lang=EN-US>b.&nbsp;&nbsp; </span><span style='font-family:宋体'>文件操作命令</span></h2>

<h3><span lang=EN-US>1.pwd</span></h3>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>功能：显示当前工作目录的绝对路径</span></p>

<h3><span lang=EN-US>2.ls</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：显示文件和目录列表</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>ls&nbsp; [</span><span style='font-family:
宋体;color:#00B0F0'>参数列表</span><span lang=EN-US style='color:#00B0F0'>]&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>文件或目录名称列表</span><span lang=EN-US
style='color:#00B0F0'>]</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US> -a&nbsp; </span><span style='font-family:宋体'>显示所有文件包括隐藏文件（文件名以</span><span
lang=EN-US>.</span><span style='font-family:宋体'>开始的文件）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -l&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>以长格式显示文件完整信息</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -h&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>以适当单位显示文件大小（必须与</span><span lang=EN-US>-l</span><span
style='font-family:宋体'>配合）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -R&nbsp;&nbsp; </span><span
style='font-family:宋体'>递归显示目录中的所有文件</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -i&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>显示文件的</span><span lang=EN-US>i</span><span
style='font-family:宋体'>节点的值</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><b><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><b><span
style='font-family:宋体'>节点：每个文件系统会对磁盘上的文件进行编号，这个号码在当前文件系统中是唯一的</span></b></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>【注】中括号——可选项</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
</span><span style='font-family:宋体'>尖括号——必选</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
style='font-family:宋体'>列表用空格分隔，不特殊说明，次序不限</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>【附】提示符：</span><span
lang=EN-US>$PS1&nbsp; </span><span style='font-family:宋体'>用于定义</span><span
lang=EN-US>shell</span><span style='font-family:宋体'>提示符，显示内容与颜色</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>例：</span><span lang=EN-US style='color:#00B0F0'>echo&nbsp;
$PS1</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \u
: </span><span style='font-family:宋体'>当前用户</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \h
: </span><span style='font-family:宋体'>当前主机</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='position:absolute;
z-index:6;left:0px;margin-left:261px;margin-top:13px;width:12px;height:41px'><img
width=12 height=41 src="embedded_linux_notes.files/image006.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \w:
</span><span style='font-family:宋体'>当前工作目录</span><span lang=EN-US>&nbsp; # </span><span
style='font-family:宋体'>超级用户</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \$
: </span><span style='font-family:宋体'>提示符类型</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $
</span><span style='font-family:宋体'>普通用户</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
\A</span><span style='font-family:宋体'>：</span><span lang=EN-US>24</span><span
style='font-family:宋体'>小时格式显示</span><span lang=EN-US>HH:MM</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>我的设置：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='position:absolute;
z-index:82;left:0px;margin-left:374px;margin-top:17px;width:39px;height:22px'><img
width=39 height=22 src="embedded_linux_notes.files/image007.png"></span><span
lang=EN-US style='font-size:10.0pt'>PS1=&quot;<span style='background:yellow'>\[\e[36m\]</span>\A
<span style='background:yellow'>\[\e[32m\]</span>[\u<span style='background:
yellow'>\[\e[31m\]</span>@<span style='background:yellow'>\[\e[33m\]</span>\h <span
style='background:yellow'>\[\e[32m\]</span>\W]<u><span style='color:red'>\</span></u>
\[\e[31m\]\$\[\e[0m\<span style='background:yellow'>]</span>&quot;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US
style='font-size:10.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-size:10.0pt;font-family:宋体'>命令过长时用于换行</span><span
lang=EN-US style='font-size:10.0pt'>&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>显示效果：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><img width=264
height=21 src="embedded_linux_notes.files/image008.png"></span></p>

<p class=MsoNormal><b><span lang=EN-US>ls</span></b><b><span style='font-family:
宋体'>长格式显示说明：</span></b></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>第一列：文件权限及类型说明</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:66.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=41 valign=top style='width:30.8pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>1</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2&nbsp; 3&nbsp; 4</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>5&nbsp; 6&nbsp; 7</span></p>
  </td>
  <td width=85 valign=top style='width:63.8pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>8 &nbsp;9&nbsp; 10</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-size:10.5pt;
font-family:宋体'>文件类型</span><span lang=EN-US style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
</span><span style='font-size:10.5pt;font-family:宋体'>所有者权限</span><span
style='font-size:10.5pt'> &nbsp;</span><span style='font-size:10.5pt;
font-family:宋体'>所属者权限</span><span lang=EN-US style='font-size:10.5pt'>&nbsp; </span><span
style='font-size:10.5pt;font-family:宋体'>其他人权限</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:10.5pt'>&nbsp; [&nbsp;&nbsp; - </span><span style='font-size:
10.5pt;font-family:宋体'>普通文件</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; d </span><span
style='font-size:10.5pt;font-family:宋体'>目录</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; l&nbsp;&nbsp; </span><span
style='font-size:10.5pt;font-family:宋体'>符号链接（软链接）</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; p&nbsp; </span><span
style='font-size:10.5pt;font-family:宋体'>管道文件</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; c&nbsp; </span><span
style='font-size:10.5pt;font-family:宋体'>字符设备文件——顺序读写</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; b&nbsp; </span><span
style='font-size:10.5pt;font-family:宋体'>块设备文件——随机读写（意义：统一设备访问接口，除特殊设备（网卡））</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; s&nbsp; </span><span
style='font-size:10.5pt;font-family:宋体'>套接字文件</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-size:10.5pt;font-family:宋体'>文件颜色</span></b></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>黑色</span></b><span style='font-family:宋体'>——普通文件</span> <span
lang=EN-US> </span><b><span style='font-family:宋体;color:#4BACC6'>蓝</span></b><span
style='font-family:宋体'>——目录</span><span lang=EN-US> &nbsp; </span><b><span
style='font-family:宋体;color:yellow'>黄</span></b><span style='font-family:宋体'>——设备</span>
<b>&nbsp;</b><b><span style='font-family:宋体;color:#92CDDC'>浅蓝</span></b><span
style='font-family:宋体'>——符号链接</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体;color:red'>红</span></b><span style='font-family:宋体'>——压缩文件</span>
<b><span style='font-family:宋体;color:#00B050'>绿</span></b><span
style='font-family:宋体'>——可执行文件</span><span lang=EN-US> </span><b><span
style='font-family:宋体;color:#FF0066'>红闪</span></b><span style='font-family:
宋体'>——丢失目标的符号链接</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体;color:#7030A0'>紫</span></b><span style='font-family:宋体'>——套接字</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp; </span><b><span style='font-family:宋体;color:#E36C0A'>棕</span></b><span
style='font-family:宋体'>——管道文件</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>第二列：硬连接数（一个文件有几个文件名，而它的</span><span lang=EN-US>i</span><span
style='font-family:宋体'>节点号相同）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>第三、四列：文件大小（空目录大小</span><span lang=EN-US>4096</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：设备文件表示主次设备号，设备号相同，表示使用相同的驱动程序，次设备号，表示不同的子设备</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>第五列：文件时间</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctime&nbsp;&nbsp;
</span><span style='font-family:宋体'>创建时间</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; atime&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>最后访问</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mtime&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>最后修改</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：</span><span
lang=EN-US style='color:#00B0F0'>alias&nbsp; ll=’ls -l’&nbsp; </span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;(</span><span style='font-family:宋体'>临时修改命令别名</span><span
lang=EN-US>)</span></p>

<h3><span lang=EN-US>3.cd</span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>功能：改变工作目录</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>cd&nbsp; [</span><span style='font-family:
宋体;color:#00B0F0'>目标目录</span><span lang=EN-US style='color:#00B0F0'>]</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>示例：</span><span
lang=EN-US style='color:#00B0F0'>cd &nbsp;- </span><span lang=EN-US>&nbsp;</span><span
style='font-family:宋体'>（回到上一次所在工作目录）</span></p>

<h3><span lang=EN-US>4.mkdir</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：创建目录</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US>m<span style='color:#00B0F0'>kdir&nbsp; [</span></span><span
style='font-family:宋体;color:#00B0F0'>参数</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp; [</span><span style='font-family:宋体;color:#00B0F0'>目录列表</span><span
lang=EN-US style='color:#00B0F0'>]</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US>-p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>递归创建</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>5.touch</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：修改文件时间或创建一个空文件</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>touch&nbsp; [</span><span style='font-family:
宋体;color:#00B0F0'>文件列表</span><span lang=EN-US style='color:#00B0F0'>]</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>注：如果文件存在用来修改或目录的时间（当前系统时间），否则创建一</span></p>

<p class=MsoNormal><span style='font-family:宋体'>空的普通文件</span></p>

<h3><span lang=EN-US>6.rm</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：删除文件或目录</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>rm&nbsp;&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>参数</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp; [</span><span style='font-family:
宋体;color:#00B0F0'>文件或目录列表</span><span lang=EN-US style='color:#00B0F0'>]</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>参数：</span>
<span lang=EN-US>-r&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>删除目录时加此参数</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -i&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>每删除一个文件或目录时提醒</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -f&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>删除前不提醒</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>注：</span><span
lang=EN-US>rm</span><span style='font-family:宋体'>命令默认情况下，不提示，直接删除，所以在很多操作系统上位</span><span
lang=EN-US>rm</span></p>

<p class=MsoNormal><span style='font-family:宋体'>命令起别名：</span><span lang=EN-US
style='color:#00B0F0'>alias rm=’rm -i’</span></p>

<h3><span lang=EN-US>7.mv</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：文件目录移动或更目</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>mv&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>参数</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#00B0F0'>源文件或目录</span><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>目标文件或目录</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US>-f&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>覆盖前不提醒（强制删除</span><span lang=EN-US>force</span><span style='font-family:
宋体'>）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>注：目标文件或目录，存在——移动；不存在——更名</span></p>

<h3><span lang=EN-US>8.cp</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：复制文件或目录</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>cp&nbsp;&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>参数</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#00B0F0'>源文件或目录列表</span><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>目标文件或目录</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US> -r&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>复制目录，默认只复制文件不复制目录</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -f&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>覆盖前不提醒</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>不改变文件的权限和属性</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：如果文件已存在，覆盖时保持原有权限属性不变</span></p>

<h3><span lang=EN-US>9.ln</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：创建链接文件</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>ln&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>参数</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#00B0F0'>源文件或目录</span><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>链接文件名</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US>-s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>创建软连接（符号链接）文件</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>注：默认情况下。</span><span
lang=EN-US>ln</span><span style='font-family:宋体'>创建硬连接文件</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>10.cat</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：查看文件</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>cat&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>参数</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#00B0F0'>文件名</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US> -n&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>显示行号</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -b&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>空行不显示行号</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -s&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>连续多个空行，只显示一个空行</span></p>

<h3><span lang=EN-US>11.more</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：分页显示文件</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>用空格翻页，</span><span lang=EN-US>q</span><span
style='font-family:宋体'>退出</span></p>

<h3><span lang=EN-US>12.less</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：同</span><span
lang=EN-US>more</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>用</span><span
lang=EN-US>&lt;pageup/down&gt;</span><span style='font-family:宋体'>翻页，</span><span
lang=EN-US>q</span><span style='font-family:宋体'>退出</span></p>

<h3><span lang=EN-US>13.tail</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：显示文件尾部内容</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>tail&nbsp;&nbsp;&nbsp; [-n&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>行号</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体;color:#00B0F0'>文件名</span></p>

<h3><span lang=EN-US>14.head</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：显示文件首部内容，使用同</span><span
lang=EN-US>tail</span></p>

<h2><span lang=EN-US>c.&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>查找相关</span></h2>

<h3><span lang=EN-US>1.find</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：文件查找</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>find&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>起始路径</span><span lang=EN-US
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp; -name&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>文件名</span><span lang=EN-US
style='color:#00B0F0'>&nbsp; [-ls]</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>说明：基于文件名查找，</span><span
lang=EN-US>[-ls]</span><span style='font-family:宋体'>用于长格式显示查找结果</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>注：文件名中可以使用通配符</span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
lang=EN-US>*</span><span style='font-family:宋体'>可以通配任意个任意字符</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
style='font-family:宋体'>？可以通配一个任意字符</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>2.grep</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：基于文件内容查找</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>grep&nbsp;&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>参数</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#00B0F0'>查找内容</span><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>起始路径或文件名</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US>&nbsp;&nbsp; -n&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>显示行号</span></p>

<p class=MsoNormal style='margin-left:60.0pt;text-indent:3.0pt'><span
lang=EN-US>-r&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>递归查找</span></p>

<p class=MsoNormal style='margin-left:60.0pt;text-indent:3.0pt'><span
lang=EN-US>-i&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>忽略大小写</span></p>

<h3><span lang=EN-US>3.updatedb</span><span style='font-family:宋体'>与</span><span
lang=EN-US>locate&nbsp;&nbsp;&nbsp;&nbsp; </span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：基于数据库进行查找</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span> <span style='font-family:宋体'>创建数据库（整个磁盘文件名数据库）</span>
<span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;updated</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>查找</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>locate&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;color:#00B0F0'>部分或全部文件名</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：在更新数据库后的文件改变无法查找</span></p>

<h3><span lang=EN-US>4.which</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：命令或命令别名查找</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>which&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>命令或命令别名</span></p>

<h2><span lang=EN-US>d.&nbsp;&nbsp; </span><span style='font-family:宋体'>用户相关</span></h2>

<h3><span lang=EN-US>1.group</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：添加组</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>group&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>组名</span><span lang=EN-US
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-g  </span><span
style='font-family:宋体;color:#00B0F0'>组</span><span lang=EN-US style='color:
#00B0F0'>ID]</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>注：系统会为用户和组进行编号，小于</span><span
lang=EN-US>500</span><span style='font-family:宋体'>的为系统用户或系统组，默认情</span></p>

<p class=MsoNormal><span style='font-family:宋体'>况下新添加的组和用户的</span><span
lang=EN-US>ID</span><span style='font-family:宋体'>由</span><span lang=EN-US>500</span><span
style='font-family:宋体'>开始</span></p>

<h3><span lang=EN-US>2.useradd </span><span style='font-family:宋体'>或</span><span
lang=EN-US>adduser</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：添加用户</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>useradd&nbsp;&nbsp;&nbsp; [-g&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>组名</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp;&nbsp; [-d&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>家目录</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>用户名</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US>&nbsp;&nbsp; -g</span><span style='font-family:宋体'>——省略</span></p>

<p class=MsoListParagraph style='margin-left:126.0pt;text-indent:-126.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>先创建与用户名相同的组</span></p>

<p class=MsoListParagraph style='margin-left:126.0pt;text-indent:-126.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>创建用户并添加到此组</span></p>

<p class=MsoNormal style='margin-left:63.0pt'><span lang=EN-US>-d</span><span
style='font-family:宋体'>——省略</span><span lang=EN-US>&nbsp; &nbsp; </span><span
style='font-family:宋体'>创建家目录</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; /home/</span><span
style='font-family:宋体'>用户名</span></p>

<h3><span lang=EN-US>3.userdel</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：删除用户</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US style='color:#00B0F0'>userdel&nbsp;&nbsp;&nbsp;&nbsp; [-d]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>用户名</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>-d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>删除用户的同时删除其家目录</span></p>

<h3><span lang=EN-US>4.group</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：删除组</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>group&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>组名</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>注：必须是空组才能删除</span></p>

<h3><span lang=EN-US>5.passwd</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：修改用户密码</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US style='color:#00B0F0'>passwd&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>用户名</span><span lang=EN-US
style='color:#00B0F0'>]</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：不加用户名，修改当前用户密码；否则，修改指定用户密码，但仅限超级用户</span></p>

<h3><span lang=EN-US>6.su</span><span style='font-family:宋体'>与</span><span
lang=EN-US>exit</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：用于切换用户</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：切换</span><span
lang=EN-US>&nbsp; <span style='color:#00B0F0'>su &nbsp; [-]&nbsp;&nbsp; [</span></span><span
style='font-family:宋体;color:#00B0F0'>目标用户</span><span lang=EN-US
style='color:#00B0F0'>]</span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:3.0pt'><span
style='font-family:宋体'>参数：</span><span lang=EN-US>&nbsp; - </span><span
style='font-family:宋体'>——不写，只切换用户不改变环境设置</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>省略目标用户——相当于</span><span lang=EN-US>root</span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:3.0pt'><span
style='position:absolute;z-index:7;left:0px;margin-left:121px;margin-top:10px;
width:11px;height:27px'><img width=11 height=27
src="embedded_linux_notes.files/image009.png"></span><span style='font-family:
宋体'>示例：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; su&nbsp;
linfeng&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>$PATH (root)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; root
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; su&nbsp;&nbsp;&nbsp; -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; linfeng&nbsp;&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>$PATH(linfeng)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>返回原用户</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>exit</span></span></p>

<h2><span lang=EN-US>e.&nbsp;&nbsp; </span><span style='font-family:宋体'>文件权限相关</span></h2>

<h3><span lang=EN-US>1.chgrp</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：改变文件所属组</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US style='color:#00B0F0'>chgrp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>组名</span><span lang=EN-US
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>文件或目录名列表</span><span lang=EN-US
style='color:#00B0F0'>&nbsp;&nbsp; [</span><span style='font-family:宋体;
color:#00B0F0'>参数</span><span lang=EN-US style='color:#00B0F0'>]</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>-R&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>递归修改</span></p>

<h3><span lang=EN-US>2.chown</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：改变文件或目录的所有者和所属组</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US style='color:#00B0F0'>chown&nbsp;&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>参数</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#00B0F0'>所有者</span><span lang=EN-US style='color:#00B0F0'>.</span><span
style='font-family:宋体;color:#00B0F0'>所属组</span><span lang=EN-US
style='color:#00B0F0'>&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#00B0F0'>文件或目录列表</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>-R&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>说明：</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>所有者</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>只修改所有者</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>所有者</span><span lang=EN-US>.</span><span
style='font-family:宋体'>所属组</span><span lang=EN-US>&nbsp;&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>两者都修改</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .</span><span
style='font-family:宋体'>所属组</span><span lang=EN-US> </span><span
style='font-family:宋体'>——</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>只修改所属组</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>示例：</span><span lang=EN-US style='color:#00B0F0'>chown&nbsp;&nbsp;&nbsp;&nbsp; -R
 linfeng.embedded&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a.c</span></p>

<h3><span lang=EN-US>3.chmod</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：改变文件权限</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US style='color:#00B0F0'>chmod&nbsp;&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>参数</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#00B0F0'>权限表达式</span><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>文件或目录列表</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>-R</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>权限表达式：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:84.0pt;text-indent:-84.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>八进制</span><span lang=EN-US> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; r&nbsp;
w&nbsp; x</span></p>

<p class=MsoListParagraph style='margin-left:147.0pt;text-indent:0cm'><span
lang=EN-US>4&nbsp; 2&nbsp; 1</span></p>

<p class=MsoListParagraph style='margin-left:84.0pt;text-indent:-84.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>组合表达</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:74.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td valign=top style='border:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>所有者</span></p>
  </td>
  <td width=36 valign=top style='width:27.0pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>u</span></p>
  </td>
  <td width=30 rowspan=4 valign=top style='width:22.8pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
  style='color:red'>+</span></p>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
  style='color:red'>&nbsp;</span></p>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
  style='color:red'>-</span></p>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
  style='color:red'>=</span></p>
  </td>
  <td width=47 valign=top style='width:35.45pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>r</span></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:solid black 1.0pt;border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>所属组</span></p>
  </td>
  <td width=36 valign=top style='width:27.0pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>g</span></p>
  </td>
  <td width=47 valign=top style='width:35.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>w</span></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:solid black 1.0pt;border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>其他人</span></p>
  </td>
  <td width=36 valign=top style='width:27.0pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>r</span></p>
  </td>
  <td width=47 valign=top style='width:35.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>x</span></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:solid black 1.0pt;border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>以上三组</span></p>
  </td>
  <td width=36 valign=top style='width:27.0pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>a</span></p>
  </td>
  <td width=47 valign=top style='width:35.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>示例：</span><span lang=EN-US>&nbsp; chmod&nbsp;&nbsp; u+x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; test&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>给</span><span lang=EN-US>test</span><span
style='font-family:宋体'>文件所有者执行权限</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; chmod&nbsp;&nbsp; ug+rw&nbsp;&nbsp;&nbsp; test</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>附：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; etc/passwd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>该文件存储用户的配置信息</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; etc/group&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>该文件存储用户组配置信息</span></p>

<h2><span lang=EN-US>f.&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>磁盘管理相关</span></h2>

<h3><span lang=EN-US>1.fdisk</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>（</span><span lang=EN-US>1</span><span style='font-family:
宋体'>）分区管理</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fdisk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;color:#00B0F0'>磁盘设备文件名</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
 </span><span style='font-family:宋体'>示例：</span><span lang=EN-US
style='color:#00B0F0'>fdisk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /dev/sda </span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span style='font-family:
宋体'>对</span><span lang=EN-US>/dev/sda</span><span style='font-family:宋体'>磁盘进行分区</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（</span><span lang=EN-US>2</span><span style='font-family:
宋体'>）磁盘设备查看</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fdisk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -l</span></span></p>

<h3><span lang=EN-US>2.mount</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：磁盘设备挂载</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US style='color:#00B0F0'>mount&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-t&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>分类类型</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp; [-o&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>挂载参数列表</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#00B0F0'>设备文件名</span><span lang=EN-US style='color:#00B0F0'> </span><span
style='font-family:宋体;color:#00B0F0'>挂载点</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>分区类型：</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:33.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=65 valign=top style='width:48.85pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>类型</span></p>
  </td>
  <td width=272 valign=top style='width:204.2pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>用途</span></p>
  </td>
  <td width=145 valign=top style='width:108.45pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>备注</span></p>
  </td>
 </tr>
 <tr>
  <td width=65 valign=top style='width:48.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>vfat</span></p>
  </td>
  <td width=272 valign=top style='width:204.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Win</span><span style='font-family:宋体'>下</span><span
  lang=EN-US>fat</span><span style='font-family:宋体'>和</span><span lang=EN-US>fat32</span></p>
  </td>
  <td width=145 rowspan=3 valign=top style='width:108.45pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>通常可省略参数</span><span
  lang=EN-US> -t</span></p>
  </td>
 </tr>
 <tr>
  <td width=65 valign=top style='width:48.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>ext3</span></p>
  </td>
  <td width=272 valign=top style='width:204.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Linux</span></p>
  </td>
 </tr>
 <tr>
  <td width=65 valign=top style='width:48.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>iso9660</span></p>
  </td>
  <td width=272 valign=top style='width:204.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>光盘</span></p>
  </td>
 </tr>
 <tr>
  <td width=65 valign=top style='width:48.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>smbfs</span></p>
  </td>
  <td width=272 valign=top style='width:204.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Win</span><span style='font-family:宋体'>下网络邻居共享目录，</span><span
  lang=EN-US>Linux</span><span style='font-family:宋体'>对应</span><span
  lang=EN-US>samba</span><span style='font-family:宋体'>文件系统</span></p>
  </td>
  <td width=145 valign=top style='width:108.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=65 valign=top style='width:48.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>nfs</span></p>
  </td>
  <td width=272 valign=top style='width:204.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Network file system</span></p>
  </td>
  <td width=145 valign=top style='width:108.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=65 valign=top style='width:48.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>yaffs</span></p>
  </td>
  <td width=272 valign=top style='width:204.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>嵌入式设备，可读写文件系统</span></p>
  </td>
  <td width=145 valign=top style='width:108.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=65 valign=top style='width:48.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>ntfs</span></p>
  </td>
  <td width=272 valign=top style='width:204.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Win</span><span style='font-family:宋体'>下</span><span
  lang=EN-US>ntfs</span></p>
  </td>
  <td width=145 valign=top style='width:108.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>挂载参数：</span><span lang=EN-US> ro&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>只读</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rw&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>读写</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>指定挂载点组</span><span lang=EN-US>ID</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>指定挂载点用户</span><span lang=EN-US>ID</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mode=xxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>指定挂载点权限</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iocharset=cp936&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（字符设备乱码问题）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：在</span><span
lang=EN-US>UNIX</span><span style='font-family:宋体'>族操作系统上，将存储设备与目录进行关联的操作称为<b>挂载</b>，被关联的目录称为<b>挂载点。</b></span></p>

<h3><span lang=EN-US>3.umount</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：卸载</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US style='color:#00B0F0'>umount&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>挂载点或设备文件名</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：</span><span lang=EN-US>device a busy </span><span
style='font-family:宋体'>的原因</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>此设备正在使用</span></p>

<h3><span lang=EN-US>4.df</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：文件系统查看</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>df&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>参数</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp; [</span><span style='font-family:
宋体;color:#00B0F0'>分区设备文件名或挂载点</span><span lang=EN-US style='color:#00B0F0'>]</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US>-h&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>以适当单位显示大小</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>示例：</span><span
lang=EN-US style='color:#00B0F0'>df&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -h&nbsp;&nbsp;&nbsp; /dev/sda1</span></p>

<h3><span lang=EN-US>5.du</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：查看目录使用情况</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>du&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体;color:#00B0F0'>参数</span><span lang=EN-US
style='color:#00B0F0'>]&nbsp;&nbsp;&nbsp; [</span><span style='font-family:
宋体;color:#00B0F0'>目录名</span><span lang=EN-US style='color:#00B0F0'>]</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US>&nbsp;&nbsp; -s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>只显示总计使用情况</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -h&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>同上</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>示例：</span><span
lang=EN-US style='color:#00B0F0'>du&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -sh&nbsp; /mnt/usb</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>f．<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>系统管理</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></h2>

<h3><span lang=EN-US>1.env</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：查看系统环境变量</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>变量格式：</span><span lang=EN-US> </span><span
style='font-family:宋体'>变量</span><span lang=EN-US>=</span><span
style='font-family:宋体'>值</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>常见变量：</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:55.05pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=211 valign=top style='width:158.0pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>HOSTNAME</span></p>
  </td>
  <td width=224 valign=top style='width:168.0pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>当前主机名</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:158.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>SHELL</span></p>
  </td>
  <td width=224 valign=top style='width:168.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>当前</span><span lang=EN-US>shell</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:158.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>HISTSIZE</span></p>
  </td>
  <td width=224 valign=top style='width:168.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>历史命令记录数量</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:158.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>USER</span></p>
  </td>
  <td width=224 valign=top style='width:168.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>当前用户名</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:158.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>LS_COLORS</span></p>
  </td>
  <td width=224 valign=top style='width:168.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>指定</span><span lang=EN-US>ls</span><span
  style='font-family:宋体'>显示不同文件的颜色</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:158.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>PATH</span></p>
  </td>
  <td width=224 valign=top style='width:168.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>命令路径</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:158.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>PWD</span></p>
  </td>
  <td width=224 valign=top style='width:168.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>当前路径</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:158.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>LANG</span></p>
  </td>
  <td width=224 valign=top style='width:168.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>当前语言类型</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:158.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>HOME</span></p>
  </td>
  <td width=224 valign=top style='width:168.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>家目录</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:158.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>LOGNAME</span></p>
  </td>
  <td width=224 valign=top style='width:168.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>登录用户名</span></p>
  </td>
 </tr>
 <tr>
  <td width=211 valign=top style='width:158.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>OLDPWD</span></p>
  </td>
  <td width=224 valign=top style='width:168.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>上一次所在工作目录</span></p>
  </td>
 </tr>
</table>

<h3><span lang=EN-US>2.date</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：查看和修改系统时间</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>（</span><span lang=EN-US>1</span><span style='font-family:
宋体'>）查看</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>date</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（</span><span lang=EN-US>2</span><span style='font-family:
宋体'>）修改</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MMDDHHmm[[cc]YY][.SS]</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>月</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>日</span> <span style='font-family:宋体'>时</span> <span
style='font-family:宋体'>分</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>年</span><span lang=EN-US>&nbsp;&nbsp; </span><span
style='font-family:宋体'>秒</span></p>

<h3><span lang=EN-US>3.hwclock</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：查看和修改</span><span lang=EN-US>rtc</span><span
style='font-family:宋体'>时钟</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>（</span><span lang=EN-US>1</span><span style='font-family:
宋体'>）查看</span><span lang=EN-US>&nbsp;&nbsp; <span style='color:#00B0F0'>hwclock</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（</span><span lang=EN-US>2</span><span style='font-family:
宋体'>）修改</span><span lang=EN-US>&nbsp;&nbsp; <span style='color:#00B0F0'>hwclock&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -s&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（以</span><span lang=EN-US>rtc</span><span
style='font-family:宋体'>时钟同步系统时钟）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>hwclock&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -h&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（以系统时钟修改</span><span lang=EN-US>rtc</span><span
style='font-family:宋体'>时钟）</span></p>

<h3><span lang=EN-US>4.ifconfig</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：</span><span lang=EN-US>IP</span><span
style='font-family:宋体'>查看与设置</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>（</span><span lang=EN-US>1</span><span style='font-family:
宋体'>）查看</span><span lang=EN-US>&nbsp;&nbsp; <span style='color:#00B0F0'>ifconfig&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [</span></span><span
style='font-family:宋体;color:#00B0F0'>网卡设备名</span><span lang=EN-US
style='color:#00B0F0'>]</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（</span><span lang=EN-US>2</span><span style='font-family:
宋体'>）配置</span><span lang=EN-US>&nbsp;&nbsp; <span style='color:#00B0F0'>ifconfig&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;color:#00B0F0'>网卡设备名</span><span lang=EN-US
style='color:#00B0F0'>  IP</span><span style='font-family:宋体;color:#00B0F0'>地址</span><span
lang=EN-US style='color:#00B0F0'>&nbsp; [netmask(</span><span style='font-family:
宋体;color:#00B0F0'>子网掩码</span><span lang=EN-US style='color:#00B0F0'>)]</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：网卡名</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eth&nbsp; m[n]</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>——物理网卡</span><span lang=EN-US>ID</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>——虚拟网卡编号（一个网卡最多虚拟四个网卡）</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>g．<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>包管理命令</span></h2>

<h3><span lang=EN-US>1.tar</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：打包或解包</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US>&nbsp; 1</span><span
style='font-family:宋体'>）打包</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>tar&nbsp;&nbsp; zcvfj&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;color:#00B0F0'>包文件名</span><span lang=EN-US
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体;color:#00B0F0'>目录</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>&nbsp; z&nbsp;&nbsp;&nbsp;&nbsp; gzip</span><span
style='font-family:宋体'>压缩</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>创建包（必选）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>显示打包过程（可选）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; f&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>打包成文件（必选）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bizip</span><span
style='font-family:宋体'>压缩</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>压缩类型比较：</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:94.7pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=51 valign=top style='width:38.3pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>类型</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>压缩比</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>速度</span></p>
  </td>
  <td width=180 valign=top style='width:134.65pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>扩展名</span></p>
  </td>
 </tr>
 <tr>
  <td width=51 valign=top style='width:38.3pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>bizip</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>大</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>慢</span></p>
  </td>
  <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>.tar .bz2</span></p>
  </td>
 </tr>
 <tr>
  <td width=51 valign=top style='width:38.3pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>gzip</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>小</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>快</span></p>
  </td>
  <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>.tar .gt</span><span style='font-family:
  宋体'>或</span><span lang=EN-US>.tgz&nbsp; .</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）解包</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>tar&nbsp;&nbsp; zxvf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;color:#00B0F0'>包文件名</span><span lang=EN-US
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp; [-C&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>目标目录</span><span lang=EN-US
style='color:#00B0F0'>]</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>&nbsp; x&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>解包</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -C&nbsp;&nbsp; </span><span
style='font-family:宋体'>指定解包路径</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span
style='font-family:宋体'>）查看包</span><span lang=EN-US>&nbsp;&nbsp; <span
style='color:#00B0F0'>tar&nbsp;&nbsp; ztvf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;color:#00B0F0'>包文件名</span></p>

<h3><span lang=EN-US>2.rpm</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：红帽包管理</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>用法：</span><span lang=EN-US>&nbsp; 1</span><span
style='font-family:宋体'>）安装包</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>rpm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -ivhU&nbsp;&nbsp;&nbsp;&nbsp; --nodeps&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rpm</span></span><span
style='font-family:宋体;color:#00B0F0'>包文件名</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>&nbsp; -i&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>安装（</span><span lang=EN-US>install</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -v&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>显示安装过程</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -h&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>显示安装进度</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -U&nbsp;&nbsp; </span><span
style='font-family:宋体'>若包已安装则更新</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --nodeps&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>不检查依赖关系直接安装</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）查看系统已安装了哪些</span><span lang=EN-US>rpm</span><span
style='font-family:宋体'>包</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rpm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -qa</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span
style='font-family:宋体'>）卸载</span><span lang=EN-US>rpm</span><span
style='font-family:宋体'>包</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rpm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -e&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;color:#00B0F0'>包名</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4</span><span
style='font-family:宋体'>）查看已安装文件</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rpm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -ql&nbsp;&nbsp; </span></span><span
style='font-family:宋体;color:#00B0F0'>包名</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US>技</span><span style='font-family:宋体'>：“</span><span lang=EN-US>|</span><span
style='font-family:宋体'>”管道符</span><span lang=EN-US>&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>cmd1 | cmd2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span>&nbsp;</span><span
style='font-family:宋体'>——</span><span lang=EN-US> cmd1</span><span
style='font-family:宋体'>的标准输出将为</span><span lang=EN-US>cmd2</span><span
style='font-family:宋体'>的标准输入</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>附：</span></h2>

<p class=MsoNormal><span style='font-family:宋体'>创建以下目录结构满足学习需要</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>/work/</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|-- C</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|-- C++</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|-- database</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|-- embedded</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|&nbsp;&nbsp;
|-- bootloader</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|&nbsp;&nbsp;
|-- filesystem</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|&nbsp;&nbsp;
|-- kernel</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|&nbsp;&nbsp;
|-- qt</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|&nbsp;&nbsp;
`-- toolchains</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|-- process</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|-- project</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|-- qt</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|-- shell</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|-- signall</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|-- socket</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|&nbsp;&nbsp;
|-- tcp</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|&nbsp;&nbsp;
|&nbsp;&nbsp; |-- client</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|&nbsp;&nbsp;
|&nbsp;&nbsp; `-- server</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|&nbsp;&nbsp;
`-- udp</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>|-- software</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>`-- systemcall</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
|-- base</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
|-- jpegdisplay</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
`-- waveplay</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>遇到问题根据提示解决进行分析</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>1）</span><span style='font-family:宋体'>在哪里产生</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>2）</span><span style='font-family:宋体'>为什么产生</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>3）</span><span style='font-family:宋体'>解决方案</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>4）</span><span style='font-family:宋体'>解决问题（能备份一定要备份，数据无价）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<b><span lang=EN-US style='font-size:15.0pt;line-height:173%;font-family:"Cambria","serif"'><br
clear=all style='page-break-before:always'>
</span></b>

<h2><span lang=EN-US>I.&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>进程相关</span></h2>

<h3><span lang=EN-US>1.ps</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：查看进程</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US>ps&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体'>参数</span><span lang=EN-US>]</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US>&nbsp; a&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>显示所有终端进程</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>显示进程详细信息</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>显示系统进程</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>示例：</span><span
lang=EN-US style='color:#00B0F0'>ps&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aux</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>每列意义：</span><span
lang=EN-US>&nbsp; USER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>进程拥有者</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>进程号</span></p>

<p class=MsoNormal style='margin-left:84.0pt;text-indent:21.0pt'><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：进程号范围</span><span
lang=EN-US>1~65535</span><span style='font-family:宋体'>，每个进程加</span><span
lang=EN-US>1</span><span style='font-family:宋体'>，循环递增使用</span></p>

<p class=MsoNormal style='margin-left:105.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>进程</span><span lang=EN-US>ID</span><span
style='font-family:宋体'>为</span><span lang=EN-US>1</span><span style='font-family:
宋体'>的进程为</span><span lang=EN-US>init</span><span style='font-family:宋体'>进程是系统第一个进程，又称为初始进程，是所有进程的“父”进程，在系统运行过程中其一直驻留内存</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %CPU</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %MEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>内存占用率</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VSZ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>虚拟内存大小</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='position:absolute;
z-index:9;left:0px;margin-left:353px;margin-top:3px;width:12px;height:58px'><img
width=12 height=58 src="embedded_linux_notes.files/image010.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RSS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>物理内存大小</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</span><span style='font-family:宋体'>？</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>不依赖任何终端</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>进程所依赖的终端</span><span lang=EN-US>&nbsp;&nbsp;  ttyn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>占用终端</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;ptsn&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>虚拟终端</span></p>

<p class=MsoNormal style='margin-left:84.0pt;text-indent:21.0pt'><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：在</span><span
lang=EN-US>Linux</span><span style='font-family:宋体'>中所有设备个数标号几乎都从</span><span
lang=EN-US>0</span><span style='font-family:宋体'>开始，因此</span><span lang=EN-US>tty2</span><span
style='font-family:宋体'>将表示第三个终端</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='position:absolute;
z-index:8;left:0px;margin-left:353px;margin-top:4px;width:12px;height:52px'><img
width=12 height=52 src="embedded_linux_notes.files/image011.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
S  </span><span style='font-family:宋体'>休眠</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; STAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>进程运行状态——</span><span lang=EN-US>&nbsp;&nbsp; &nbsp; R&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</span><span style='font-family:宋体'>运行中</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; START&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>启动时间</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
Z  </span><span style='font-family:宋体'>僵尸进程</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>运行时间（实际占用处理器的时间）</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; COMMAND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>启动命令</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>注：</span><span
lang=EN-US style='color:#00B0F0'>pstree</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;
//</span><span style='font-family:宋体'>进程树—以树的方式显示进程说明之间的关系</span></p>

<h3><span lang=EN-US>2.top</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：动态进程查看</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>top</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>命令：</span><span
lang=EN-US>&nbsp;&nbsp; m&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>显示内存统计信息</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; q&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>退出</span></p>

<h3><span lang=EN-US>3.free</span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>功能：显示内存信息</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US>free&nbsp;&nbsp; [</span><span style='font-family:宋体'>参数</span><span
lang=EN-US>]</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US> -g&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -m</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -k</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -b</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：基本单位，默认以</span><span lang=EN-US>k</span><span
style='font-family:宋体'>为单位</span></p>

<h3><span lang=EN-US>4.kill</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：给指定进程发送指定信号</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法</span><span
lang=EN-US>1</span><span style='font-family:宋体'>：查看信号列表</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>kill&nbsp;  -l</span></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:69.2pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=204 valign=top style='width:152.85pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>SIGUP</span></p>
  </td>
  <td width=272 valign=top style='width:204.05pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>挂起</span></p>
  </td>
 </tr>
 <tr>
  <td width=204 valign=top style='width:152.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>SIGINT</span></p>
  </td>
  <td width=272 valign=top style='width:204.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>终端中断信号</span></p>
  </td>
 </tr>
 <tr>
  <td width=204 valign=top style='width:152.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>SIGAPRT</span></p>
  </td>
  <td width=272 valign=top style='width:204.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>程序异常终止</span></p>
  </td>
 </tr>
 <tr>
  <td width=204 valign=top style='width:152.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>SIGFPE</span></p>
  </td>
  <td width=272 valign=top style='width:204.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>浮点数例外</span></p>
  </td>
 </tr>
 <tr>
  <td width=204 valign=top style='width:152.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>SIGKILL</span></p>
  </td>
  <td width=272 valign=top style='width:204.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>进程终止</span></p>
  </td>
 </tr>
 <tr>
  <td width=204 valign=top style='width:152.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>SIGSEGV</span></p>
  </td>
  <td width=272 valign=top style='width:204.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>段错误（内存非法访问，</span><span
  lang=EN-US>win</span><span style='font-family:宋体'>下蓝屏）</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法</span><span
lang=EN-US>2</span><span style='font-family:宋体'>：为进程发送信号</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kill&nbsp; &nbsp; -</span></span><span
style='font-family:宋体;color:#00B0F0'>信号值</span><span lang=EN-US
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#00B0F0'>进程</span><span lang=EN-US style='color:#00B0F0'>ID</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US> </span><span
style='font-family:宋体'>注：信号——在</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>操作系统上用于实现进程间的简单通信</span></p>

<h3><span lang=EN-US>5.killall</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：结束进程（基于进程启动命令）</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>语法：</span><span
lang=EN-US style='color:#00B0F0'>killall&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>进程启动命令</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>示例：</span><span
lang=EN-US style='color:#00B0F0'>killall &nbsp; httpd </span><span lang=EN-US>&nbsp;&nbsp;#daemon</span><span
style='font-family:宋体'>进程守护</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>注：内部实际发送的信号为</span><span
lang=EN-US>SIGKILL</span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:3.0pt'><span
style='font-family:宋体'>注：</span><span lang=EN-US>httpd</span><span
style='font-family:宋体'>网站服务器程序，</span><span lang=EN-US>IIS</span><span
style='font-family:宋体'>，</span><span lang=EN-US>apache</span><span
style='font-family:宋体'>（阿帕奇）</span></p>

<h1><span style='font-family:宋体'>六、</span><span lang=EN-US>VI</span><span
style='font-family:宋体'>编辑器</span></h1>

<h2><span lang=EN-US>a.&nbsp;&nbsp; </span><span style='font-family:宋体'>进入与退出</span></h2>

<h3><span lang=EN-US>1.&nbsp;&nbsp; </span><span style='font-family:宋体'>进入</span></h3>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US>Vi&nbsp;&nbsp;  [</span><span style='font-family:宋体'>文件名称</span><span
lang=EN-US>]  [+</span><span style='font-family:宋体'>行号</span><span lang=EN-US>]</span></p>

<h3><span lang=EN-US>2.&nbsp;&nbsp; </span><span style='font-family:宋体'>退出</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :wq&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>保存并退出</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :q&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>退出</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :q!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>不保存退出（强制退出）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :w&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>保存</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :w&nbsp;
</span><span style='font-family:宋体'>文件名</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>另存为</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :w!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>强制保存</span></p>

<h2><span lang=EN-US>b.&nbsp;&nbsp; </span><span style='font-family:宋体'>工作模式</span></h2>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>编辑模式</span> <span style='font-family:宋体'>：功能等同于记事本</span></p>

<p class=MsoNormal><span style='position:relative;z-index:12'><span
style='left:0px;position:absolute;left:97px;top:-2px;width:12px;height:48px'><img
width=12 height=48 src="embedded_linux_notes.files/image012.png"></span></span><span
style='position:relative;z-index:10'><span style='left:0px;position:absolute;
left:70px;top:-1px;width:12px;height:48px'><img width=12 height=48
src="embedded_linux_notes.files/image013.png"></span></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B050'>Ii,Aa,Oo,Ss</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
<span style='color:#00B050'>&lt;ESC&gt;</span></span></p>

<p class=MsoNormal><span style='position:absolute;z-index:11;left:0px;
margin-left:70px;margin-top:17px;width:12px;height:48px'><img width=12
height=48 src="embedded_linux_notes.files/image014.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>命令模式</span> <span style='font-family:宋体'>：对</span><span
lang=EN-US>vi</span><span style='font-family:宋体'>下达简单编辑命令（默认）</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:13;left:0px;
margin-left:97px;margin-top:2px;width:12px;height:43px'><img width=12
height=43 src="embedded_linux_notes.files/image015.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; <span style='color:#00B050'>&lt;ESC&gt;</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B050'>:</span></span><span style='font-family:宋体;color:#00B050'>或</span><span
lang=EN-US style='color:#00B050'>/</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>末行模式</span> <span style='font-family:宋体'>：下达文件操作命令或查找、另存为等相对复杂的操作命令</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='position:absolute;
z-index:14;left:0px;margin-left:65px;margin-top:9px;width:12px;height:25px'><img
width=12 height=25 src="embedded_linux_notes.files/image016.png"></span><span
style='font-family:宋体'>插入</span><span lang=EN-US>&nbsp;&nbsp;  I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>。。。。。行首</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>插入到当前光标前</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='position:absolute;
z-index:15;left:0px;margin-left:65px;margin-top:11px;width:12px;height:23px'><img
width=12 height=23 src="embedded_linux_notes.files/image017.png"></span><span
style='font-family:宋体'>追加</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>。。。。。行尾</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>追加到当前光标后</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='position:absolute;
z-index:16;left:0px;margin-left:65px;margin-top:9px;width:12px;height:25px'><img
width=12 height=25 src="embedded_linux_notes.files/image018.png"></span><span
style='font-family:宋体'>新行</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; O&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>。。。。。。。上。。。。。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>在当前行下新建一行</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:17;left:0px;
margin-left:65px;margin-top:8px;width:12px;height:26px'><img width=12
height=26 src="embedded_linux_notes.files/image019.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>替换</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>。。。。。。。行</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>替换当前字符</span></p>

<h2><span lang=EN-US>c</span><span style='font-family:宋体'>．编辑命令</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>复制</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [n]yy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>复制</span><span lang=EN-US>n</span><span
style='font-family:宋体'>行，复制一行时可省略</span><span lang=EN-US>n</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>剪切</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [n]dd&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>剪切</span><span lang=EN-US>n</span><span
style='font-family:宋体'>行，剪切一行时可省略</span><span lang=EN-US>n</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>粘贴</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>将剪切板内容粘贴到当前行下（可视情况除外）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>撤销</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>撤销编辑操作</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>恢复</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :redo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>恢复已经撤销的操作</span></p>

<h2><span style='position:absolute;z-index:20;margin-left:108px;margin-top:
63px;width:12px;height:28px'><img width=12 height=28
src="embedded_linux_notes.files/image020.png"></span><span style='position:
absolute;z-index:19;margin-left:76px;margin-top:62px;width:12px;height:28px'><img
width=12 height=28 src="embedded_linux_notes.files/image021.png"></span><span
lang=EN-US>d.&nbsp;&nbsp; </span><span style='font-family:宋体'>光标移动</span></h2>

<p class=MsoNormal><span style='position:absolute;z-index:21;left:0px;
margin-left:132px;margin-top:6px;width:35px;height:12px'><img width=35
height=12 src="embedded_linux_notes.files/image022.png"></span><span
style='position:absolute;z-index:18;left:0px;margin-left:29px;margin-top:7px;
width:27px;height:12px'><img width=27 height=12
src="embedded_linux_notes.files/image023.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;pageUp&gt;&nbsp;&nbsp;&nbsp; &lt;pageDown&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
h&nbsp;&nbsp; j&nbsp;&nbsp;&nbsp; k&nbsp;&nbsp; l &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&lt;home&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;end&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; W&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>下一字符首（白空格——空格、制表符、换行）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; w&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>下一单词首（白空格，字符类型不同划分单词）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>下一字符串尾</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>下一单词尾</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>文件首</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; G&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>文件尾</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :</span><span
style='font-family:宋体'>行号</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>调到第几行</span></p>

<h2><span lang=EN-US>e.&nbsp;&nbsp; </span><span style='font-family:宋体'>查找与替换</span></h2>

<h4><span lang=EN-US>1.&nbsp;&nbsp; </span><span style='font-family:宋体'>完全匹配查找</span></h4>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>将光标移动到要查找的单词上</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>按“</span><span lang=EN-US>#</span><span
style='font-family:宋体'>”</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>大写“</span><span lang=EN-US>N</span><span
style='font-family:宋体'>”下一处</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='font-family:宋体'>小写“</span><span lang=EN-US>n</span><span
style='font-family:宋体'>”上一处</span></p>

<h4><span lang=EN-US>2.&nbsp;&nbsp; </span><span style='font-family:宋体'>部分匹配查找</span></h4>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>/</span><span style='font-family:宋体'>字符串</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>大写“</span><span lang=EN-US>N</span><span
style='font-family:宋体'>”下一处</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='font-family:宋体'>小写“</span><span lang=EN-US>n</span><span
style='font-family:宋体'>”上一处</span></p>

<h4><span lang=EN-US>3.&nbsp;&nbsp; </span><span style='font-family:宋体'>替换</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :%s/</span><span
style='font-family:宋体'>原串</span><span lang=EN-US>/</span><span
style='font-family:宋体'>新串</span><span lang=EN-US>[/g]&nbsp; #g</span><span
style='font-family:宋体'>表示全局替换</span></p>

<h2><span lang=EN-US>f</span><span style='font-family:宋体'>．分屏操作</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>水平分屏</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; :split&nbsp;
</span><span style='font-family:宋体'>文件名</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>垂直分屏</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; :vs&nbsp;&nbsp; &nbsp;
</span><span style='font-family:宋体'>文件名</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Ctrl+w&gt;
. W&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>下一屏</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Ctrl+w&gt;
. W&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>上一屏</span></p>

<h2><span lang=EN-US>g</span><span style='font-family:宋体'>．可视</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>主要用于非整行的复制、粘贴、剪切操作</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>将光标移动到可视的开始或结束处，按“</span><span
lang=EN-US>v</span><span style='font-family:宋体'>”</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>通过光标移动命令将光标移动到可视的结束或开始处</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>通过“</span><span lang=EN-US>d</span><span
style='font-family:宋体'>”剪切、“</span><span lang=EN-US>y</span><span
style='font-family:宋体'>”复制</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>通过“</span><span lang=EN-US>p</span><span
style='font-family:宋体'>”可将剪切或复制的可视内容粘贴到光标后</span></p>

<h2><span lang=EN-US>f</span><span style='font-family:宋体'>．</span><span
lang=EN-US>Vi</span><span style='font-family:宋体'>配置</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>行号</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :set
nu</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :set
nonu</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法加亮</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; :syntax
on</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :syntax
off</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>去除查找内容加亮</span><span lang=EN-US>&nbsp;&nbsp; &nbsp;
:nohlsearch</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>设置水平制表符缩进</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :set
ts=n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #n</span><span style='font-family:
宋体'>为缩进量</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>永久配置</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-63.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>修改</span><span lang=EN-US>~/.bashrc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>加入</span><span lang=EN-US>vi=’vim’</span><span
style='font-family:宋体'>的别名命令</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-63.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>编辑</span><span lang=EN-US>vi</span><span
style='font-family:宋体'>配置脚本</span></p>

<p class=MsoListParagraph style='margin-left:84.0pt;text-indent:0cm'><span
lang=EN-US>~/.vimrc</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>七、</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>主要配置文件</span></h1>

<p class=MsoNormal><span style='position:absolute;z-index:29;left:0px;
margin-left:143px;margin-top:38px;width:12px;height:21px'><img width=12
height=21 src="embedded_linux_notes.files/image024.png"></span><span
style='position:absolute;z-index:23;left:0px;margin-left:78px;margin-top:55px;
width:152px;height:39px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=152 height=39 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:23'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal align=center style='text-align:center'><span
    style='font-family:宋体'>加载引导程序</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:22;left:0px;margin-left:101px;
margin-top:1px;width:108px;height:43px'><img width=108 height=43
src="embedded_linux_notes.files/image025.png" alt="圆角矩形: 系统上电"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='margin-left:210.0pt'><span style='position:absolute;
z-index:30;left:0px;margin-left:258px;margin-top:2px;width:20px;height:115px'><img
width=20 height=115 src="embedded_linux_notes.files/image026.png"></span><span
style='font-family:宋体'>作用：加载操作系统内核，负责向内核传递启动参数</span></p>

<p class=MsoNormal style='margin-left:210.0pt'><span style='position:absolute;
z-index:32;left:0px;margin-left:478px;margin-top:11px;width:12px;height:17px'><img
width=12 height=17 src="embedded_linux_notes.files/image027.png"></span><span
style='position:absolute;z-index:31;left:0px;margin-left:347px;margin-top:11px;
width:12px;height:17px'><img width=12 height=17
src="embedded_linux_notes.files/image027.png"></span><span style='font-family:
宋体'>种类：</span><span lang=EN-US>pc&nbsp;&nbsp;&nbsp;&nbsp; grub </span><span
style='font-family:宋体'>嵌入式设备</span><span lang=EN-US> vivi </span><span
style='font-family:宋体'>小</span></p>

<p class=MsoNormal style='margin-left:210.0pt'><span style='position:absolute;
z-index:35;left:0px;margin-left:143px;margin-top:5px;width:12px;height:31px'><img
width=12 height=31 src="embedded_linux_notes.files/image028.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lilo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
u-boot </span></p>

<p class=MsoNormal style='margin-left:210.0pt'><span style='position:absolute;
z-index:24;left:0px;margin-left:101px;margin-top:12px;width:104px;height:38px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=104 height=38 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:24'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span style='font-family:宋体'>加载内核</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='font-family:宋体'>配置文件：</span></p>

<p class=MsoNormal style='margin-left:210.0pt'><span lang=EN-US>/etc/grub.conf(/boot/grub/grub.conf)</span></p>

<p class=MsoNormal style='margin-left:210.0pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=78 height=3></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=140 height=70 src="embedded_linux_notes.files/image029.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
style='position:absolute;z-index:26;left:0px;margin-left:91px;margin-top:62px;
width:127px;height:38px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=127 height=38 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:26'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span style='font-family:宋体'>挂载存储设备</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='font-family:宋体'>——</span><span lang=EN-US> /etc/inittab</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=143 height=7></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=12 height=37 src="embedded_linux_notes.files/image030.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
style='font-family:宋体'>——</span><span lang=EN-US> /etc/fstab</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=143 height=11></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=12 height=60 src="embedded_linux_notes.files/image031.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
style='position:absolute;z-index:33;left:0px;margin-left:251px;margin-top:7px;
width:14px;height:68px'><img width=14 height=68
src="embedded_linux_notes.files/image032.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /etc/sysconfig/network</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
style='position:absolute;z-index:27;left:0px;margin-left:101px;margin-top:6px;
width:107px;height:34px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=107 height=34 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:27'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal align=center style='text-align:center'><span
    style='font-family:宋体'>网络配置</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /etc/sysconfig/network-scripts/ifcfg-xxx</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
style='position:absolute;z-index:39;left:0px;margin-left:143px;margin-top:13px;
width:12px;height:103px'><img width=12 height=103
src="embedded_linux_notes.files/image033.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /etc/resolv.conf</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /etc/hosts</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
style='position:absolute;z-index:34;left:0px;margin-left:251px;margin-top:10px;
width:14px;height:109px'><img width=14 height=109
src="embedded_linux_notes.files/image034.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /etc/profile&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>用户环境（与</span><span lang=EN-US>bash</span><span
style='font-family:宋体'>无关）</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~/.bashrc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>用户环境设置</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
style='position:absolute;z-index:28;left:0px;margin-left:101px;margin-top:9px;
width:94px;height:40px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=94 height=40 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:28'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span style='font-family:宋体'>用户配置</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /etc/bashrc&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>用户环境（</span><span style='font-family:宋体'>针对</span><span
lang=EN-US>bash shell</span><span style='font-family:宋体'>）</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /etc/passwd&nbsp; #</span><span
style='font-family:宋体'>用户设置</span></p>

<p class=MsoNormal style='margin-left:147.0pt;text-indent:27.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /etc/group&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>组设置</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /etc/shadow&nbsp; #</span><span
style='font-family:宋体'>密码设置</span><span lang=EN-US><br clear=all
style='page-break-before:always'>
</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>/etc/grub.conf</span></h2>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>全局变量（顶格）</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>default=</span><span style='font-family:宋体'>值</span><span
lang=EN-US>&nbsp;&nbsp; #</span><span style='font-family:宋体'>用于指定默认引导的操作系统（由</span><span
lang=EN-US>title</span><span style='font-family:宋体'>次序决定其值）</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>timeoutout=</span><span style='font-family:宋体'>值</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp; #</span><span style='font-family:宋体'>默认引导超时时间</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>splashimage=(hd0,0)/grub/splash.xpm.gz&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>背景图</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt'><span lang=EN-US>#</span><span
style='font-family:宋体'>个性制作——</span><span lang=EN-US>320*480 </span><span
style='font-family:宋体'>索引图——保存</span><span lang=EN-US>xpm</span><span
style='font-family:宋体'>格式——</span><span lang=EN-US>gzip</span><span
style='font-family:宋体'>压缩</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt'><span lang=EN-US>#(hd0,0)</span><span
style='font-family:宋体'>表示第一块硬盘的第一分区，相当于</span><span lang=EN-US>/boot/</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>Hiddenmenu&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>隐藏操作系统菜单选项</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>title #</span><span style='font-family:宋体'>菜单项文件</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>password=xxxxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #MD5</span><span
style='font-family:宋体'>密码（</span><span lang=EN-US>128</span><span
style='font-family:宋体'>位）</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>局部变量（一个制表符）</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
lang=EN-US>root </span><span style='font-family:宋体'>用于指定引导分区（内核所在分区，即</span><span
lang=EN-US>/boot</span><span style='font-family:宋体'>文件系统）</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='position:absolute;z-index:42;left:0px;margin-left:367px;margin-top:16px;
width:12px;height:51px'><img width=12 height=51
src="embedded_linux_notes.files/image035.png"></span><span style='position:
absolute;z-index:41;left:0px;margin-left:297px;margin-top:16px;width:12px;
height:29px'><img width=12 height=29
src="embedded_linux_notes.files/image036.png"></span><span style='position:
absolute;z-index:40;left:0px;margin-left:194px;margin-top:16px;width:12px;
height:29px'><img width=12 height=29
src="embedded_linux_notes.files/image036.png"></span><span lang=EN-US>kernel&nbsp;&nbsp;&nbsp; /vmlinuz-2.6.18-308.el5
ro root=<span style='background:yellow'>LABEL</span>=/ rhgb quiet vga=791</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='position:absolute;z-index:43;left:0px;margin-left:443px;margin-top:6px;
width:103px;height:89px'><img width=103 height=89
src="embedded_linux_notes.files/image037.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>用于指定内核引导参数</span></p>

<p class=MsoNormal style='margin-left:84.0pt;text-indent:21.0pt'><span
lang=EN-US>1.</span><span style='font-family:宋体'>内核所在文件</span><span lang=EN-US>2.</span><span
style='font-family:宋体'>以只读方式挂载根分区</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.</span><span
style='font-family:宋体'>用于指定根文件系统的位置</span><span lang=EN-US>[</span><span
style='font-family:宋体;background:yellow'>标签</span><span lang=EN-US>]</span><span
style='font-family:宋体'>（等同于</span><span lang=EN-US>root=/dev/hda3</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4.</span><span
style='font-family:宋体'>启动时不打印任何信息</span></p>

<p class=MsoListParagraph style='margin-left:105.0pt;text-indent:0cm'><span
lang=EN-US>5.</span><span style='font-family:宋体'>用于指定终端显示模式</span></p>

<p class=MsoListParagraph style='margin-left:105.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vga</span><span
style='font-family:宋体'>——</span><span lang=EN-US>frame buffer </span><span
style='font-family:宋体'>模式（以内存作显存，可不用显卡）</span></p>

<p class=MsoListParagraph style='margin-left:105.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>vga</span><span style='font-family:宋体;color:red'>设置代表开启帧缓存模式（解决找不到</span><span
lang=EN-US style='color:red'>fb</span><span style='font-family:宋体;color:red'>设备文件）</span></p>

<p class=MsoListParagraph style='margin-left:105.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 791</span><span
style='font-family:宋体'>——十六进制表示</span><span lang=EN-US>1024*768*16bpps</span><span
style='font-family:宋体'>（</span><span lang=EN-US>16</span><span
style='font-family:宋体'>表示十六位色，屏幕上一点，占两个字节用来放三原色，</span><span lang=EN-US>rgb565</span><span
style='font-family:宋体'>）</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:293.25pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=28 valign=top style='width:20.8pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>5<span style='color:red'>r</span></span></p>
  </td>
  <td width=30 valign=top style='width:22.8pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>6<span style='color:#00B050'>g</span></span></p>
  </td>
  <td width=30 valign=top style='width:22.8pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>5<span style='color:#00B0F0'>b</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; initrd&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>系统启动镜像文件</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:red'>chainloader&nbsp; +1&nbsp; #</span></span><span
style='font-family:宋体;color:red'>工具链</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>注：</span></b></p>

<p class=MsoNormal><b><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><b><span
style='font-family:宋体'>注：</span></b><span style='font-family:宋体'>生成</span><span
lang=EN-US>MD5</span><span style='font-family:宋体'>密码命令</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>[root@linfeng ~]# grub-md5-crypt </span></span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=2 height=6></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=561 height=308 src="embedded_linux_notes.files/image038.png"
  alt="圆角矩形: sudo apt-get install hwinfo&#13;&#10;安装完成后&#13;&#10;sudo hwinfo --framebuffer &#13;&#10;结果就可以看到：&#13;&#10;Mode 0x0300: 640x400 (+640), 8 bits&#13;&#10;Mode 0x0301: 640x480 (+640), 8 bits&#13;&#10;Mode 0x0303: 800x600 (+800), 8 bits&#13;&#10;Mode 0x0305: 1024x768 (+1024), 8 bits&#13;&#10;Mode 0x0307: 1280x1024 (+1280), 8 bits&#13;&#10;Mode 0x0311: 640x480 (+1280), 16 bits&#13;&#10;Mode 0x0312: 640x480 (+2560), 24 bits&#13;&#10;http://forum.ubuntu.org.cn/viewtopic.php?t=236915&#13;&#10;"></td>
 </tr>
</table>

<span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<br clear=ALL>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>/etc/inittab </span></h2>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>格式：</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体;color:#0070C0'>标号</span><span lang=EN-US
style='color:#0070C0'>:</span></b><b><span style='font-family:宋体;color:#0070C0'>运行级别</span><span
lang=EN-US style='color:#0070C0'>:</span></b><b><span style='font-family:宋体;
color:#0070C0'>动作</span><span lang=EN-US style='color:#0070C0'>:</span></b><b><span
style='font-family:宋体;color:#0070C0'>命令</span></b></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>自定义（</span><span lang=EN-US>2~3</span><span
style='font-family:宋体'>个字符）</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>0~6</span><span style='font-family:宋体'>之间，</span><span
lang=EN-US>0</span><span style='font-family:宋体'>项或多项，表示此配置项在哪个初始化级别下生效，不写表示所有级别均生效</span></p>

<p class=MsoListParagraph style='margin-left:126.0pt;text-indent:0cm'><span
style='position:absolute;z-index:44;left:0px;margin-left:148px;margin-top:9px;
width:12px;height:49px'><img width=12 height=49
src="embedded_linux_notes.files/image039.png"></span><span lang=EN-US>initdefault&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>指定系统默认初始级别</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>默认</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sysinit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>指定系统初始化脚本</span><span lang=EN-US>(</span><span
style='font-family:宋体'>系统参数、环境变量）</span></p>

<p class=MsoNormal align=left style='margin-left:105.0pt;text-align:left;
text-indent:21.0pt'><span lang=EN-US>wait&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>等待该项执行完毕后，再执行其他配置项</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>/etc/fstab</span></h2>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>格式：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='position:absolute;
z-index:45;left:0px;margin-left:513px;margin-top:18px;width:12px;height:60px'><img
width=12 height=60 src="embedded_linux_notes.files/image040.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体;color:#0070C0'>设备文件名</span><span lang=EN-US
style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><b><span
style='font-family:宋体;color:#0070C0'>挂载点</span><span lang=EN-US
style='color:#0070C0'> </span></b><b><span style='font-family:宋体;color:#0070C0'>文件系统</span><span
lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp; </span></b><b><span
style='font-family:宋体;color:#0070C0'>挂载参数</span><span style='color:#0070C0'> </span></b><b><span
style='font-family:宋体;color:#0070C0'>开机是否磁盘检测</span><span style='color:#0070C0'>
</span></b><b><span style='font-family:宋体;color:#0070C0'>挂载次序</span></b></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>前四项参考</span><span
lang=EN-US>mount&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>——检测</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0</span><span
style='font-family:宋体'>——不检查</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><u><span
style='font-family:宋体'>由</span><span lang=EN-US>1~n</span></u><u><span
style='font-family:宋体'>逐次挂载。</span><span lang=EN-US>0</span></u><u><span
style='font-family:宋体'>最后挂载</span></u><span style='font-family:宋体'>，</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><b><span style='font-family:宋体'>注</span></b><span
style='font-family:宋体'>：如果在文件中出现的存储设备，挂载时仅需指定设备文件或挂载点即可。</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>例如：</span><span
lang=EN-US>fatab</span><span style='font-family:宋体'>中有一行</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /dev/cdrom&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /media&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iso9660&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defualts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 0</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>挂载此设备时，仅需执行</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style='color:#00B0F0'>mount&nbsp;&nbsp;&nbsp; /dev/cdrom</span></span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mount&nbsp;&nbsp;&nbsp; /media</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>/etc/sysconfig/network</span></h2>

<p class=MsoNormal style='margin-left:33.0pt'><span lang=EN-US>NETWORKING=yes/no&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>系统启动时是否开启</span><span lang=EN-US>IPV4</span><span
style='font-family:宋体'>网络支持</span></p>

<p class=MsoNormal style='margin-left:33.0pt'><span lang=EN-US>HOSTNAME=xx.xx.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>当前主机名称（全名）</span></p>

<p class=MsoNormal style='margin-left:33.0pt'><span lang=EN-US>GATEWAY=xx.xx.xx.xx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>网关</span><span lang=EN-US>IP</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：网络是否启动与网关地址配置，重启网络后生效</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
style='font-family:宋体'>主机名配置重启系统后生效</span></p>

<p class=MsoNormal><span style='font-family:宋体'>重启网络方法：</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:46;left:0px;
margin-left:230px;margin-top:10px;width:12px;height:69px'><img width=12
height=69 src="embedded_linux_notes.files/image041.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>service&nbsp;&nbsp; network &nbsp; restart&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=MsoNormal><span lang=EN-US>Linux</span><span style='font-family:宋体'>下服务管理命令</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
<span style='color:#00B0F0'>start</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>服务名</span><span lang=EN-US> &nbsp; <span
style='color:#00B0F0'>stop</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（见</span><span lang=EN-US style='color:#00B0F0'>ntsysv</span><span
style='font-family:宋体'>）</span> <span lang=EN-US style='color:#00B0F0'>status </span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span style='font-family:
宋体'>状态</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US
style='line-height:173%;font-weight:normal'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:absolute;z-index:47;left:0px;margin-left:
301px;margin-top:43px;width:75px;height:43px'><img width=75 height=43
src="embedded_linux_notes.files/image042.png"></span><span lang=EN-US>etc/sysconfig/network-scripts/ifcfg-<u>xxx</u></span><span
lang=EN-US style='font-size:12.0pt;line-height:173%;font-weight:normal'>(ethm[:n]/lo(</span><span
style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>回环</span><span
lang=EN-US style='font-size:12.0pt;line-height:173%;font-weight:normal'>))</span></h2>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>DEVICE=xxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>设备名等同于（完全相同）</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>BOOTPROTO=static/dhcp&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>静态设置或动态获取</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>BROADCAST=xxxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>广播地址</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>HWADDR=xxxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #MAC</span><span
style='font-family:宋体'>地址一般不能改动（可以没有，但不能错）</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>IPADDR=xxxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #IP</span><span
style='font-family:宋体'>地址</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>NETMASK=xxxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>子网掩码</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>NETWORK=xxxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>网络</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>ONBOOT=yes/no&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>网卡是否随网络启动（</span><span lang=EN-US>no</span><span
style='font-family:宋体'>——禁用网卡）</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>我的配置文件如：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;<span style='color:#002060'>&nbsp;1 # Advanced Micro Devices
[AMD] 79c970 [PCnet32 LANCE]</span></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp; 2 DEVICE=eth0</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp; 3 #BOOTPROTO=dhcp</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp; 4 BOOTPROTO=static</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp; 5 HWADDR=00:0C:29:0D:C8:92</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp; 6 BROADCAST=192.168.11.255</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp; 7 IPADDR=192.168.11.11</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp; 8 NETMASK=255.255.255.0</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp; 9 NETWORK=192.168.11.0</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp;10 ONBOOT=yes</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp;11 #IPV6INIT=yes</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp;12 #IPV6_AUTOCONF=yes</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp;13 #GATEWAY=192.168.11.255</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#002060'>&nbsp;14 #TYPE=Ethernet</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：网卡重启配置生效</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>重启网卡</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>ifdown&nbsp; &nbsp; </span></span><span style='font-family:
宋体;color:#00B0F0'>网卡设备</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>Ifup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
</span></span><span style='font-family:宋体;color:#00B0F0'>网卡设备</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体;background:yellow'>可能出现错误</span></b><span
style='font-family:宋体'>：错误：激活连接失败：</span><span lang=EN-US>Device not managed by
NetworkManager</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>解决方法</span></b><span style='font-family:宋体'>：关闭</span><span
lang=EN-US>NetworkManager</span><span style='font-family:宋体'>服务</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
lang=EN-US> <span style='color:#00B0F0'>service NetworkManager stop</span></span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>为防止下次重启时，该服务重新启动而使网卡重启失败</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
lang=EN-US> <span style='color:#00B0F0'>chkconfig NetworkManager off</span></span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>/etc/resolv.conf</span></h2>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:3.0pt'><span
lang=EN-US>DNS</span><span style='font-family:宋体'>客户端设置——（作用是主机名转为</span><span
lang=EN-US>IP</span><span style='font-family:宋体'>地址）</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>search &nbsp;&nbsp; xxxxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>没用可以删除</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>nameserver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DNS</span><span
style='font-family:宋体'>服务器</span><span lang=EN-US>IP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>（最多三个）</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>/etc/hosts</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:宋体'>主机表文件——主要负责本机</span><span
lang=EN-US>IP</span><span style='font-family:宋体'>与主机名解析与反解析</span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:宋体'>（不添加主机表，可能导致图形界面起不来或启动缓慢）</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>/etc/profile</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:宋体'>用户环境——所有用户均执行此文件，重新登录生效（</span><span
lang=EN-US>Bash</span><span style='font-family:宋体'>无关）</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>~/.bashrc</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:宋体'>用户环境设置——只针对当前用户有效，重新登录后生效</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>/etc/bashrc</span></h2>

<p class=MsoNormal style='margin-left:36.0pt'><span style='font-family:宋体'>用户环境设置——针对所有用户，重新登录后生效（针对</span><span
lang=EN-US>Bash shell</span><span style='font-family:宋体'>设置）</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>11.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>/etc/passwd</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:宋体'>用户设置——格式</span></p>

<p class=MsoNormal><b><span style='font-family:宋体;color:#0070C0'>用户名：是否需要登录密码：用户</span><span
lang=EN-US style='color:#0070C0'>ID</span></b><b><span style='font-family:宋体;
color:#0070C0'>：组</span><span lang=EN-US style='color:#0070C0'>ID</span></b><b><span
style='font-family:宋体;color:#0070C0'>：用户说明：家目录：用户</span><span lang=EN-US
style='color:#0070C0'>shell</span></b></p>

<p class=MsoNormal><b><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span
lang=EN-US>&nbsp;&nbsp;</span><span lang=EN-US style='font-size:11.0pt'>X-</span><span
style='font-size:11.0pt;font-family:宋体'>需要</span><span style='font-size:11.0pt'>
</span><span style='font-size:11.0pt;font-family:宋体'>空</span><span lang=EN-US
style='font-size:11.0pt'>-</span><span style='font-size:11.0pt;font-family:
宋体'>不需要</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b><span style='font-size:11.0pt;
font-family:宋体'>注</span></b><span style='font-size:11.0pt;font-family:宋体'>：修改后立即生效</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>12.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>/etc/group</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:宋体'>组设置——格式：</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:48;left:0px;
margin-left:51px;margin-top:13px;width:12px;height:21px'><img width=12
height=21 src="embedded_linux_notes.files/image043.png"></span><b><span
style='font-family:宋体;color:#0070C0'>组名：组密码：组</span><span lang=EN-US
style='color:#0070C0'>ID</span></b><b><span style='font-family:宋体;color:#0070C0'>：组扩展用户列表用“，”分隔</span></b></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>有无无所谓</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>13.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>/etc/shadow</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:宋体'>密码设置——格式：</span></p>

<p class=MsoNormal><b><span style='font-family:宋体;color:#0070C0'>用户名：</span><span
lang=EN-US style='color:#0070C0'>MD5</span></b><b><span style='font-family:
宋体;color:#0070C0'>密码：。。。。。。。。。。</span></b></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>附：</span></h2>

<p class=MsoNormal><span style='font-family:宋体'>开机后进入单用户系统</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>按“</span><span lang=EN-US>e</span><span
style='font-family:宋体'>”进入编辑模式</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>修改内核参数，在最后加</span><span lang=EN-US>1</span><span
style='font-family:宋体'>（即可进入单用户）</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:21.0pt'><span
lang=EN-US>&lt;Ctrl+d&gt;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>结束单用户</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>取消</span><span lang=EN-US>Tab</span><span
style='font-family:宋体'>键报警声</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>进入</span><span lang=EN-US>/etc/inputrc</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>删除</span><span lang=EN-US>set bell-style none </span><span
style='font-family:宋体'>行前面的注释符</span><span lang=EN-US>#</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>彻底消除报警声</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>修<span style='color:black;background:white'>改</span></span><span
lang=EN-US style='color:black;background:white'>/etc/rc.d/rc.local</span><span
style='font-family:宋体;color:black;background:white'>文件（脚本文件），在最后面加上一句</span><span
lang=EN-US style='color:black;background:white'>rmmod pcspkr</span><span
style='font-family:宋体;color:black;background:white'>命令（</span><span
style='font-family:宋体'>目的是让系统每次在开机的时候删除</span><span lang=EN-US>pcspkr</span><span
style='font-family:宋体'>内核模块</span><span style='font-family:宋体;color:black;
background:white'>）</span></p>

<p class=MsoNormal><span lang=EN-US style='color:black;background:white'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:black;background:white'>重启</span></p>

<p class=MsoNormal><b><span lang=EN-US style='font-size:16.0pt;color:black;
background:white'>rmmod</span></b></p>

<p class=MsoNormal><b><span style='font-family:宋体'>功能说明</span></b><span
style='font-family:宋体'>：</span><span style='font-family:宋体'>删除模块。</span><span
lang=EN-US><br>
</span><b><span style='font-family:宋体'>语　　法</span></b><span style='font-family:
宋体'>：</span><span lang=EN-US><a href="http://www.linuxso.com/command/rmmod.html"
target="_blank"><span style='font-size:10.5pt;font-family:"Segoe UI","sans-serif";
color:#0841D6'>rmmod</span></a>&nbsp;[-as][</span><span style='font-family:
宋体'>模块名称</span><span lang=EN-US>...]<br>
</span><b><span style='font-family:宋体'>补充说明</span></b><span style='font-family:
宋体'>：</span><span style='font-family:宋体'>执行</span><span lang=EN-US>rmmod</span><span
style='font-family:宋体'>指令，可删除不需要的模块。</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>操作系统的核心具有模块化的特性，应此在编译核心时，务须把全部的功能都放如核心。你可以将这些功能编译成一个个单独的模块，待有需要时再分别载入它们。</span><span
lang=EN-US><br>
</span><b><span style='font-family:宋体'>参　　数：</span></b><span lang=EN-US><br>
&nbsp;&nbsp;-a&nbsp;</span><span style='font-family:宋体'>　删除所有目前不需要的模块。</span><span
lang=EN-US>&nbsp;<br>
&nbsp;&nbsp;-s&nbsp;</span><span style='font-family:宋体'>　把信息输出至</span><span
lang=EN-US>syslog</span><span style='font-family:宋体'>常驻服务，而非终端机界面。</span></p>

<p class=MsoNormal><span style='font-family:宋体'>与内核模块操作相关的</span><span
lang=EN-US><a href="http://www.linuxso.com/command/" target="_blank"><span
lang=EN-US style='font-size:10.5pt;font-family:宋体;color:#0841D6'><span
lang=EN-US>命令</span></span></a></span><span style='font-family:宋体'>还有</span></p>

<p class=MsoNormal><span lang=EN-US>:<a
href="http://www.linuxso.com/command/ls.html" target="_blank"><span
style='font-size:10.5pt;font-family:"Segoe UI","sans-serif";color:#0841D6'>ls</span></a>mod
&nbsp; &nbsp;</span><span class=apple-converted-space><span lang=EN-US
style='font-size:10.5pt;font-family:"Segoe UI","sans-serif";color:#2A2A2A'>&nbsp;</span></span><span
lang=EN-US><a href="http://www.linuxso.com/command/modinfo.html" target="_blank"><span
style='font-size:10.5pt;font-family:"Segoe UI","sans-serif";color:#0841D6'>modinfo</span></a></span><span
class=apple-converted-space><span lang=EN-US style='font-size:10.5pt;
font-family:"Segoe UI","sans-serif";color:#2A2A2A'>&nbsp;</span></span><span
lang=EN-US>&nbsp;</span><span class=apple-converted-space><span lang=EN-US
style='font-size:10.5pt;font-family:"Segoe UI","sans-serif";color:#2A2A2A'>&nbsp;</span></span><span
lang=EN-US><a href="http://www.linuxso.com/command/depmod.html" target="_blank"><span
style='font-size:10.5pt;font-family:"Segoe UI","sans-serif";color:#0841D6'>depmod</span></a></span><span
class=apple-converted-space><span lang=EN-US style='font-size:10.5pt;
font-family:"Segoe UI","sans-serif";color:#2A2A2A'>&nbsp;</span></span><span
lang=EN-US>&nbsp; &nbsp;rmmod &nbsp; &nbsp;inmod &nbsp; &nbsp;<a
href="http://www.linuxso.com/command/modprobe.html" target="_blank"><span
style='font-size:10.5pt;font-family:"Segoe UI","sans-serif";color:#0841D6'>modprobe</span></a></span><span
class=apple-converted-space><span lang=EN-US style='font-size:10.5pt;
font-family:"Segoe UI","sans-serif";color:#2A2A2A'>&nbsp;</span></span><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:black;background:white'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pcspkr</span><span
style='font-family:宋体;color:black;background:white'>内核模块</span></p>

<p class=MsoNormal><span lang=EN-US style='color:black;background:white'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
text-indent:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>八、</span><span lang=EN-US>shell</span><span
style='font-family:宋体'>编程</span></h1>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Shell</span><span
style='font-family:宋体'>：用于用户与内核进行交互的一段程序</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>分类：</span><span lang=EN-US> 1</span><span
style='font-family:宋体'>）</span><span lang=EN-US>GUI&nbsp; </span><span
style='font-family:宋体'>用户图形接口</span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
lang=EN-US>2</span><span style='font-family:宋体'>）</span><span lang=EN-US>CUI&nbsp;
</span><span style='font-family:宋体'>终端用户接口</span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp;
ash&nbsp; </span><span style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>嵌入式设备（小）</span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp;
bash </span><span style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; pc</span><span
style='font-family:宋体'>机（全）</span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp;
csh&nbsp; </span><span style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>网络设备（网）</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>shell</span><span style='font-family:宋体'>脚本的构成</span></h2>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>1）<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>命令</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>2）<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>变量</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>3）<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>注释（只有单行注释，以</span><span lang=EN-US>#</span><span
style='font-family:宋体'>号开始，至行尾结束）</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>4）<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>解释器说明</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
lang=EN-US>#!</span><span style='font-family:宋体'>解释器路径</span><span lang=EN-US>&nbsp;
</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
lang=EN-US>#!/<u>bin/sh</u></span><span style='font-family:宋体'>——符号链接，用于指定当前系统使用的默认</span><span
lang=EN-US>shell</span></p>

<p class=MsoNormal><span style='font-family:宋体'>注：嵌入式系统中的应用</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>系统的环境设置</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>启动或配置应用</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>c)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>设备的加载与参数设置</span></p>

<p class=MsoNormal><span lang=EN-US>Shell</span><span style='font-family:宋体'>脚本默认扩展名为</span><span
lang=EN-US>.sh</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B0F0'>echo&nbsp; </span><span lang=EN-US>&nbsp;#</span><span
style='font-family:宋体'>显示字符串、变量</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>-n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>不换行显示</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:0cm;text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Shell</span><span style='font-family:宋体'>脚本的执行方法</span></h2>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>使用当前</span><span lang=EN-US>shell</span><span
style='font-family:宋体'>解释执行</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>语法：</span><span lang=EN-US>&nbsp; source&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>脚本文件名（可包含相对或绝对路径）</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>脚本文件名（可包含相对或绝对路径）</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>使用指定</span><span lang=EN-US>shell</span><span
style='font-family:宋体'>解释执行</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>语法：</span><span lang=EN-US>&nbsp; shell</span><span
style='font-family:宋体'>命令</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>脚本文件名</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>示例：</span><span lang=EN-US>&nbsp; sh&nbsp;&nbsp;&nbsp; test.sh</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>直接运行（脚本中指定</span><span lang=EN-US>shell</span><span
style='font-family:宋体'>执行）</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>语法：</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>路径</span><span lang=EN-US>/</span><span
style='font-family:宋体'>脚本文件名</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>示例：</span><span lang=EN-US>&nbsp; ./test.sh</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>变量的分类和使用</span></h2>

<p class=MsoNormal><span style='font-family:宋体'>三种形式变量：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>系统变量：由操作系统设置（</span><span
lang=EN-US>env</span><span style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>预定义变量：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>$?&nbsp; </span><span style='font-family:宋体'>——</span> <span
style='font-family:宋体'>上一条命令的执行结果（任何命令执行成功返回</span><span lang=EN-US>0</span><span
style='font-family:宋体'>，执行失败返回非</span><span lang=EN-US>0</span><span
style='font-family:宋体'>，而非</span><span lang=EN-US>0</span><span
style='font-family:宋体'>值一般为错误号）</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-42.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $0~$9
</span><span style='font-family:宋体'>——</span><span lang=EN-US> shell</span><span
style='font-family:宋体'>脚本执行时的命令行参数</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-42.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>例：</span><span lang=EN-US>./test.sh [</span><span
style='font-family:宋体'>参数列表</span><span lang=EN-US>(</span><span
style='font-family:宋体'>空格分隔</span><span lang=EN-US>)]&nbsp; #</span><span
style='font-family:宋体'>实际使用</span><span lang=EN-US>$1~$9,$0</span><span
style='font-family:宋体'>代表自身</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>c)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>自定义变量：</span></p>

<p class=MsoListParagraph style='margin-left:105.0pt;text-indent:-105.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>变量无类型</span></p>

<p class=MsoListParagraph style='margin-left:105.0pt;text-indent:-105.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>无需声明</span></p>

<p class=MsoNormal style='margin-left:63.0pt'><span style='font-family:宋体'>语法：</span></p>

<p class=MsoListParagraph style='margin-left:105.0pt;text-indent:-105.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:absolute;z-index:50;left:0px;margin-left:
181px;margin-top:10px;width:12px;height:52px'><img width=12 height=52
src="embedded_linux_notes.files/image044.png"></span><span style='font-family:
宋体'>赋值</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>变量名大写，单词下划线连接</span></p>

<p class=MsoListParagraph style='margin-left:105.0pt;text-indent:0cm'><span
style='font-family:宋体'>规定：</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>等号两端不能有空格</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>值中包含空格要使用引号括起来</span></p>

<p class=MsoListParagraph style='margin-left:105.0pt;text-indent:-105.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>引用：</span><span lang=EN-US>$A</span></p>

<p class=MsoListParagraph style='margin-left:105.0pt;text-indent:-105.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>释放：</span><span lang=EN-US>unset 
A&nbsp; B&nbsp; C&nbsp;&nbsp; </span><span style='font-family:宋体'>（变量列表空格分隔）</span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:宋体'>注：</span>
<span lang=EN-US>‘</span><u><span style='font-family:宋体'>单引号</span><span
lang=EN-US>’</span></u><span style='font-family:宋体'>不支持变量，</span><span
lang=EN-US>”</span><u><span style='font-family:宋体'>双引号</span><span lang=EN-US>”</span></u><span
style='font-family:宋体'>支持变量</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:27.0pt'><u><span
lang=EN-US>`</span></u><u><span style='font-family:宋体'>反引号</span><span
lang=EN-US>`</span></u><span style='font-family:宋体'>用于括起来一条</span><span
lang=EN-US>shell</span><span style='font-family:宋体'>命令，当执行到包含反引号的语句时，当先执行反引号中的命令</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>测试语句</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>文件测试</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>语法：</span><span lang=EN-US>test&nbsp;&nbsp; </span><span
style='font-family:宋体'>测试符</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>文件名</span><span lang=EN-US>/</span><span
style='font-family:宋体'>目录</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp;&nbsp;
</span><span style='font-family:宋体'>测试符</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>文件名</span><span lang=EN-US>/</span><span
style='font-family:宋体'>目录</span><span lang=EN-US> ]</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>测试符：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; -r&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>读</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -w&nbsp;&nbsp; </span><span
style='font-family:宋体'>写</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -x&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>执行</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -d&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>目录</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -f&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>文件</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -L&nbsp;&nbsp; </span><span
style='font-family:宋体'>符号链接</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -e&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>存在</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>数值测试</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>语法：</span><span lang=EN-US>test&nbsp;&nbsp; </span><span
style='font-family:宋体'>数值</span><span lang=EN-US>1&nbsp;&nbsp; </span><span
style='font-family:宋体'>测试符</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>数值</span><span lang=EN-US>2</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp;&nbsp;
</span><span style='font-family:宋体'>数值</span><span lang=EN-US>1&nbsp;&nbsp; </span><span
style='font-family:宋体'>测试符</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>数值</span><span lang=EN-US>2 ]</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>测试符：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; e&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>等于</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>不等于</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>小于</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>大于</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t</span><span
style='font-family:宋体'>、</span><span lang=EN-US>q&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>无意义</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>示例：</span><span lang=EN-US>&nbsp; -lt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -le&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -nl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -eq&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -ge</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>字符串测试</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>语法</span><span lang=EN-US>1</span><span
style='font-family:宋体'>：</span><span lang=EN-US>test&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>串</span><span lang=EN-US>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>测试符</span><span lang=EN-US>&nbsp;  </span><span
style='font-family:宋体'>串</span><span lang=EN-US>2</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp;&nbsp;
</span><span style='font-family:宋体'>串</span><span lang=EN-US>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>测试符</span><span lang=EN-US>&nbsp;  </span><span
style='font-family:宋体'>串</span><span lang=EN-US>2 ]</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span style='font-family:
宋体'>测试符：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; ==&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !=</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>注：测试中一旦出现变量要用双引号将其括起来，否则可能出错</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>语法</span><span lang=EN-US>2</span><span
style='font-family:宋体'>：</span><span lang=EN-US>test&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
</span><span style='font-family:宋体'>测试符</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>串</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
[&nbsp; &nbsp; </span><span style='font-family:宋体'>测试符</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>串</span><span lang=EN-US> ]</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>测试符：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; -n&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>是否非空</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -z&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>逻辑测试</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>-a&nbsp;&nbsp;&nbsp; and &nbsp; </span><span style='font-family:
宋体'>与</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>-o&nbsp;&nbsp;&nbsp; or&nbsp;&nbsp;&nbsp; &nbsp; </span><span
style='font-family:宋体'>或</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
</span><span style='font-family:宋体'>非</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>5)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>算数运算</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>语法：</span><span lang=EN-US>expr&nbsp; </span><span
style='font-family:宋体'>操作数</span><span lang=EN-US>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>运算符</span><span lang=EN-US>&nbsp; &nbsp; </span><span
style='font-family:宋体'>操作数</span><span lang=EN-US>2</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>运算符：</span><span lang=EN-US>+&nbsp;&nbsp; -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp; /</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>(</span><span style='font-family:宋体'>运算符两边加空格，乘法需要使用转义</span><span
lang=EN-US>\*)</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>6)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>特殊符号</span></p>

<p class=MsoNormal style='text-indent:42.0pt'><span lang=EN-US>?&nbsp;&nbsp;
*&nbsp; </span><span style='font-family:宋体'>通配符</span></p>

<p class=MsoNormal style='text-indent:42.0pt'><span lang=EN-US>`&nbsp;&nbsp;
`&nbsp;&nbsp; </span><span style='font-family:宋体'>反引号</span></p>

<p class=MsoNormal style='text-indent:42.0pt'><span lang=EN-US>\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>转义符</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=522
 style='width:391.65pt;margin-left:39.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=97 valign=top style='width:72.75pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><i><span lang=EN-US>&nbsp;</span></i></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>模式</span></p>
  </td>
  <td width=47 valign=top style='width:35.45pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>符号</span></p>
  </td>
  <td width=321 valign=top style='width:240.95pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>说明</span></p>
  </td>
 </tr>
 <tr>
  <td width=97 rowspan=2 valign=top style='width:72.75pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>输入重定向</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>新建</span></p>
  </td>
  <td width=47 valign=top style='width:35.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&lt;&nbsp;</span></p>
  </td>
  <td width=321 valign=top style='width:240.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>将符号后内容定向到符号前命令的</span><span lang=EN-US>stdin</span></p>
  </td>
 </tr>
 <tr>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>追加</span></p>
  </td>
  <td width=47 valign=top style='width:35.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&lt;&lt;&nbsp;</span></p>
  </td>
  <td width=321 valign=top style='width:240.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=97 rowspan=2 valign=top style='width:72.75pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>输出重定向</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>新建</span></p>
  </td>
  <td width=47 valign=top style='width:35.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&gt;&nbsp;</span></p>
  </td>
  <td width=321 valign=top style='width:240.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>将符号前命令的</span><span lang=EN-US>stdout</span><span style='font-family:
  宋体'>定向到符号后的文件</span></p>
  </td>
 </tr>
 <tr>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>追加</span></p>
  </td>
  <td width=47 valign=top style='width:35.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&gt;&gt;&nbsp;</span></p>
  </td>
  <td width=321 valign=top style='width:240.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>（不清空原有内容）</span></p>
  </td>
 </tr>
</table>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US> </span><span style='font-family:宋体'>语法：</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>输入重定向</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cmd
&lt; </span><span style='font-family:宋体'>串</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>输出重定向</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cmd
&gt; </span><span style='font-family:宋体'>文件</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：标准错误输出，是将</span><span
lang=EN-US>stderr</span><span style='font-family:宋体'>定向到</span><span
lang=EN-US>stdout</span><span style='font-family:宋体'>然后输出</span><span
lang=EN-US>(2&gt;&amp;1)</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stdin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stdout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stderr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>例</span><span lang=EN-US>:&nbsp; ls&nbsp; adsadas&nbsp;
&gt;&gt;test&nbsp; 2&gt;&amp;1</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:3.0pt'><span
lang=EN-US>ls&nbsp; adsadsa&nbsp; &gt;&gt;/dev/null 2&gt;&amp;1</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>从命令行读取数据</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>语法：</span><span lang=EN-US style='color:#00B0F0'>read&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>变量名</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:3.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:3.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:3.0pt'><span
lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>流程控制</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>分支（</span><span lang=EN-US>if</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='margin-left:33.0pt;text-indent:0cm'><span
lang=EN-US>if </span><span style='font-family:宋体'>测试</span><span lang=EN-US>1</span></p>

<p class=MsoListParagraph style='margin-left:33.0pt;text-indent:0cm'><span
lang=EN-US>then</span></p>

<p class=MsoListParagraph style='margin-left:33.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp; </span><span style='font-family:宋体'>命令</span><span
lang=EN-US>1</span></p>

<p class=MsoListParagraph style='margin-left:33.0pt;text-indent:0cm'><span
style='position:absolute;z-index:51;left:0px;margin-left:142px;margin-top:6px;
width:12px;height:54px'><img width=12 height=54
src="embedded_linux_notes.files/image045.png"></span><span lang=EN-US>elif&nbsp;&nbsp;&nbsp;&nbsp; 
</span><span style='font-family:宋体'>测试</span><span lang=EN-US>2</span></p>

<p class=MsoListParagraph style='margin-left:33.0pt;text-indent:0cm'><span
lang=EN-US>then&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>可重复，</span><span lang=EN-US>0~</span><span
style='font-family:宋体'>任意次</span></p>

<p class=MsoListParagraph style='margin-left:33.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp; </span><span style='font-family:宋体'>命令</span><span
lang=EN-US>2</span></p>

<p class=MsoListParagraph style='margin-left:33.0pt;text-indent:0cm'><span
style='position:absolute;z-index:52;left:0px;margin-left:142px;margin-top:4px;
width:12px;height:35px'><img width=12 height=35
src="embedded_linux_notes.files/image046.png"></span><span lang=EN-US>else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>可选</span></p>

<p class=MsoListParagraph style='margin-left:33.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp; </span><span style='font-family:宋体'>命令</span><span
lang=EN-US>3</span></p>

<p class=MsoListParagraph style='margin-left:33.0pt;text-indent:0cm'><span
lang=EN-US>fi</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:absolute;z-index:53;left:0px;margin-left:
279px;margin-top:19px;width:12px;height:61px'><img width=12 height=61
src="embedded_linux_notes.files/image047.png"></span><span style='font-family:
宋体'>分支（</span><span lang=EN-US>case</span><span style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>case&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; $</span><span
style='font-family:宋体'>变量</span><span lang=EN-US>&nbsp; in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
</span><span style='font-family:宋体'>数值</span><span lang=EN-US>)&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5)</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>模式</span><span lang=EN-US>1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>模式用于设置匹配方式</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>字符串</span><span lang=EN-US>)&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; stop)</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>命令</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
</span><span style='font-family:宋体'>正则表达式</span><span lang=EN-US>) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9[0-9])</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>模式</span><span lang=EN-US>2)</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>命令</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>模式</span><span lang=EN-US>n)</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>命令</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>esac</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>循环（</span><span lang=EN-US>while</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>while&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>测试</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; #</span><span style='font-family:宋体'>真值时循环</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>do</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>命令</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>done</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>until&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>测试</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
#</span><span style='font-family:宋体'>假值时循环</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>do</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>命令</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>done</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>循环（</span><span lang=EN-US>for</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>for&nbsp; </span><span style='font-family:宋体'>变量名</span><span
lang=EN-US>&nbsp; in&nbsp; </span><span style='font-family:宋体'>值列表（空格分隔）</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>do</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>命令</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>done</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>函数</span></h2>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>用法：</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>定义：</span><span lang=EN-US>&nbsp; function&nbsp; </span><span
style='font-family:宋体'>函数名</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>函数体</span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>调用：</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>函数名</span><span lang=EN-US>&nbsp;  </span><span
style='font-family:宋体'>参数列表</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：参数列表与命令行参数用法一样，</span><span
lang=EN-US>$0~$9</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>函数在</span><span lang=EN-US>shell</span><span
style='font-family:宋体'>当中相当于一条命令</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>附：</span></h2>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>命名法：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>匈牙利法：字母全小写，单词以下划线分隔</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>骆驼法：函数——每个单词首字母大写</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
style='font-family:宋体'>变量——第二个单词开始首字母大写</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>exit 1&nbsp; #</span><span style='font-family:
宋体'>退出当前</span><span lang=EN-US>shell</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>目录的可执行权限</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
style='font-family:宋体'>表示是否可以进入这个目录，软连接文件的权限都是</span><span lang=EN-US>777</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>九、</span><span lang=EN-US>C</span><span
style='font-family:宋体'>开发工具</span></h1>

<h2><span lang=EN-US>1.&nbsp;&nbsp; Gcc </span><span style='font-family:宋体'>——</span><span
lang=EN-US> GNU</span><span style='font-family:宋体'>（</span><span lang=EN-US>GUN
&nbsp;is&nbsp;&nbsp;&nbsp;&nbsp;  Not&nbsp; Unix</span><span style='font-family:
宋体'>）</span></h2>

<p class=MsoNormal><span style='position:relative;z-index:54;left:-7px;
top:2px;width:591px;height:118px'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=0 height=0></td>
  <td width=75></td>
  <td width=58></td>
  <td width=53></td>
  <td width=50></td>
  <td width=355></td>
 </tr>
 <tr>
  <td height=56></td>
  <td colspan=4></td>
  <td rowspan=4 align=left valign=top><img width=355 height=116
  src="embedded_linux_notes.files/image048.png"></td>
 </tr>
 <tr>
  <td height=2></td>
  <td rowspan=3 width=75 height=60 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:54'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span style='font-family:宋体'>源文件</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
 <tr>
  <td height=56></td>
  <td></td>
  <td align=left valign=top><img width=53 height=56
  src="embedded_linux_notes.files/image049.png"></td>
 </tr>
 <tr>
  <td height=2></td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:71;left:0px;
margin-left:492px;margin-top:120px;width:26px;height:23px'><img width=26
height=23 src="embedded_linux_notes.files/image050.png"></span><span
style='position:absolute;z-index:70;left:0px;margin-left:401px;margin-top:120px;
width:46px;height:24px'><img width=46 height=24
src="embedded_linux_notes.files/image051.png"></span><span style='position:
absolute;z-index:68;left:0px;margin-left:365px;margin-top:137px;width:79px;
height:40px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=79 height=40 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:68'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span style='font-family:宋体'>静态库</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:69;left:0px;margin-left:477px;
margin-top:137px;width:79px;height:40px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=79 height=40 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:69'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span style='font-family:宋体'>共享库</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:67;left:0px;margin-left:470px;
margin-top:28px;width:34px;height:60px'><img width=34 height=60
src="embedded_linux_notes.files/image052.png"></span><span style='position:
absolute;z-index:65;left:0px;margin-left:338px;margin-top:38px;width:91px;
height:20px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=91 height=20 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:65'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:64;left:0px;margin-left:438px;
margin-top:86px;width:65px;height:49px'><img width=65 height=49
src="embedded_linux_notes.files/image053.png" alt="椭圆: C库"></span><span
style='position:absolute;z-index:60;left:0px;margin-left:175px;margin-top:18px;
width:57px;height:12px'><img width=57 height=12
src="embedded_linux_notes.files/image054.png"></span><span style='position:
absolute;z-index:59;left:0px;margin-left:62px;margin-top:17px;width:65px;
height:12px'><img width=65 height=12
src="embedded_linux_notes.files/image055.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>预处理</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>编译</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>组译</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>链接</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>预处理</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>#include&nbsp; &nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>头文件包含</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>#define&nbsp;&nbsp; PI&nbsp;&nbsp; 3.14&nbsp; </span><span
style='font-family:宋体'>宏替换</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>#ifdef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>条件编译</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:0cm'><span
lang=EN-US>#if&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:0cm'><span
style='font-family:宋体'>等预处理</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>静态库</span></b><span style='font-family:宋体'>：编译时加载，运行时无关</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>共享库</span></b><span style='font-family:宋体'>：编译时检测，运行时加载</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>2.</span><span style='font-family:宋体'>语法：</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>gcc&nbsp; &nbsp; [</span></span><span style='font-family:
宋体;color:#00B0F0'>参数</span><span lang=EN-US style='color:#00B0F0'>]&nbsp;&nbsp;
[</span><span style='font-family:宋体;color:#00B0F0'>源文件列表</span><span
lang=EN-US style='color:#00B0F0'>]</span></p>

<h2><span lang=EN-US>3.</span><span style='font-family:宋体'>参数：</span></h2>

<h3><span style='font-family:宋体'>过程控制</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>Gcc </span><span
style='font-family:宋体'>默认编译到链接阶段，生成可执行文件</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>-E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>仅编译到预处理阶段，将预处理后的代码作为</span><span lang=EN-US>stdout</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>-S&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>进行到编译阶段，生成同名的</span><span lang=EN-US>.s</span><span
style='font-family:宋体'>汇编文件</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>-c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>进行到组译阶段，生成同名的</span><span lang=EN-US>.o</span><span
style='font-family:宋体'>目标文件</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>-o </span><span
style='font-family:宋体'>文件名</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>用于指定编译器输出文件时的文件名</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>注：编译器自带宏</span><span
lang=EN-US> __FILE__, __FUNCTION__, __LINE__</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>表示</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>当前文件</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>所在函数</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>当前行号</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h3><span style='font-family:宋体'>预处理阶段</span></h3>

<p class=MsoNormal style='margin-left:104.8pt;text-indent:-86.8pt'><span
lang=EN-US>-I</span><span style='font-family:宋体'>路径</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>用于为当前预编译添加默认头文件（需要用到的头文件不在默认目录时）</span></p>

<p class=MsoNormal style='margin-left:104.8pt;text-indent:-86.8pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>例：</span><span
lang=EN-US>gcc&nbsp;&nbsp;&nbsp; main.c&nbsp;&nbsp;&nbsp; -o&nbsp;&nbsp;&nbsp; main&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -I.&nbsp;
#</span><span style='font-family:宋体'>包含头文件在当前目录</span></p>

<p class=MsoNormal style='margin-left:104.8pt;text-indent:-86.8pt'><span
lang=EN-US>-include </span><span style='font-family:宋体'>头文件</span><span
lang=EN-US>&nbsp; </span><span style='font-family:宋体'>用于指定当前预处理包含的头文件（需要调用的头文件不在该文件中时）</span></p>

<p class=MsoNormal style='margin-left:104.8pt;text-indent:-86.8pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>例：</span><span
lang=EN-US>gcc&nbsp;&nbsp;&nbsp; main.c&nbsp;&nbsp;&nbsp; -include  def.h&nbsp;
#</span><span style='font-family:宋体'>文件中需要引用</span><span lang=EN-US>def.h</span><span
style='font-family:宋体'>头文件</span></p>

<p class=MsoNormal style='margin-left:104.8pt;text-indent:-86.8pt'><span
lang=EN-US>-D</span><span style='font-family:宋体'>宏名</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>用于向当前预处理添加宏定义</span></p>

<p class=MsoNormal style='margin-left:104.8pt;text-indent:-86.8pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>例：</span><span
lang=EN-US>gcc&nbsp;&nbsp;&nbsp; main.c&nbsp;&nbsp;&nbsp; -DSUMMER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>给文件一个宏参数</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（宏相关见</span><span lang=EN-US>C</span><span
style='font-family:宋体'>语言）</span></p>

<h3><span style='font-family:宋体'>链接阶段</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>-l</span><span
style='font-family:宋体'>库名</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>指定链接库</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>例：</span><span lang=EN-US>./sin&nbsp; -lm&nbsp;&nbsp;
#math.h</span><span style='font-family:宋体'>头文件需要调用链接库</span><span lang=EN-US> (</span><span
style='font-family:宋体'>见</span><span lang=EN-US>man sin)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：</span><span lang=EN-US>C</span><span
style='font-family:宋体'>库名称规范</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libxxx.so.</span><span
style='font-family:宋体'>版本号</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>共享库</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='position:absolute;
z-index:72;left:0px;margin-left:197px;margin-top:7px;width:12px;height:28px'><img
width=12 height=28 src="embedded_linux_notes.files/image056.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libxxx.a.</span><span
style='font-family:宋体'>版本号</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>静态库</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <u><span
style='color:#E36C0A'>lib</span></u>.<u><span style='color:#00B050'>xxx</span></u>.<u><span
style='color:#0070C0'>la</span></u>.</span><span style='font-family:宋体'>版本号</span></p>

<p class=MsoNormal style='text-indent:47.25pt'><span style='font-size:10.5pt;
font-family:宋体;color:#E36C0A'>前缀</span><span lang=EN-US style='font-size:10.5pt'>&nbsp;
</span><span style='font-size:10.5pt;font-family:宋体;color:#00B050'>库名</span><span
lang=EN-US style='font-size:10.5pt'>&nbsp; </span><span style='font-size:10.5pt;
font-family:宋体;color:#0070C0'>类型</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -L</span><span
style='font-family:宋体'>路径</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>添加链接库默认路径</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -static&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>使用静态链接库</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>去除冗余</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如标识符（见</span><span lang=EN-US>nm</span><span
style='font-family:宋体'>）</span></p>

<h3><span style='font-family:宋体'>编译阶段</span></h3>

<p class=MsoNormal style='margin-left:84.0pt;text-indent:-63.0pt'><span
lang=EN-US>-On&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n</span><span
style='font-family:宋体'>为</span><span lang=EN-US>0~4</span><span
style='font-family:宋体'>的整数，用于指定编译器对代码的优化级别，数值越大优化级别越高（</span><span lang=EN-US>-O0&nbsp; 
</span><span style='font-family:宋体'>为默认）</span></p>

<p class=MsoNormal style='margin-left:84.0pt;text-indent:-63.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style='font-family:宋体'>注</span></b><span
style='font-family:宋体'>：优化是编译器修改变量的存储位置与流程控制</span></p>

<p class=MsoNormal style='margin-left:84.0pt;text-indent:-63.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span style='font-family:宋体'>建议</span></b><span
style='font-family:宋体'>：优化级别为</span><span lang=EN-US>2</span><span
style='font-family:宋体'>或</span><span lang=EN-US>3</span></p>

<p class=MsoNormal style='margin-left:84.0pt;text-indent:-63.0pt'><span
lang=EN-US>-Wall&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>显示所有警告信息</span></p>

<p class=MsoNormal style='margin-left:84.0pt;text-indent:-63.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:84.0pt;text-indent:-63.0pt'><span
style='font-family:宋体'>建议编译参数：</span><span lang=EN-US>-Wall&nbsp;&nbsp;
-O3&nbsp;&nbsp;&nbsp; -o </span><span style='font-family:宋体'>文件名</span></p>

<h2><span lang=EN-US>4.</span><span style='font-family:宋体'>制作共享库</span></h2>

<p class=MsoNormal style='margin-left:18.0pt'><span style='position:absolute;
z-index:74;left:0px;margin-left:183px;margin-top:14px;width:12px;height:22px'><img
width=12 height=22 src="embedded_linux_notes.files/image057.png"></span><span
style='position:absolute;z-index:73;left:0px;margin-left:125px;margin-top:14px;
width:14px;height:22px'><img width=14 height=22
src="embedded_linux_notes.files/image058.png"></span><span style='font-family:
宋体'>语法：</span><span lang=EN-US>&nbsp;&nbsp; gcc&nbsp;  -fpic&nbsp;&nbsp;&nbsp;&nbsp; -shared&nbsp; 
</span><span style='font-family:宋体'>源文件列表</span><span lang=EN-US>&nbsp;
-o&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>库文件名</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>地址可重定位</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>共享库</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US> </span><span
style='font-family:宋体'>示例：</span><span lang=EN-US style='color:#00B0F0'>&nbsp; gcc&nbsp;
-Wall&nbsp; -O3&nbsp; -fpic&nbsp; -shared&nbsp; *.c&nbsp; -o&nbsp; libxxx.so</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='font-size:10.5pt'> </span><span style='font-size:10.5pt;font-family:
宋体'>使用</span><span style='font-family:宋体'>：</span> <span lang=EN-US
style='color:#00B0F0'> gcc&nbsp; -Wall&nbsp; -O3&nbsp; -s&nbsp; main.c&nbsp;
-o&nbsp; main&nbsp; -L. –I. </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>共享库运行时不能加载解决方法：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>方法</span><span
lang=EN-US>1</span><span style='font-family:宋体'>：添加到共享库默认路径为</span><span
lang=EN-US>/lib/</span><span style='font-family:宋体'>（针对于自己制作的共享库不提倡）</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>方法</span><span
lang=EN-US>2</span><span style='font-family:宋体'>：通过环境变量指定共享库位置</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LD_LIBARAY_PATH</span><span
style='font-family:宋体'>变量末尾加上自己的“：库路径”</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US> </span><span
style='font-family:宋体'>方法</span><span lang=EN-US>3</span><span
style='font-family:宋体'>：</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>修改</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>配置文件</span><span lang=EN-US>/etc/ld.so.conf</span><span
style='font-family:宋体'>，在此文件中新起一行写上库路径</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>执行命令</span><span lang=EN-US>ldconfig</span><span
style='font-family:宋体'>，更新系统共享库的</span><span lang=EN-US>hash</span><span
style='font-family:宋体'>表</span></p>

<h2><span lang=EN-US>5.</span><span style='font-family:宋体'>制作静态库</span></h2>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-21.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>将要制作的静态库的源文件编译成目标文件</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-21.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>归档（</span><span lang=EN-US>archive</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>ar&nbsp;&nbsp;&nbsp;  -r&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>静态库名</span><span lang=EN-US
style='color:#00B0F0'>&nbsp; </span><span style='font-family:宋体;color:#00B0F0'>目标文件列表</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-21.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>编译</span> <span style='font-family:
宋体'>略（参照共享库）</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-21.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>运行</span> <span style='font-family:
宋体'>略</span></p>

<h2><span lang=EN-US>6.</span><span style='font-family:宋体'>相关文件命令</span></h2>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-21.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>ldd&nbsp;&nbsp; </span><span style='font-family:
宋体'>——查看可执行文件运行时所需要的共享库</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='font-family:宋体'>用法：</span><span lang=EN-US>ldd&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>可执行文件名</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-21.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>file&nbsp;&nbsp; </span><span style='font-family:
宋体'>——查看文件类型、架构等信息</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='font-family:宋体'>用法：</span><span lang=EN-US>file&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>文件名</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-21.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>stat&nbsp; </span><span style='font-family:宋体'>——查看文件属性、权限、时间等信息</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='font-family:宋体'>用法：</span><span lang=EN-US>stat&nbsp;&nbsp; </span><span
style='font-family:宋体'>文件名</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-21.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>nm&nbsp;&nbsp; </span><span style='font-family:
宋体'>——查看可执行文件中的标识符（包括库文件）</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='font-family:宋体'>用法：</span><span lang=EN-US>nm&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>可执行文件名</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; #strip</span><span
style='font-family:宋体'>的文件无效（</span><span lang=EN-US>gcc</span><span
style='font-family:宋体'>参数</span><span lang=EN-US>-s</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-21.0pt'><span
lang=EN-US>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>strip </span><span style='font-family:宋体'>——去除可执行文件中的冗余信息（包括库文件）</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='font-family:宋体'>用法：</span><span lang=EN-US>strip&nbsp; </span><span
style='font-family:宋体'>可执行文件</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-21.0pt'><span
lang=EN-US>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>cproto </span><span style='font-family:宋体'>——由</span><span
lang=EN-US>.c</span><span style='font-family:宋体'>源文件生成</span><span lang=EN-US>.h</span><span
style='font-family:宋体'>头文件</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='font-family:宋体'>用法：</span><span lang=EN-US>cproto&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>源文件名</span><span lang=EN-US>&nbsp; #</span><span
style='font-family:宋体'>重定向到所需的</span><span lang=EN-US>.h</span><span
style='font-family:宋体'>文件中</span></p>

<h2><span lang=EN-US>7.</span><span style='font-family:宋体'>编译错误</span></h2>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>错误提示中由行号、文件、函数名是编译时出错，语法错误</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>不显示行号等信息，链接错误</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>8.ftp</span><span style='font-family:宋体'>使用</span></h2>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US style='color:#00B0F0'>ftp&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>服务器</span><span lang=EN-US
style='color:#00B0F0'>IP</span><span style='font-family:宋体;color:#00B0F0'>或主机名</span><span
style='color:#00B0F0'> </span><span lang=EN-US>&nbsp;&nbsp;&nbsp;#</span><span
style='font-family:宋体'>进入</span><span lang=EN-US>ftp</span><span
style='font-family:宋体'>登录会话</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>输入用户名、密码</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
style='font-family:宋体'>匿名用户，用户名：</span><span lang=EN-US>ftp&nbsp;&nbsp; </span><span
style='font-family:宋体'>密码：无（直接回车）</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
style='font-family:宋体'>成功后进入</span><span lang=EN-US>ftp shell</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>操作命令：</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ls&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>查看服务器文件列表</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>切换在服务器中的目录</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get
</span><span style='font-family:宋体'>服务器上的文件名</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>下载一个文件</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put
</span><span style='font-family:宋体'>本地文件名</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>上传一个文件</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mget
</span><span style='font-family:宋体'>服务器上的文件名（可带通配符）</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>下载多个文件</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mput
</span><span style='font-family:宋体'>本地文件名（可带通配符）</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>上传多个文件</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; by&nbsp;
</span><span style='font-family:宋体'>退出</span><span lang=EN-US>ftp shell</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>保存位置为当前打开</span><span lang=EN-US>ftp</span><span
style='font-family:宋体'>的目录</span></p>

<h2><span lang=EN-US>9.</span><span style='font-family:宋体'>源码文件的安装过程</span></h2>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>解包到指定目录（</span><span lang=EN-US>/usr/local/src/</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>进入源码目录</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>对源码软件进行配置</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
style='font-family:宋体'>配置方法：（执行配置脚本）</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>./configure&nbsp;&nbsp; [--help]</span>&nbsp; #</span><span
style='font-family:宋体'>不加参数默认安装</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：为什么要配置？</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>检测系统架构</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>检查库是否满足条件</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:-18.0pt'><span
lang=EN-US>c.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>检测编译器版本</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:-18.0pt'><span
lang=EN-US>d.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>生成编译规则文件</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>编译</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>make</span></span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>安装</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>make install</span></span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：默认情况下，手动源码安装的库文件，在</span><span
lang=EN-US>/usr/local/lib/</span><span style='font-family:宋体'>目录下</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>附：编程规范</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>多个源文件和头文件构成的项目，要为其创建一个目录，项目目录。该项目名应对应项目的可执行文件名</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>#include&nbsp; &lt;&nbsp; &gt;</span><span
style='font-family:宋体'>（中间加空格）</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>运算符两侧必须加空格，一元运算符除外。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>逗号后加空格。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>声明语句和可执行语句之间加空格</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>return </span><span style='font-family:宋体'>之前加空格</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>7.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>一条语句过长时，要分多行书写</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>8.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>用水平制表符进行缩进，缩进要按层次，制表符宽度为</span><span
lang=EN-US>4</span><span style='font-family:宋体'>（</span><span lang=EN-US>set&nbsp;
ts=4</span><span style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>9.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>文件末尾加空行</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>10.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>在程序编译过程中，如果找不到一些函数的声明，在主函数中进行声明时，若该函数是主函数外的文件中，通常在所声明函数前加</span><span
lang=EN-US>extern</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><span
style='font-family:宋体'>如：</span><span lang=EN-US>extern&nbsp; void&nbsp; fun</span><span
style='font-family:宋体'>（）；</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>11.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>在函数命名时通常采用见名知意，因此在应用别人的函数或库时，有</span><span lang=EN-US>init</span><span
style='font-family:宋体'>函数名的函数中，可能会有申请内存的操作。同时会在</span><span lang=EN-US>destory/close</span><span
style='font-family:宋体'>函数名的函数中会释放。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>12.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>十、</span><span lang=EN-US>C</span><span
style='font-family:宋体'>语言</span></h1>

<h2><span lang=EN-US>1.</span><span style='font-family:宋体'>数据类型基本数据类型</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>主要针对内存，为了节省内存</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.65pt;border-collapse:collapse;border:none'>
 <tr style='height:9.75pt'>
  <td width=58 rowspan=9 style='width:43.8pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>整型</span></p>
  </td>
  <td width=91 rowspan=2 valign=top style='width:68.15pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span lang=EN-US>char</span></p>
  </td>
  <td width=47 rowspan=2 valign=top style='width:35.2pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span lang=EN-US>1</span></p>
  </td>
  <td width=237 valign=top style='width:177.9pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span lang=EN-US>Unsigned</span><span style='font-family:
  宋体'>值域</span><span lang=EN-US>0~255</span></p>
  </td>
 </tr>
 <tr style='height:5.25pt'>
  <td width=237 valign=top style='width:177.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.25pt'>
  <p class=MsoNormal><span lang=EN-US>Signed</span><span style='font-family:
  宋体'>值域</span><span lang=EN-US>-128~127</span></p>
  </td>
 </tr>
 <tr style='height:6.75pt'>
  <td width=91 rowspan=2 valign=top style='width:68.15pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US>short</span></p>
  </td>
  <td width=47 rowspan=2 valign=top style='width:35.2pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=237 valign=top style='width:177.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US>Unsigned</span><span style='font-family:
  宋体'>值域</span><span lang=EN-US>0~65535</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=237 valign=top style='width:177.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>Signed</span><span style='font-family:
  宋体'>值域</span><span lang=EN-US>-32768~32767</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=91 rowspan=2 valign=top style='width:68.15pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>int</span></p>
  </td>
  <td width=47 valign=top style='width:35.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=237 valign=top style='width:177.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>字节数</span><span lang=EN-US>-16</span><span
  style='font-family:宋体'>位系统以下</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=47 valign=top style='width:35.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
  <td width=237 valign=top style='width:177.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>字节数</span><span lang=EN-US>-32</span><span
  style='font-family:宋体'>位系统以上</span></p>
  </td>
 </tr>
 <tr>
  <td width=91 valign=top style='width:68.15pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>long</span></p>
  </td>
  <td width=47 valign=top style='width:35.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
  <td width=237 valign=top style='width:177.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>以</span><span lang=EN-US>1</span><span
  style='font-family:宋体'>开头的</span><span lang=EN-US>10</span><span
  style='font-family:宋体'>位整数</span></p>
  </td>
 </tr>
 <tr>
  <td width=91 valign=top style='width:68.15pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>long long</span></p>
  </td>
  <td width=47 valign=top style='width:35.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>8</span></p>
  </td>
  <td width=237 valign=top style='width:177.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>（</span><span lang=EN-US>4+4
  = 8</span><span style='font-family:宋体'>）</span></p>
  </td>
 </tr>
 <tr>
  <td width=91 valign=top style='width:68.15pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>short long</span></p>
  </td>
  <td width=47 valign=top style='width:35.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>3</span></p>
  </td>
  <td width=237 valign=top style='width:177.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>（（</span><span lang=EN-US>2+4</span><span
  style='font-family:宋体'>）</span><span lang=EN-US>\ 2 =3</span><span
  style='font-family:宋体'>）</span></p>
  </td>
 </tr>
 <tr>
  <td width=58 rowspan=2 style='width:43.8pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>实型</span></p>
  </td>
  <td width=91 valign=top style='width:68.15pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>float</span></p>
  </td>
  <td width=47 valign=top style='width:35.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
  <td width=237 valign=top style='width:177.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>（精度）小数点后</span><span
  lang=EN-US>6</span><span style='font-family:宋体'>位</span></p>
  </td>
 </tr>
 <tr>
  <td width=91 valign=top style='width:68.15pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>double</span></p>
  </td>
  <td width=47 valign=top style='width:35.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>8</span></p>
  </td>
  <td width=237 valign=top style='width:177.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>（精度）小数点后</span><span
  lang=EN-US>16</span><span style='font-family:宋体'>位</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>值域范围：</span><span
lang=EN-US>&nbsp; n = </span><span style='font-family:宋体'>字节数</span><span
lang=EN-US> * 8</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='position:absolute;
z-index:75;left:0px;margin-left:69px;margin-top:3px;width:12px;height:33px'><img
width=12 height=33 src="embedded_linux_notes.files/image059.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>无符号</span><span lang=EN-US>&nbsp; 0 ~ 2^n – 1&nbsp;&nbsp;&nbsp;
unsigned int</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>有符号</span><span lang=EN-US>&nbsp; -2^(n-1) ~ 2^(n-1) – 1&nbsp;&nbsp;
int</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>常量表示法：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=603
 style='width:451.95pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=64 valign=top style='width:47.95pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>5</span></p>
  </td>
  <td width=76 valign=top style='width:57.35pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>5L</span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:50.75pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>5.0</span></p>
  </td>
  <td width=64 colspan=2 valign=top style='width:47.65pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>5.0f</span></p>
  </td>
  <td width=66 valign=top style='width:49.8pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>.5</span></p>
  </td>
  <td width=85 colspan=2 valign=top style='width:63.75pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>075</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0x123f</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0UL</span></p>
  </td>
 </tr>
 <tr>
  <td width=64 valign=top style='width:47.95pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>int</span></p>
  </td>
  <td width=76 valign=top style='width:57.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>long</span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:50.75pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>double</span></p>
  </td>
  <td width=64 colspan=2 valign=top style='width:47.65pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>float</span></p>
  </td>
  <td width=66 valign=top style='width:49.8pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>double</span></p>
  </td>
  <td width=85 colspan=2 valign=top style='width:63.75pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>八进制</span><span lang=EN-US>int</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>十六进制</span><span lang=EN-US>int</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-size:6.5pt'>0 unsigned long</span></p>
  </td>
 </tr>
 <tr>
  <td width=64 valign=top style='width:47.95pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2E3</span></p>
  </td>
  <td width=76 valign=top style='width:57.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>-2E-3</span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:50.75pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0.8E-5</span></p>
  </td>
  <td width=64 colspan=2 valign=top style='width:47.65pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>.8E-5</span></p>
  </td>
  <td width=66 valign=top style='width:49.8pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>8E0.5</span></p>
  </td>
  <td width=85 colspan=2 valign=top style='width:63.75pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=64 valign=top style='width:47.95pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2*10^3</span></p>
  </td>
  <td width=76 valign=top style='width:57.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>-2*10^-3</span></p>
  </td>
  <td width=462 colspan=9 valign=top style='width:346.65pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>都</span><span lang=EN-US>double</span></p>
  </td>
 </tr>
 <tr>
  <td width=64 valign=top style='width:47.95pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>‘a’</span></p>
  </td>
  <td width=76 valign=top style='width:57.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>‘\n’</span></p>
  </td>
  <td width=46 valign=top style='width:34.8pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>‘\m’</span></p>
  </td>
  <td width=47 colspan=2 valign=top style='width:35.4pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>‘\0’</span></p>
  </td>
  <td width=180 colspan=3 valign=top style='width:134.7pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>‘\123’</span></p>
  </td>
  <td width=189 colspan=3 valign=top style='width:5.0cm;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>‘\x1234’</span></p>
  </td>
 </tr>
 <tr>
  <td width=64 valign=top style='width:47.95pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>字符</span><span lang=EN-US>a</span></p>
  </td>
  <td width=76 valign=top style='width:57.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>换行</span></p>
  </td>
  <td width=46 valign=top style='width:34.8pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>m</span></p>
  </td>
  <td width=47 colspan=2 valign=top style='width:35.4pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
  <td width=180 colspan=3 valign=top style='width:134.7pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>字符的八进制表示法（转义字符开始不多于</span><span
  lang=EN-US>3</span><span style='font-family:宋体'>位的八进制数）</span></p>
  </td>
  <td width=189 colspan=3 valign=top style='width:5.0cm;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>字符的十六进制表示法（转义字符</span><span
  lang=EN-US>+x</span><span style='font-family:宋体'>开始后不多于</span><span
  lang=EN-US>4</span><span style='font-family:宋体'>位的十六进制数）</span></p>
  </td>
 </tr>
 <tr height=0>
  <td width=64 style='border:none'></td>
  <td width=76 style='border:none'></td>
  <td width=46 style='border:none'></td>
  <td width=21 style='border:none'></td>
  <td width=26 style='border:none'></td>
  <td width=38 style='border:none'></td>
  <td width=66 style='border:none'></td>
  <td width=76 style='border:none'></td>
  <td width=9 style='border:none'></td>
  <td width=104 style='border:none'></td>
  <td width=76 style='border:none'></td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span style='font-family:宋体'>衍生数据类型</span></h3>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-63.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>数组</span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:宋体'>声明：类型</span>
&nbsp;<span style='font-family:宋体'>数组名</span><span lang=EN-US>&nbsp; [</span><span
style='font-family:宋体'>行长度</span><span lang=EN-US>][</span><span
style='font-family:宋体'>列长度</span><span lang=EN-US>]={{…}, {…}, ….{…}}</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>在内存中按行存储</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-63.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>指针</span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:宋体'>声明：类型</span><span
lang=EN-US>&nbsp; *</span><span style='font-family:宋体'>变量名</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>存储内存地址的变量，为了存储所有地址，所占字节数与该系统的地址总线有关。一般与</span><span
lang=EN-US>int</span><span style='font-family:宋体'>类型的字节数相同。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>指针的运算：</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>指针与整型</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; p
+ n&nbsp; p – n&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如：</span><span lang=EN-US>p + 1 </span><span
style='font-family:宋体'>——</span> <span style='font-family:宋体'>指向下一个元素（元素表示给指针的类型单元）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Int&nbsp;
*P = (int *)0x1000 0000;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P
+ 2;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>所以此时</span><span lang=EN-US>P</span><span
style='font-family:宋体'>为</span><span lang=EN-US>0x1000 0008</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>指针与指针</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; p – q</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>指针与指针进行减法（两指针类型必须相同），只有两指针指向同一数组时，才有意义，其运算结果为两指针间有多少个元素。</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-63.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>枚举</span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US>enum&nbsp; </span><span
style='font-family:宋体'>枚举类型</span><span lang=EN-US>&nbsp; {</span><span
style='font-family:宋体'>枚举列表</span><span lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>例：</span><span lang=EN-US>enum WEEK{Monday = 5</span><span
style='font-family:宋体'>，</span><span lang=EN-US> Tuesday</span><span
style='font-family:宋体'>，</span> <span style='font-family:宋体'>。。。。</span><span
lang=EN-US>}</span></p>

<h3><span style='font-family:宋体'>构造数据类型</span></h3>

<p class=MsoListParagraph style='margin-left:84.0pt;text-indent:-21.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>结构体</span></p>

<p class=MsoListParagraph style='margin-left:126.0pt;text-indent:-126.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>先定义类型</span></p>

<p class=MsoListParagraph style='margin-left:126.0pt;text-indent:-126.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>通过定义的类型声明变量</span></p>

<p class=MsoListParagraph style='margin-left:126.0pt;text-indent:-126.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>结构体取成员的运算符有两个，分别是</span><span
lang=EN-US> . </span><span style='font-family:宋体'>和</span><span lang=EN-US>
-&gt;</span></p>

<p class=MsoListParagraph style='margin-left:126.0pt;text-indent:0cm'><span
lang=EN-US>.&nbsp; </span><span style='font-family:宋体'>是通过结构体变量取成员</span> <span
style='font-family:宋体'>如：</span><span lang=EN-US>s.a;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt;</span><span
style='font-family:宋体'>是通过结构体地址取成员</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>如：</span><span lang=EN-US>ps-&gt;a;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：内存对齐</span></p>

<p class=MsoListParagraph style='margin-left:120.0pt;text-indent:-36.0pt'><span
lang=EN-US>I．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>4</span><span style='font-family:宋体'>字节对齐</span></p>

<p class=MsoListParagraph style='margin-left:120.0pt;text-indent:-36.0pt'><span
lang=EN-US>II．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>如果结构体中的所有成员的数据宽度均未达到</span><span
lang=EN-US>4</span><span style='font-family:宋体'>字节，按最大成员数据宽度进行对齐。</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span style='font-family:宋体'>示例：</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection2 style='layout-grid:15.6pt'>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>struct std1{</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int
a;&nbsp;&nbsp;&nbsp;&nbsp; //4</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char
b;&nbsp;&nbsp; //1</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='font-size:11.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
//</span><span style='font-size:11.0pt;font-family:宋体'>占空</span><span
lang=EN-US style='font-size:11.0pt'>3</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; float
c;&nbsp;&nbsp; //4</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char
d;&nbsp;&nbsp; //1</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US
style='font-size:11.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
//</span><span style='font-size:11.0pt;font-family:宋体'>占空</span><span
lang=EN-US style='font-size:11.0pt'>3</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double
e; //8</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>}</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>sizeof(std1) =
24</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>struct std2{</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char
c;&nbsp; //1</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;//</span><span
style='font-family:宋体'>占空</span><span lang=EN-US>1</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; short
s;&nbsp; //2</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>};</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>sizeof(std2) = 4</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection3 style='layout-grid:15.6pt'>

<p class=MsoListParagraph style='margin-left:84.0pt;text-indent:-21.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>共同体</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
style='font-family:宋体'>所有成员使用同一块内存</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>union st{</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char a[2];</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; short b;</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>};</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>int main(int argc, char *argv[])</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>{</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; union st s;</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s.b = 0x1122;</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stdout, “%x, %x\n”,
s.a[0], s.a[1]);</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return EXIT_SUCCESS;&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>}</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
style='font-family:宋体'>结果：</span><span lang=EN-US>22,11</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
style='font-family:宋体'>判断当前系统是大端系统还是小端系统：</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
style='font-family:宋体'>在上例基础上修改</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>s.b = 0x0001;&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:0cm'><span
lang=EN-US>fprintf(stdout, &quot;</span><span style='font-family:宋体'>这是</span><span
lang=EN-US>%s</span><span style='font-family:宋体'>端系统</span><span lang=EN-US>\n&quot;,
s.a[1] ? “</span><span style='font-family:宋体'>大</span><span lang=EN-US>” </span><span
style='font-family:宋体'>：</span><span lang=EN-US>”</span><span style='font-family:
宋体'>小</span><span lang=EN-US>”);</span></p>

<p class=MsoListParagraph style='margin-left:84.0pt;text-indent:-21.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>位段结构</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:24.0pt'><span
lang=EN-US>struct st{ </span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; unsigned int a : 5;&nbsp;&nbsp; //5</span><span
style='font-family:宋体'>表示位数</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; unsigned int b : 8;</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; unsigned int c : 9;</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; unsigned int d : 1;</span></p>

<p class=MsoListParagraph style='margin-left:102.0pt;text-indent:3.0pt'><span
lang=EN-US>};</span></p>

<p class=MsoListParagraph style='margin-left:102.0pt;text-indent:3.0pt'><span
lang=EN-US>sizeof(struct st) = 4</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>对齐方式和结构体相同，位数不能超过前边类型的宽度</span></p>

<h2><span lang=EN-US>2.</span><span style='font-family:宋体'>运算符</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C</span><span
style='font-family:宋体'>语言中有</span><span lang=EN-US>42</span><span
style='font-family:宋体'>个运算符</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>赋值</span></p>
  </td>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;border-left:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>=</span></p>
  </td>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;border-left:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>+=</span></p>
  </td>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;border-left:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>-=</span></p>
  </td>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;border-left:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>/=</span></p>
  </td>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;border-left:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>%=</span></p>
  </td>
  <td width=71 style='width:53.3pt;border:solid black 1.0pt;border-left:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>*=</span></p>
  </td>
  <td width=42 style='width:31.5pt;border-top:solid black 1.0pt;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=29 style='width:21.8pt;border:solid black 1.0pt;border-left:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>6</span></p>
  </td>
 </tr>
 <tr>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>算术</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>+</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>-</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>*</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>/</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>%</span></p>
  </td>
  <td width=71 style='width:53.3pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>++</span></p>
  </td>
  <td width=42 style='width:31.5pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>--</span></p>
  </td>
  <td width=29 style='width:21.8pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>7</span></p>
  </td>
 </tr>
 <tr>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>关系</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&gt;&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&lt;&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&lt;=</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>=&gt;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>==</span></p>
  </td>
  <td width=71 style='width:53.3pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>!=</span></p>
  </td>
  <td width=42 style='width:31.5pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=29 style='width:21.8pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>6</span></p>
  </td>
 </tr>
 <tr>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>逻辑</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&amp;&amp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>||</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>!</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.3pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=42 style='width:31.5pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=29 style='width:21.8pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>3</span></p>
  </td>
 </tr>
 <tr>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>*(</span><span
  style='font-family:宋体'>取值</span><span lang=EN-US>)</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&amp;(</span><span
  style='font-family:宋体'>取址</span><span lang=EN-US>)</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.3pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=42 style='width:31.5pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=29 style='width:21.8pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>2</span></p>
  </td>
 </tr>
 <tr>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>位运算</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&amp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>|</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>^</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>~</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&lt;&lt;&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.3pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&gt;&gt;&nbsp;</span></p>
  </td>
  <td width=42 style='width:31.5pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=29 style='width:21.8pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>5</span></p>
  </td>
 </tr>
 <tr>
  <td width=71 style='width:53.25pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&amp;=</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>|=</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>^=</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&lt;&lt;=</span></p>
  </td>
  <td width=71 style='width:53.3pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>=&gt;&gt;</span></p>
  </td>
  <td width=42 style='width:31.5pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=29 style='width:21.8pt;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>5</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=71 style='width:53.25pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>三元</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal align=center style='text-align:center;text-indent:6.0pt'><span
  lang=EN-US>?&nbsp; :</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.3pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:8.25pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=42 style='width:31.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:8.25pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=29 style='width:21.8pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:8.25pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=71 style='width:53.25pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>逗号</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal align=center style='text-align:center;text-indent:6.0pt'><span
  style='font-family:宋体'>，</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>sizeof</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>成员</span></p>
  </td>
  <td width=71 style='width:53.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>-&gt;</span></p>
  </td>
  <td width=71 style='width:53.3pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:7.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>.</span></p>
  </td>
  <td width=42 style='width:31.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:7.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=29 style='width:21.8pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:7.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><b><span style='font-family:宋体'>注</span></b><span
style='font-family:宋体'>：</span><span lang=EN-US>a &lt;&lt; n&nbsp; </span><span
style='font-family:宋体'>相当于</span><span lang=EN-US>&nbsp;&nbsp; a*2^n</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~1 </span><span
style='font-family:宋体'>为</span><span lang=EN-US> -2&nbsp;&nbsp; ~2 </span><span
style='font-family:宋体'>为</span><span lang=EN-US> -3&nbsp; ~3&nbsp; </span><span
style='font-family:宋体'>为</span><span lang=EN-US> -4</span></p>

<p class=MsoNormal><span lang=EN-US>1 </span><span style='font-family:宋体'>原码</span><span
lang=EN-US> 0000 0001&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>取反后</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; 1111 1110 </span></p>

<p class=MsoNormal><span lang=EN-US>-2</span><span style='font-family:宋体'>原码</span><span
lang=EN-US> 1000 0010&nbsp; </span><span style='font-family:宋体'>反码</span><span
lang=EN-US> 1111 1101&nbsp; </span><span style='font-family:宋体'>补码</span><span
lang=EN-US> 1111 1110</span></p>

<p class=MsoNormal><span style='font-family:宋体'>在计算机中负数都以补码形式存在，所以</span><span
lang=EN-US>~1</span><span style='font-family:宋体'>为</span><span lang=EN-US>-2</span></p>

<h2><span lang=EN-US>3.</span><span style='font-family:宋体'>关键字</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>一共</span><span lang=EN-US>32</span><span
style='font-family:宋体'>个关键字</span></p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=52 rowspan=4 valign=top style='width:39.35pt;border:solid windowtext 1.0pt;
  border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>数据类型</span></p>
  </td>
  <td width=52 valign=top style='width:39.35pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=65 valign=top style='width:48.65pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>void</span></p>
  </td>
  <td width=71 valign=top style='width:52.9pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>char</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>int</span></p>
  </td>
  <td width=72 valign=top style='width:54.15pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>float</span></p>
  </td>
  <td width=67 valign=top style='width:50.25pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>double</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=52 valign=top style='width:39.25pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>5</span></p>
  </td>
 </tr>
 <tr>
  <td width=52 valign=top style='width:39.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=65 valign=top style='width:48.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>short</span></p>
  </td>
  <td width=71 valign=top style='width:52.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>long</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>signed</span></p>
  </td>
  <td width=72 valign=top style='width:54.15pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>unsigned</span></p>
  </td>
  <td width=67 valign=top style='width:50.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=52 valign=top style='width:39.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
 </tr>
 <tr>
  <td width=52 valign=top style='width:39.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=65 valign=top style='width:48.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>struct</span></p>
  </td>
  <td width=71 valign=top style='width:52.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>union</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>enum</span></p>
  </td>
  <td width=72 valign=top style='width:54.15pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='color:red'>typedef</span></p>
  </td>
  <td width=67 valign=top style='width:50.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>sizeof</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=52 valign=top style='width:39.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=52 valign=top style='width:39.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span style='font-family:宋体'>存储</span></p>
  </td>
  <td width=65 valign=top style='width:48.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US style='color:red'>auto</span></p>
  </td>
  <td width=71 valign=top style='width:52.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US style='color:red'>static</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US style='color:red'>register</span></p>
  </td>
  <td width=72 valign=top style='width:54.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US style='color:red'>extern</span></p>
  </td>
  <td width=67 valign=top style='width:50.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>const</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>volatile</span></p>
  </td>
  <td width=52 valign=top style='width:39.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>6</span></p>
  </td>
 </tr>
 <tr style='height:9.0pt'>
  <td width=52 rowspan=3 valign=top style='width:39.35pt;border-top:none;
  border-left:solid black 1.0pt;border-bottom:solid windowtext 1.0pt;
  border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span style='font-family:宋体'>流程控制</span></p>
  </td>
  <td width=52 valign=top style='width:39.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span style='font-family:宋体'>跳转</span></p>
  </td>
  <td width=65 valign=top style='width:48.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>return</span></p>
  </td>
  <td width=71 valign=top style='width:52.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>continue</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>break</span></p>
  </td>
  <td width=72 valign=top style='width:54.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>goto</span></p>
  </td>
  <td width=67 valign=top style='width:50.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=52 valign=top style='width:39.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
 </tr>
 <tr style='height:10.5pt'>
  <td width=52 valign=top style='width:39.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>分支</span></p>
  </td>
  <td width=65 valign=top style='width:48.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.5pt'>
  <p class=MsoNormal><span lang=EN-US>if</span></p>
  </td>
  <td width=71 valign=top style='width:52.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.5pt'>
  <p class=MsoNormal><span lang=EN-US>else</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.5pt'>
  <p class=MsoNormal><span lang=EN-US>switch</span></p>
  </td>
  <td width=72 valign=top style='width:54.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.5pt'>
  <p class=MsoNormal><span lang=EN-US>case</span></p>
  </td>
  <td width=67 valign=top style='width:50.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.5pt'>
  <p class=MsoNormal><span lang=EN-US>default</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.5pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=52 valign=top style='width:39.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.5pt'>
  <p class=MsoNormal><span lang=EN-US>5</span></p>
  </td>
 </tr>
 <tr style='height:4.5pt'>
  <td width=52 valign=top style='width:39.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:4.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>循环</span></p>
  </td>
  <td width=65 valign=top style='width:48.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:4.5pt'>
  <p class=MsoNormal><span lang=EN-US>for</span></p>
  </td>
  <td width=71 valign=top style='width:52.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:4.5pt'>
  <p class=MsoNormal><span lang=EN-US>do</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:4.5pt'>
  <p class=MsoNormal><span lang=EN-US>while</span></p>
  </td>
  <td width=72 valign=top style='width:54.15pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:4.5pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=67 valign=top style='width:50.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:4.5pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=68 valign=top style='width:51.1pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:4.5pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=52 valign=top style='width:39.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:4.5pt'>
  <p class=MsoNormal><span lang=EN-US>3</span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>1</span><span style='font-family:宋体'>）</span><span
lang=EN-US>typedef</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>为复杂声明定义简单别名</span></p>

<p class=MsoNormal><span style='font-family:宋体'>示例：</span></p>

<p class=MsoNormal><span style='font-family:宋体'>声明一下变量</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>a．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>一个整型</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>b．<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>一个整型指针</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>c．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>一个指向整型指针的指针</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>d．<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>十个整型数组</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>e．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>十个整型指针数组</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>f．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>十个整型数组的指针</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>g．<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>一个指向函数的指针，此函数有一个整型参数和一个整型返回值</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>h．<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>一个存放（</span><span lang=EN-US>f</span><span
style='font-family:宋体'>）中描述函数指针的十个元素的数组</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>int  a;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#365F91'>typedef &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp; Int;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Int&nbsp; a;</span></p>

<p class=MsoNormal><span lang=EN-US>int&nbsp;&nbsp;  *p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#365F91'>typedef&nbsp; int&nbsp;&nbsp; * Pint;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pint p;</span></p>

<p class=MsoNormal><span lang=EN-US>int&nbsp;&nbsp;  **pp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#365F91'>typedef&nbsp; int&nbsp;&nbsp; **Ppint;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ppint
pp;</span></p>

<p class=MsoNormal><span lang=EN-US>int&nbsp;&nbsp;  a[10];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#365F91'>typedef&nbsp; int&nbsp; A[10];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A&nbsp;&nbsp;&nbsp; a;</span></p>

<p class=MsoNormal><span lang=EN-US>int  *a[10];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#365F91'>typedef&nbsp; int&nbsp;&nbsp; *PA[10];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PA&nbsp;
a;</span></p>

<p class=MsoNormal><span lang=EN-US>int  (*p)[10];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#365F91'>typedef&nbsp; int&nbsp;&nbsp; (*AP)[10];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AP&nbsp;
a;</span></p>

<p class=MsoNormal><span lang=EN-US>int  (*p)(int);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#365F91'>typedef&nbsp; int&nbsp;&nbsp; (*PF)(int);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PF&nbsp;
p;</span></p>

<p class=MsoNormal><span lang=EN-US>int  (*p[10])(int);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#365F91'>typedef&nbsp; int&nbsp;&nbsp; (*PFA[10])(int);&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PFA&nbsp;
a;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:red'>注：使用</span><span
lang=EN-US style='color:red'>typedef</span><span style='font-family:宋体;
color:red'>起别名时，只需将定义的变量名改为别名</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<h3><span lang=EN-US>2</span><span style='font-family:宋体'>）</span><span
lang=EN-US>auto</span><span style='font-family:宋体'>、</span><span lang=EN-US>register</span><span
style='font-family:宋体'>、</span><span lang=EN-US>static</span><span
style='font-family:宋体'>与</span><span lang=EN-US>extern</span></h3>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=630
 style='width:472.85pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=92 valign=top style='width:69.2pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>存储类型</span></p>
  </td>
  <td width=95 valign=top style='width:70.9pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>存储区</span></p>
  </td>
  <td width=217 valign=top style='width:163.0pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>作用域</span></p>
  </td>
  <td width=113 valign=top style='width:3.0cm;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>生存期</span></p>
  </td>
  <td width=113 valign=top style='width:84.7pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>默认值</span></p>
  </td>
 </tr>
 <tr>
  <td width=92 valign=top style='width:69.2pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>auto(</span><span style='font-family:
  宋体'>默认</span><span lang=EN-US>)</span></p>
  </td>
  <td width=95 valign=top style='width:70.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>栈</span></p>
  </td>
  <td width=217 valign=top style='width:163.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>声明时开始，出栈时结束</span></p>
  </td>
  <td width=113 valign=top style='width:3.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>其作用域</span></p>
  </td>
  <td width=113 valign=top style='width:84.7pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>随机值</span></p>
  </td>
 </tr>
 <tr>
  <td width=92 valign=top style='width:69.2pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>全局</span></p>
  </td>
  <td width=95 valign=top style='width:70.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>全局静态区</span></p>
  </td>
  <td width=217 valign=top style='width:163.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>声明时开始，文件尾结束（可以扩展到程序的任意位置）</span></p>
  </td>
  <td width=113 valign=top style='width:3.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>编译时开始到程序结束时</span></p>
  </td>
  <td width=113 valign=top style='width:84.7pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span><span style='font-family:宋体'>（<i>各种零</i>）</span></p>
  </td>
 </tr>
 <tr>
  <td width=92 valign=top style='width:69.2pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>register</span></p>
  </td>
  <td width=95 valign=top style='width:70.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>寄存器</span></p>
  </td>
  <td width=217 valign=top style='width:163.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>（同</span><span lang=EN-US>auto</span><span
  style='font-family:宋体'>）</span></p>
  </td>
  <td width=113 valign=top style='width:3.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>（同</span><span lang=EN-US>auto</span><span
  style='font-family:宋体'>）</span></p>
  </td>
  <td width=113 valign=top style='width:84.7pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>随机值</span></p>
  </td>
 </tr>
 <tr>
  <td width=92 rowspan=2 valign=top style='width:69.2pt;border-top:none;
  border-left:solid black 1.0pt;border-bottom:solid windowtext 1.0pt;
  border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>static</span></p>
  </td>
  <td width=95 valign=top style='width:70.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>（同全局）</span></p>
  </td>
  <td width=217 valign=top style='width:163.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>声明时开始，文件尾结束（可以在当前文件内扩展）</span></p>
  </td>
  <td width=113 valign=top style='width:3.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>（同全局）</span></p>
  </td>
  <td width=113 valign=top style='width:84.7pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=95 valign=top style='width:70.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span style='font-family:宋体'>局部静态区</span></p>
  </td>
  <td width=217 valign=top style='width:163.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>(</span><span style='font-family:宋体'>同</span><span
  lang=EN-US>auto)</span></p>
  </td>
  <td width=113 valign=top style='width:3.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>(</span><span style='font-family:宋体'>同全局</span><span
  lang=EN-US>)</span></p>
  </td>
  <td width=113 valign=top style='width:84.7pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
 </tr>
 <tr style='height:6.75pt'>
  <td width=92 valign=top style='width:69.2pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US>extern</span></p>
  </td>
  <td width=95 valign=top style='width:70.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>
  </td>
  <td width=217 valign=top style='width:163.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>（同全局或</span><span lang=EN-US>static</span><span
  style='font-family:宋体'>全局）</span></p>
  </td>
  <td width=113 valign=top style='width:3.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>（同被扩展变量）</span></p>
  </td>
  <td width=113 valign=top style='width:84.7pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal><b><span style='font-family:宋体'>注：</span></b></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>a．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
lang=EN-US>auto</span><span style='font-family:宋体'>仅限局部变量（全在栈里）</span></p>

<p class=MsoNormal><span lang=EN-US>b.&nbsp;&nbsp;&nbsp; extern </span><span
style='font-family:宋体'>不是存储类型，主要用于扩展全局变量的作用域</span></p>

<p class=MsoNormal><span style='font-family:宋体'>例：</span><span lang=EN-US>extern&nbsp;
int&nbsp; a;&nbsp; &nbsp;&nbsp;&nbsp;//</span><span style='font-family:宋体'>把</span><span
lang=EN-US>a</span><span style='font-family:宋体'>的作用域扩展到当前位置</span></p>

<p class=MsoNormal style='text-indent:24.0pt'><s><span lang=EN-US>extern&nbsp;
int&nbsp; a = 5</span></s><span lang=EN-US>;&nbsp; //</span><span
style='font-family:宋体'>不是声明语句（不分配内存），</span> <span style='font-family:宋体'>不能直接初始化</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:3.0pt'><span
style='font-family:宋体'>在程序编译过程中，如果找不到一些函数的声明，在主函数中进行声明时，</span></p>

<p class=MsoNormal><span style='font-family:宋体'>若该函数是主函数外的文件中，通常在所声明函数前加</span><span
lang=EN-US>extern</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><span
style='font-family:宋体'>如：</span><span lang=EN-US>extern&nbsp; void&nbsp; fun</span><span
style='font-family:宋体'>（）；</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:140;left:0px;
margin-left:244px;margin-top:6px;width:7px;height:22px'><img width=7 height=22
src="embedded_linux_notes.files/image060.png"></span><span lang=EN-US>c.&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>寄存器变量</span><span lang=EN-US>register</span><span
style='font-family:宋体'>声明要求：</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>泛整型</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>局部变量</span></p>

<p class=MsoNormal><span lang=EN-US>d.&nbsp;&nbsp;&nbsp; <span
style='color:#002060'>static </span></span><span style='font-family:宋体;
color:#002060'>函数定义</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如：</span><span lang=EN-US>static&nbsp; int&nbsp;
fun()&nbsp; {&nbsp; }</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>限定函数作用域为文件作用域</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#002060'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static
</span><span style='font-family:宋体;color:#002060'>全局变量声明</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如：</span><span lang=EN-US>static&nbsp; int&nbsp; a = 9;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>限定全局变量为文件作用域，仅可在当前文件内</span><span lang=EN-US>extern</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>3</span><span style='font-family:宋体'>）</span><span
lang=EN-US>volatile</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; volatile&nbsp;
int&nbsp;&nbsp; a;&nbsp; //</span><span style='font-family:宋体'>防止编译器对此变量优化</span></p>

<p class=MsoNormal><span style='font-family:宋体'>通常使用在：</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>两线程通信时，对通信变量进行修饰</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>在线程间进行通信时，由于一方某一变量的读取频次过高，在没有</span><span
lang=EN-US>volatile</span><span style='font-family:宋体'>关键字修饰时，编译器会将该变量设为寄存器变量，从而无法实现通信</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>串口通信中</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>在串口通信中，接收到的数据（串行通信）存储在一变量中，系统对该变量的连续访问，可能导致编译器优化该变量</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>编译器优化</span></b><span
style='font-family:宋体'>：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>编译器会将频次访问过高的变量，自动优化为寄存器变量</span></p>

<h3><span style='font-family:宋体'>栈</span></h3>

<p class=MsoNormal><span style='font-family:宋体'>在</span><span lang=EN-US>C</span><span
style='font-family:宋体'>语言中—</span><span lang=EN-US>&nbsp;&nbsp; {&nbsp; </span><span
style='font-family:宋体'>进栈（开始建栈）</span></p>

<p class=MsoListParagraph style='margin-left:126.0pt;text-indent:0cm'><span
lang=EN-US>}&nbsp; </span><span style='font-family:宋体'>出栈</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（每一个大括号</span><span lang=EN-US>{}</span><span
style='font-family:宋体'>即一个栈）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>通常变量在栈开始时声明，即（大括号）</span><span lang=EN-US>{</span></b><b><span
style='font-family:宋体'>后声明，不可以在执行语句后声明（</span><span lang=EN-US>C89</span></b><b><span
style='font-family:宋体'>标准）</span></b></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:142;left:0px;
margin-left:35px;margin-top:9px;width:18px;height:98px'><img width=18
height=98 src="embedded_linux_notes.files/image061.png"></span><span
style='position:absolute;z-index:141;left:0px;margin-left:51px;margin-top:19px;
width:184px;height:38px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=184 height=38 bgcolor=white style='border:.75pt solid white;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:141'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span style='font-family:宋体'>（手动）——</span><span
    lang=EN-US> malloc</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>动态申请</span></p>

<h3><span style='font-family:宋体'>堆</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>手动释放</span> <span style='font-family:宋体'>——</span><span
lang=EN-US> free</span></p>

<p class=MsoNormal><b><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><b><span
style='font-family:宋体;color:red'>注：内存泄露</span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>在函数命名时通常采用见名知意，因此在应用别人的函数或库时，有</span><span
lang=EN-US>init</span><span style='font-family:宋体'>函数名的函数中，可能会有申请内存的操作。同时会在</span><span
lang=EN-US>destory/close</span><span style='font-family:宋体'>函数名的函数中会释放。</span></p>

<p class=MsoNormal><span style='font-family:宋体'>如：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void&nbsp;
func( )</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int
*p;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p
= malloc(100);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>。</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>}</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>该函数在开始申请了内存，应该在函数结束时，释放</span><span lang=EN-US>p</span></p>

<h2><span lang=EN-US>4.</span><span style='font-family:宋体'>宏</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#0070C0'>#define&nbsp; </span></span><span style='font-family:
宋体;color:#0070C0'>宏名</span><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#0070C0'>宏体</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>宏定义是在预编译阶段，进行单纯的宏替换</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>宏定义时，</span></p>

<p class=MsoNormal style='margin-left:104.8pt;text-indent:-62.8pt'><span
style='font-family:宋体'>宏体中出现运算符，必须将宏体用括号括起来；如果是带参</span></p>

<p class=MsoNormal style='margin-left:104.8pt;text-indent:-62.8pt'><span
style='font-family:宋体'>宏，宏体中的宏参，必须用括号括起来。</span></p>

<p class=MsoNormal style='margin-left:104.8pt;text-indent:-62.8pt'><span
style='font-family:宋体'>如：</span><span lang=EN-US>#define&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
DIV(a, b)&nbsp; ((a)+(b))</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>头文件</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&nbsp;&nbsp;&nbsp;&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>在默认头文件目录查找</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “&nbsp;&nbsp;
”&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>现在当前目录下查找，再到默认头文件目录下查找</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>条件编译</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #ifndef&nbsp; DEF_H &nbsp;
//</span><span style='font-family:宋体'>如果没有定义这个宏（该头文件之前的代码中）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #define&nbsp; DEF_H &nbsp;
//</span><span style='font-family:宋体'>定义一个</span><span lang=EN-US>DEF_H</span><span
style='font-family:宋体'>宏</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #define&nbsp; VALUE&nbsp;
8</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #endif&nbsp;&nbsp;&nbsp; //DEF_H&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>判断对应哪个</span><span lang=EN-US>if</span><span
style='font-family:宋体'>，防止缺省</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>防止头文件重复，宏名起发为当前文件名称大写</span></p>

<p class=MsoNormal><span style='font-family:宋体'>示例：</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>a．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>定义一个宏，宏值为一年中有多少秒（忽略闰年）</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>#define&nbsp; SECONDS_PER_YEAR &nbsp; (60 * 60 * 24 * 365)<span
style='background:yellow'>UL</span></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>b．<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:宋体'>定义一个宏</span><span lang=EN-US>MIN</span><span
style='font-family:宋体'>，</span> <span style='font-family:宋体'>求两数较小值。</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>#define MIN(a, b)&nbsp; ((a) &lt; (b) ? (a) : (b))</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US>c．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>定义一个</span><span lang=EN-US>ARRAY_SIZE</span><span
style='font-family:宋体'>，计算数组长度</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>#define ARRAY_SIZE(a)&nbsp; ((sizeof(a)) / (sizeof(a[0])))</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>宏定义与</span><span lang=EN-US>typedef</span></b><b><span
style='font-family:宋体'>别名的区别：</span></b></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #define&nbsp;
PINT&nbsp; int*</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Typedef&nbsp;
int * Pint;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pint &nbsp;&nbsp;
p1,&nbsp; p2;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PINT&nbsp;
p3,&nbsp; p4;&nbsp; <span style='color:#0070C0'>//p4</span></span><span
style='font-family:宋体;color:#0070C0'>数据类型为</span><span lang=EN-US
style='color:#0070C0'>int</span><span style='font-family:宋体;color:#0070C0'>，其他均为</span><span
lang=EN-US style='color:#0070C0'>int*</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>5.</span><span style='font-family:宋体'>数组</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#333333;background:white'>所谓数组，就是相同数据类型的元素按一定顺序排列的</span><span
lang=EN-US><a href="http://baike.baidu.com/subview/15216/10703233.htm"
target="_blank"><span lang=EN-US style='font-family:宋体;color:#333333;
text-decoration:none'><span lang=EN-US>集合</span></span></a></span><span
style='font-family:宋体;color:#333333;background:white'>，就是把有限个类型相同的变量用一个名字命名，然后用编号区分他们的变量的集合，这个名字称为数组名，编号称为下标。</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#333333;background:white'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp; a[4];</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#333333;background:white'>数组名</span><span
lang=EN-US style='color:#333333;background:white'>a</span><span
style='font-family:宋体;color:#333333;background:white'>即数组首元素的地址，是<span
style='background:yellow'>一个常量</span></span></p>

<h3 style='margin-left:22.5pt;text-indent:-22.5pt'><span lang=EN-US>1）</span><span
style='font-family:宋体;background:white'>数组初始化</span></h3>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
lang=EN-US>int&nbsp; a[4] = {1, 2, 3, 4};</span></p>

<p class=MsoNormal><span style='font-family:宋体'>相当于</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp; a[4]
= { </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [0]
= 1,</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [1]
= 2,</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [2]
= 3,</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [3]
= 4,</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
};</span></p>

<p class=MsoNormal style='margin-left:24.1pt;text-indent:-24.1pt'><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：第二类初始化可以对特定元素进行初始化，没有顺序的要求（可以打乱先后次序）</span></p>

<h3><span lang=EN-US>2</span><span style='font-family:宋体'>）数组指针与指针数组</span></h3>

<p class=MsoNormal><span lang=EN-US>char S[5];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span style='position:absolute;z-index:137;left:0px;
margin-left:3px;margin-top:17px;width:132px;height:186px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=132 height=186 bgcolor=white style='border:.75pt solid white;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:137'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>&nbsp; </span><span style='font-family:
    宋体'>数组的地址</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;S</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp; S+1</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='font-family:宋体'>内存分布表示</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 align=left
 style='margin-left:104.65pt;border-collapse:collapse;border:none;margin-left:
 6.75pt;margin-right:6.75pt'>
 <tr>
  <td width=47 valign=top style='width:35.45pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=47 valign=top style='width:35.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='position:absolute;z-index:138;left:0px;
  margin-left:-63px;margin-top:14px;width:55px;height:12px'><img width=55
  height=12 src="embedded_linux_notes.files/image062.png"></span><span
  style='position:absolute;z-index:135;left:0px;margin-left:38px;margin-top:
  19px;width:20px;height:110px'><img width=20 height=110
  src="embedded_linux_notes.files/image063.png"></span><span style='position:
  absolute;z-index:134;left:0px;margin-left:37px;margin-top:14px;width:21px;
  height:12px'><img width=21 height=12
  src="embedded_linux_notes.files/image064.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;
  </span></p>
  </td>
 </tr>
 <tr>
  <td width=47 valign=top style='width:35.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='position:absolute;z-index:136;left:0px;
  margin-left:37px;margin-top:14px;width:44px;height:12px'><img width=44
  height=12 src="embedded_linux_notes.files/image065.png"></span><span
  lang=EN-US>x</span></p>
  </td>
 </tr>
 <tr>
  <td width=47 valign=top style='width:35.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>x</span></p>
  </td>
 </tr>
 <tr>
  <td width=47 valign=top style='width:35.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>x</span></p>
  </td>
 </tr>
 <tr>
  <td width=47 valign=top style='width:35.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='position:absolute;z-index:139;left:0px;
  margin-left:-98px;margin-top:14px;width:90px;height:34px'><img width=90
  height=34 src="embedded_linux_notes.files/image066.png"></span><span
  lang=EN-US>x</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=47 valign=top style='width:35.45pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>x</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=47 valign=top style='width:35.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-family:宋体'>数组首元素地址</span></p>

<p class=MsoNormal><span lang=EN-US>S</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S+1<br
clear=all>
char&nbsp; [5]&nbsp;&nbsp; //5</span><span style='font-family:宋体'>个</span><span
lang=EN-US>char</span><span style='font-family:宋体'>的数组</span></p>

<p class=MsoNormal><span lang=EN-US>5</span><span style='font-family:宋体'>个</span><span
lang=EN-US>char</span><span style='font-family:宋体'>的数组的地址</span><span
lang=EN-US>-</span><span style='font-family:宋体'>即<span style='background:yellow'>数组指针</span></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp; char (*p)[5]</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;background:yellow'>指针数组</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;
<span style='background:silver'>char *</span>p[5];&nbsp; //</span><span
style='font-family:宋体'>数组中有</span><span lang=EN-US>5</span><span
style='font-family:宋体'>个</span><span lang=EN-US>char*</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>指针定义符</span><span lang=EN-US> * </span><span
style='font-family:宋体'>左结合</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>3</span><span style='font-family:宋体'>）二级指针</span></h3>

<p class=MsoNormal style='text-indent:30.0pt'><span lang=EN-US>int&nbsp;
main(int&nbsp; <u>argc,</u>&nbsp; char&nbsp; <u>*argv[]</u>)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>相当于——</span><span lang=EN-US>char **argv</span></p>

<p class=MsoNormal><span style='font-family:宋体'>（参考附命令行参数）</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 align=left
 style='border-collapse:collapse;border:none;margin-left:6.75pt;margin-right:
 6.75pt'>
 <tr>
  <td width=66 valign=top style='width:49.6pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='position:absolute;z-index:173;left:0px;
  margin-left:59px;margin-top:11px;width:78px;height:38px'>
  <table cellpadding=0 cellspacing=0>
   <tr>
    <td width=78 height=38 bgcolor=white style='border:.75pt solid white;
    vertical-align:top;background:white'><span style='position:absolute;
    left:0pt;z-index:173'>
    <table cellpadding=0 cellspacing=0 width="100%">
     <tr>
      <td>
      <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
      <p class=MsoNormal><span lang=EN-US>argv</span></p>
      </div>
      </td>
     </tr>
    </table>
    </span>&nbsp;</td>
   </tr>
  </table>
  </span></p>
  </td>
 </tr>
 <tr>
  <td width=66 valign=top style='width:49.6pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i><s><span style='font-family:宋体;background:silver'>地址</span></s></i></p>
  </td>
 </tr>
 <tr>
  <td width=66 valign=top style='width:49.6pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=66 valign=top style='width:49.6pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=66 valign=top style='width:49.6pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=66 valign=top style='width:49.6pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=66 valign=top style='width:49.6pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='position:absolute;z-index:170;left:0px;
  margin-left:58px;margin-top:5px;width:30px;height:113px'><img width=30
  height=113 src="embedded_linux_notes.files/image067.png"></span><i><span
  style='font-family:宋体'>地址</span><span lang=EN-US>0</span></i></p>
  </td>
 </tr>
 <tr style='height:5.85pt'>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.85pt'>
  <p class=MsoNormal><span style='position:absolute;z-index:171;left:0px;
  margin-left:58px;margin-top:9px;width:49px;height:161px'><img width=49
  height=161 src="embedded_linux_notes.files/image068.png"></span><i><span
  style='font-family:宋体'>地址</span><span lang=EN-US>1</span></i></p>
  </td>
 </tr>
 <tr style='height:9.0pt'>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span style='position:absolute;z-index:172;left:0px;
  margin-left:58px;margin-top:10px;width:60px;height:204px'><img width=60
  height=204 src="embedded_linux_notes.files/image069.png"></span><i><span
  style='font-family:宋体'>地址</span><span lang=EN-US>2</span></i></p>
  </td>
 </tr>
 <tr style='height:5.1pt'>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.1pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:5.85pt'>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.85pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><b><i><span style='font-family:宋体'>数据</span><span
  lang=EN-US>0</span></i></b></p>
  </td>
 </tr>
 <tr style='height:7.35pt'>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><b><i><span lang=EN-US>&nbsp;</span></i></b></p>
  </td>
 </tr>
 <tr style='height:6.6pt'>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.6pt'>
  <p class=MsoNormal><b><i><span lang=EN-US>&nbsp;</span></i></b></p>
  </td>
 </tr>
 <tr style='height:6.6pt'>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.6pt'>
  <p class=MsoNormal><b><i><span style='font-family:宋体'>数据</span><span
  lang=EN-US>1</span></i></b></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><b><i><span lang=EN-US>&nbsp;</span></i></b></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><b><i><span lang=EN-US>&nbsp;</span></i></b></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=66 valign=top style='width:49.6pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><b><i><span style='font-family:宋体'>数据</span><span
  lang=EN-US>2</span></i></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=297 height=10></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=20 height=115 src="embedded_linux_notes.files/image070.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>A</span><b><i><span style='font-family:
宋体'>（数据</span><span lang=EN-US>0</span></i></b><b><i><span style='font-family:
宋体'>）</span></i></b><span style='font-family:宋体'>的存放的地址，即其指针，</span></p>

<p class=MsoNormal><span style='font-family:宋体'>它存放在</span><span lang=EN-US>*A</span><i><span
style='font-family:宋体'>（地址</span><span lang=EN-US>0</span></i><i><span
style='font-family:宋体'>）</span></i><span style='font-family:宋体'>，而存放</span><span
lang=EN-US>*A</span><span style='font-family:宋体'>的地址</span></p>

<p class=MsoNormal><span style='font-family:宋体'>，即</span><span lang=EN-US>*A</span><span
style='font-family:宋体'>指针，存放在<s><span style='background:silver'>地址</span></s></span><span
lang=EN-US>argv</span><span style='font-family:宋体'>处内容</span></p>

<p class=MsoNormal><span style='font-family:宋体'>是</span><span lang=EN-US>*(*A) </span><span
style='font-family:宋体'>相当于</span><span lang=EN-US> argv&nbsp; =&nbsp; **A</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=95 height=2></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=37 height=82 src="embedded_linux_notes.files/image071.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-size:10.0pt;font-family:宋体'>推广</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>字符数组</span><span lang=EN-US>char
a[]<b><i>(</i></b></span><b><i><span style='font-family:宋体'>数据</span><span
lang=EN-US>0)</span></i></b><span style='font-family:宋体'>的存放地址，</span></p>

<p class=MsoNormal><span style='font-family:宋体'>即数组</span><span lang=EN-US>*a</span><span
style='font-family:宋体'>的地址（数组首元素的地址</span><span lang=EN-US>a</span><span
style='font-family:宋体'>）</span><span lang=EN-US>,</span></p>

<p class=MsoNormal><span style='font-family:宋体'>它存放在（<i>地址</i></span><i><span
lang=EN-US>0</span></i><span style='font-family:宋体'>）处，内容</span><span
lang=EN-US>*a</span><span style='font-family:宋体'>，而存放</span></p>

<p class=MsoNormal><span lang=EN-US>*a</span><span style='font-family:宋体'>空间的地址</span><span
lang=EN-US>*(*a)</span><span style='font-family:宋体'>，存放在<i><s><span
style='background:silver'>地址</span></s></i></span><span lang=EN-US>argv</span><span
style='font-family:宋体'>处</span></p>

<p class=MsoNormal><span style='font-family:宋体'>（</span><span lang=EN-US>argv =
**a&nbsp; </span><span style='font-family:宋体'>相当于</span><span lang=EN-US> argv
= char *a[]</span><span style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br clear=all>
</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>4</span><span style='font-family:宋体'>）数组操作</span></h3>

<p class=MsoNormal><span lang=EN-US>#include &lt;strings.h&gt;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><b><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='font-family:宋体'>清零</span></b></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>void bzero(void
*s, size_t n);&nbsp; //</span><span style='font-family:宋体'>置字节字符串前</span><span
lang=EN-US>n</span><span style='font-family:宋体'>个字节为零包含</span><span lang=EN-US>’\0’</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>bzero(buf,
sizeof(buf));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>清零整个数组</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><b><span style='font-family:宋体'>该函数也可用于对结构体进行初始化复位</span></b><span
style='font-family:宋体'>。</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><b><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='font-family:宋体'>初始化</span></b></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>void
*memset(void *s, int c, size_t n); //</span><span style='font-family:宋体'>将</span><span
lang=EN-US>s</span><span style='font-family:宋体'>中的前</span><span lang=EN-US>n</span><span
style='font-family:宋体'>个字节用</span><span lang=EN-US>c</span><span
style='font-family:宋体'>代替并返回</span><span lang=EN-US>s</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>c.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-family:宋体'>复制</span></b><span
style='font-family:宋体'>（因为数组无法整体赋值，如</span><s><span lang=EN-US
style='color:#404040'>a[5] = b[5]</span></s><span style='font-family:宋体'>）</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>void
*memcpy(void *dest, const void *src, size_t n); //</span><span
style='font-family:宋体'>从源</span><span lang=EN-US>src</span><span
style='font-family:宋体'>所指的内存地址起始位置复制</span><span lang=EN-US>n</span><span
style='font-family:宋体'>个字节到目标</span><span lang=EN-US>dest</span><span
style='font-family:宋体'>所指的内存地址起始位置</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<h2><span lang=EN-US>6.</span><span style='font-family:宋体'>结构体</span></h2>

<p class=MsoNormal><span style='font-family:宋体'>结构体命名结构</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:166;left:0px;
margin-left:28px;margin-top:12px;width:12px;height:85px'><img width=12
height=85 src="embedded_linux_notes.files/image072.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct
{</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp; a,</span></p>

<p class=MsoNormal><span style='font-family:宋体'>类型</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b,</span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
lang=EN-US>c;</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>}<u>st</u>;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>变量名</span></p>

<p class=MsoNormal><span style='font-family:宋体'>结构体嵌套——便于内存归类</span></p>

<h2><span lang=EN-US>7.</span><span style='font-family:宋体'>函数</span></h2>

<h3><span lang=EN-US>1) strtol</span></h3>

<p class=MsoNormal><span style='font-family:宋体'>功能：字符串转化成长整型</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>long&nbsp;
int strtol(const char *nptr,&nbsp; char **endptr,&nbsp; int base);</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>nptr </span><span
style='font-family:宋体'>——</span> <span style='font-family:宋体'>目标字符串</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>endptr </span><span
style='font-family:宋体'>——</span> <span style='font-family:宋体'>？？</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>base </span><span
style='font-family:宋体'>——</span> <span style='font-family:宋体'>目标字符串所转的进制数</span></p>

<p class=MsoNormal><span style='font-family:宋体'>示例：</span><span lang=EN-US>&nbsp; char
*s = “131412312s”;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Char
*p;&nbsp; long n;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; N
= strtol(s, &amp;p, 10);&nbsp; //</span><span style='font-family:宋体'>该字符串转化成十进制</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>注</span></b><span
style='font-family:宋体'>：</span><span lang=EN-US>strtoll&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>转</span><span lang=EN-US>long long</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;strtod&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>转</span><span lang=EN-US>double</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;strtof&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>转</span><span lang=EN-US>float</span></p>

<h3><span lang=EN-US>2</span><span style='font-family:宋体'>）</span><span
lang=EN-US>fgets</span></h3>

<p class=MsoNormal style='text-indent:24.0pt;line-height:18.0pt;background:
white'><span style='font-family:宋体'>功能：（用户输入）</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>可以用作键盘输入：</span><span
lang=EN-US>fgets</span><span style='font-family:宋体'>（</span><span lang=EN-US>key</span><span
style='font-family:宋体'>，</span><span lang=EN-US>n</span><span style='font-family:
宋体'>，</span><span lang=EN-US>stdin</span><span style='font-family:宋体'>）且还必须：</span><span
lang=EN-US>key[strlen(key)-1]='\0'</span></p>

<p class=MsoNormal><span style='font-family:宋体'>还有种程序经常使用的方法：</span><span
lang=EN-US>key[strlen(key-1)]=0x00</span><span style='font-family:宋体'>；</span></p>

<p class=MsoNormal><span style='font-family:宋体'>与</span><span lang=EN-US>gets</span><span
style='font-family:宋体'>相比使用这个好处是：读取指定大小的数据，避免</span><span lang=EN-US>gets</span><span
style='font-family:宋体'>函数从</span><span lang=EN-US>stdin</span><span
style='font-family:宋体'>接收字符串而不检查它所复制的缓存的容积导致的缓存溢出问题</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>char
*fgets(char *s, int size, FILE *stream)</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>*s:&nbsp;</span><span
style='font-family:宋体'>字符型指针，指向用来存储所得数据的地址。</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>size:&nbsp;</span><span
style='font-family:宋体'>整型数据，指明存储数据的大小。</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>*stream:&nbsp;</span><span
style='font-family:宋体'>文件结构体指针，将要读取的文件流。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>从文件结构体指针</span><span
lang=EN-US>stream</span><span style='font-family:宋体'>中读取数据，每次读取一行。读取的数据保存在</span><span
lang=EN-US>buf</span><span style='font-family:宋体'>指向的字符数组中，每次最多读取</span><span
lang=EN-US>size-1</span><span style='font-family:宋体'>个字符（第</span><span
lang=EN-US>size</span><span style='font-family:宋体'>个字符赋</span><span lang=EN-US>'\0'</span><span
style='font-family:宋体'>），<b>如果文件中的该行，不足</b></span><b><span lang=EN-US>size</span></b><b><span
style='font-family:宋体'>个字符，则读完该行就结束。如若该行（包括最后一个换行符）的字符数超过</span><span
lang=EN-US>size-1</span></b><b><span style='font-family:宋体'>，则</span><span
lang=EN-US>fgets</span></b><b><span style='font-family:宋体'>只返回一个不完整的行，但是，缓冲区总是以</span><span
lang=EN-US>NULL</span></b><b><span style='font-family:宋体'>字符结尾，对</span><span
lang=EN-US>fgets</span></b><b><span style='font-family:宋体'>的下一次调用会继续读该行</span></b><span
style='font-family:宋体'>。函数成功将返回</span><span lang=EN-US>s</span><span
style='font-family:宋体'>，失败或读到文件结尾返回</span><span lang=EN-US>NULL</span><span
style='font-family:宋体'>。因此我们不能直接通过</span><span lang=EN-US>fgets</span><span
style='font-family:宋体'>的返回值来判断函数是否是出错而终止的，应该借助</span><span lang=EN-US>feof</span><span
style='font-family:宋体'>函数或者</span><span lang=EN-US>ferror</span><span
style='font-family:宋体'>函数来判断。</span></p>

<h3><span style='font-family:宋体'>字符串处理</span><span lang=EN-US>&lt;string.h&gt;</span></h3>

<h4 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>strtol()</span><span style='font-family:宋体'>—数字字符串转转换成（二、八、十进制）</span></h4>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>原型：</span><span lang=EN-US>long int strtol(const char*
nptr, char** endptr, int base);</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>功能：将字符串中的数字转成</span><span lang=EN-US>base</span><span
style='font-family:宋体'>进制数（以数字开头的字符串）</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>返回值：</span></p>

<h4 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>atoi</span></h4>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>原型：</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体;background:#D9D9D9'>注：在</span><span lang=EN-US
style='background:#D9D9D9'>VC</span><span style='font-family:宋体;background:
#D9D9D9'>中可以是用</span><span lang=EN-US style='background:#D9D9D9'>itoa()</span><span
style='font-family:宋体;background:#D9D9D9'>函数，进行进制转换</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='background:#D9D9D9'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;background:#D9D9D9'>如：</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='background:#D9D9D9'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char
buf[50];</span></p>

<p class=MsoNormal style='margin-left:132.0pt;text-indent:-90.0pt'><span
lang=EN-US style='background:#D9D9D9'>itoa(10, buf, 2); //</span><span
style='font-family:宋体;background:#D9D9D9'>将数字</span><span lang=EN-US
style='background:#D9D9D9'>10</span><span style='font-family:宋体;background:
#D9D9D9'>转换成二（</span><span lang=EN-US style='background:#D9D9D9'>2</span><span
style='font-family:宋体;background:#D9D9D9'>）进制后，存到</span><span lang=EN-US
style='background:#D9D9D9'>buf</span><span style='font-family:宋体;background:
#D9D9D9'>字符数组中成字符串</span></p>

<h4 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>strcat()</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h4 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>strstr()</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h4 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>e.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>strtok()</span><span style='font-family:宋体'>——分割字符串</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h4 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>f.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>strrchr()</span></h4>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>8.</span><span style='font-family:宋体'>异常处理</span></h2>

<h3><span lang=EN-US>1</span><span style='font-family:宋体'>）段错误——野指针</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>野指针——只声明，没有初始化</span></p>

<p class=MsoNormal><span style='font-family:宋体'>如：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct
sDateTime&nbsp; *pDT;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pDT-&gt;time.second
= 14;</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>}</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>此时，</span><span
lang=EN-US>pDT</span><span style='font-family:宋体'>为野指针，它指向内存中的任意一段内存空间，而该段内存可能对该指针没有访问权限或没有所指向的内容，而导致非法访问。</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:red'>段错误在</span><span
lang=EN-US style='color:red'>windows</span><span style='font-family:宋体;
color:red'>下容易导致蓝屏</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>正确使用：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>{</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct sDateTime dt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct
sDateTime&nbsp; *pDT = &amp;dt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pDT-&gt;time.second
= 14;</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体;background:#D9D9D9'>注</span></b><span
style='font-family:宋体;background:#D9D9D9'>：在程序中<span style='color:#4F81BD'>声明一个变量</span>，就是在内存中开辟一段<span
style='color:#4F81BD'>内存空间</span>（大小视变量类型而定）；而<span style='color:#4F81BD'>声明一个指针</span>则是给定一个<span
style='color:#4F81BD'>内存地址</span>，而只有当一段空间与一个地址“<b><i>绑定</i></b>”的时时候（也就是取址、赋值），该指针才有意义</span><span
lang=EN-US style='background:#D9D9D9'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<h2><span style='position:absolute;z-index:147;margin-left:180px;margin-top:
41px;width:12px;height:49px'><img width=12 height=49
src="embedded_linux_notes.files/image073.png"></span><span lang=EN-US>9.</span><span
style='font-family:宋体'>进程</span></h2>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=123 height=11></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=124 height=71 src="embedded_linux_notes.files/image074.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (</span><span
style='font-family:宋体'>创建进程</span><span lang=EN-US>) </span><span
style='font-family:宋体'>——</span> <span style='font-family:宋体'>复制所有数据</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=153 height=15></td>
 </tr>
 <tr>
  <td></td>
  <td width=68 height=39 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:144'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>fork</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:150;left:0px;
margin-left:215px;margin-top:10px;width:76px;height:73px'><img width=76
height=73 src="embedded_linux_notes.files/image075.png"></span><span
style='font-family:宋体'>内存中</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:149;left:0px;
margin-left:180px;margin-top:7px;width:12px;height:55px'><img width=12
height=55 src="embedded_linux_notes.files/image076.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a</span><span
style='font-family:宋体'>只有一个</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（共享代码）</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:151;left:0px;
margin-left:17px;margin-top:18px;width:391px;height:3px'><img width=391
height=3 src="embedded_linux_notes.files/image077.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>父进程</span><span lang=EN-US> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>子进程</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=153 height=17></td>
  <td width=64></td>
  <td width=38></td>
  <td width=74></td>
 </tr>
 <tr>
  <td height=2></td>
  <td colspan=2></td>
  <td rowspan=3 width=74 height=39 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:145'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>a = 9</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
 <tr>
  <td height=35></td>
  <td align=left valign=top><img width=64 height=35
  src="embedded_linux_notes.files/image078.png"></td>
 </tr>
 <tr>
  <td height=2></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a</span><span
style='font-family:宋体'>有两个</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=180 height=9></td>
  <td width=12></td>
  <td width=87></td>
  <td width=12></td>
 </tr>
 <tr>
  <td height=22></td>
  <td align=left valign=top><img width=12 height=22
  src="embedded_linux_notes.files/image079.png"></td>
  <td></td>
  <td align=left valign=top><img width=12 height=22
  src="embedded_linux_notes.files/image080.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>无论任何进程，父子进程数据是私有的，代码是共享的</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span style='position:absolute;z-index:157;margin-left:173px;margin-top:
49px;width:12px;height:26px'><img width=12 height=26
src="embedded_linux_notes.files/image081.png"></span><span style='position:
absolute;z-index:154;margin-left:128px;margin-top:72px;width:101px;height:35px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=101 height=35 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  z-index:154'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>Int&nbsp; a = 8; </span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>10.</span><span style='font-family:宋体'>线程</span></h2>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:158;left:0px;
margin-left:173px;margin-top:4px;width:12px;height:41px'><img width=12
height=41 src="embedded_linux_notes.files/image082.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>函数调用</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=11 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=234 height=72 src="embedded_linux_notes.files/image083.png"></td>
 </tr>
</table>

<span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:162;left:0px;
margin-left:72px;margin-top:11px;width:69px;height:3px'><img width=69 height=3
src="embedded_linux_notes.files/image084.png"></span><span style='font-family:
宋体'>修改</span><span lang=EN-US>a</span><span style='font-family:宋体'>值</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>读取</span><span lang=EN-US>a</span><span
style='font-family:宋体'>值</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>（线程间数据共享——通信）</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>优点</span></b><span
style='font-family:宋体'>：</span><span lang=EN-US> a.&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>数据共享</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b</span><span
style='font-family:宋体'>．代码共享</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c</span><span
style='font-family:宋体'>．多核处理器可使不同线程在不同处理器上</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>速度快，安全性低</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif";
color:red'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<h2><span style='font-family:宋体'>附：</span></h2>

<h3><span lang=EN-US>1.&nbsp;&nbsp; C</span><span style='font-family:宋体'>语言中零的表示：</span></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:76.3pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=182 valign=top style='width:136.75pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
  <td width=205 valign=top style='width:153.85pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>.0</span></p>
  </td>
 </tr>
 <tr>
  <td width=182 valign=top style='width:136.75pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0L</span></p>
  </td>
  <td width=205 valign=top style='width:153.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>.0F</span></p>
  </td>
 </tr>
 <tr>
  <td width=182 valign=top style='width:136.75pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0UL</span></p>
  </td>
  <td width=205 valign=top style='width:153.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>‘\0’</span></p>
  </td>
 </tr>
 <tr>
  <td width=182 valign=top style='width:136.75pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0U</span></p>
  </td>
  <td width=205 valign=top style='width:153.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>NULL == ((void *) 0 )</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-family:宋体'>注：字符串末尾有一个</span><span
lang=EN-US>’\0’, </span><span style='font-family:宋体'>代表该字符串结束</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>字符串数据类型</span><span lang=EN-US>&nbsp;&nbsp; “abc”&nbsp;&nbsp;
</span><span style='font-family:宋体'>为</span><span lang=EN-US>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; const
char *</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<h3><span lang=EN-US>2.&nbsp;&nbsp; </span><span style='font-family:宋体'>命令行参数</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;
main(int&nbsp; <u>argc,</u>&nbsp; char&nbsp; <u>*argv[]</u>)</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=105 height=0></td>
  <td width=68></td>
  <td width=90></td>
  <td width=12></td>
 </tr>
 <tr>
  <td height=26></td>
  <td rowspan=2 align=left valign=top><img width=68 height=30
  src="embedded_linux_notes.files/image085.png"></td>
  <td></td>
  <td align=left valign=top><img width=12 height=26
  src="embedded_linux_notes.files/image086.png"></td>
 </tr>
 <tr>
  <td height=4></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='font-family:宋体'>命令行参数个数含命令本身</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>列表</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>如：</span><span lang=EN-US>./waveplayer&nbsp;
xp.wav&nbsp; xp1.wav</span></p>

<p class=MsoNormal><span lang=EN-US>argc = 3 argv[0]&nbsp;&nbsp;
argv[1]&nbsp;&nbsp; argv[2]</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;(</span><span style='font-family:
宋体'>参考二级指针</span><span lang=EN-US>)</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif";
color:red'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<h2><span style='font-family:宋体'>示例：</span><span lang=EN-US>rgb24 </span><span
style='font-family:宋体'>——</span> <span lang=EN-US>rgb565</span></h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:37.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=26 valign=top style='width:19.5pt;border-top:windowtext;border-left:
  black;border-bottom:black;border-right:windowtext;border-style:solid;
  border-width:1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=31 valign=top style='width:23.1pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=30 valign=top style='width:22.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=27 valign=top style='width:20.1pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=26 valign=top style='width:19.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid #00B050 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=31 valign=top style='width:23.1pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=30 valign=top style='width:22.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=27 valign=top style='width:20.1pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid red 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=27 valign=top style='width:20.25pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=30 valign=top style='width:22.35pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=28 valign=top style='width:21.0pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid #00B050 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=29 valign=top style='width:21.6pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=29 valign=top style='width:21.75pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=28 valign=top style='width:20.85pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=26 valign=top style='width:19.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=16 valign=top style='width:11.8pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Rgb565</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:37.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=26 valign=top style='width:19.5pt;border-top:windowtext;border-left:
  black;border-bottom:black;border-right:windowtext;border-style:solid;
  border-width:1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=31 valign=top style='width:23.1pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=30 valign=top style='width:22.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=27 valign=top style='width:20.1pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=26 valign=top style='width:19.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid #00B050 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=31 valign=top style='width:23.1pt;border:solid #00B0F0 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>0</span></p>
  </td>
  <td width=30 valign=top style='width:22.5pt;border:solid #92CDDC 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>0</span></p>
  </td>
  <td width=27 valign=top style='width:20.1pt;border:solid #92CDDC 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>0</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; R&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（</span><span lang=EN-US>r &amp; 0xF8</span><span
style='font-family:宋体'>）</span><span lang=EN-US>&lt;&lt; 8</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:142.45pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=31 valign=top style='width:23.1pt;border:solid black 1.0pt;
  border-left:solid #00B050 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=30 valign=top style='width:22.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=27 valign=top style='width:20.1pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid red 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=27 valign=top style='width:20.25pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=30 valign=top style='width:22.35pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=28 valign=top style='width:21.0pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid #00B050 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:#D9D9D9'>&nbsp;</span></p>
  </td>
  <td width=29 valign=top style='width:21.6pt;border:solid #92CDDC 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
  <td width=29 valign=top style='width:21.75pt;border:solid #92CDDC 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; G&nbsp;&nbsp;&nbsp;
(g &amp; 0xFC) &lt;&lt; 3</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:271.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=29 valign=top style='width:21.6pt;border:solid black 1.0pt;
  border-left:solid #00B050 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=29 valign=top style='width:21.75pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=28 valign=top style='width:20.85pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=26 valign=top style='width:19.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=18 valign=top style='width:13.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=22 valign=top style='width:16.8pt;border:solid #00B0F0 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
  <td width=22 valign=top style='width:16.8pt;border:solid #92CDDC 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>0</span></p>
  </td>
  <td width=25 valign=top style='width:18.75pt;border:solid #00B0F0 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>0</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B
(b &gt;&gt; 3)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='background:silver'>Rgb565&nbsp;
=&nbsp; ( (r &amp; 0xF8) .&lt;&lt; 8) | ((g &amp; 0xFC) &lt;&lt; 3) | ( b
&gt;&gt; 3);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection4 style='layout-grid:15.6pt'>

<p class=MsoNormal><span lang=EN-US>#include &lt;stdio.h&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>#include &lt;stdlib.h&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>#include &lt;stdint.h&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>int main(int argc, char *argv[])</span></p>

<p class=MsoNormal><span lang=EN-US>{</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; uint8_t r = 0xFF;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; uint8_t g = 0xCC;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; uint8_t b = 0x99;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; uint16_t rgb = 0;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>rgb = ((r &amp;
0xF8) &lt;&lt; 8) | </span></p>

<p class=MsoNormal style='margin-left:18.7pt;text-indent:35.05pt'><span
lang=EN-US>((g &amp; 0xFC) &lt;&lt; 3) | </span></p>

<p class=MsoNormal style='margin-left:18.7pt;text-indent:35.05pt'><span
lang=EN-US>(b &gt;&gt; 3); </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; fprintf(stdout,
&quot;%4X\n&quot;, rgb);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; return
EXIT_SUCCESS;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US>#include &lt;stdio.h&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>#include &lt;stdlib.h&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>#include &lt;stdint.h&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>typedef union{</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp; uint16_t rgb; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct
{</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint16_t
b : 5;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint16_t
g : 6;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint16_t
r : 5;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }colors;</span></p>

<p class=MsoNormal><span lang=EN-US>}Color;</span></p>

<p class=MsoNormal><span lang=EN-US>int main(int argc, char *argv[])</span></p>

<p class=MsoNormal><span lang=EN-US>{</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint8_t
r = 0xFF;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint8_t
g = 0xCC;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint8_t
b = 0x99;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Color
color;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; color.colors.r
= r &gt;&gt; 3;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; color.colors.g
= g &gt;&gt; 2;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; color.colors.b
= b &gt;&gt; 3;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stdout,
&quot;%04X\n&quot;, color.rgb);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
EXIT_SUCCESS;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection5 style='layout-grid:15.6pt'>

<h1><span style='font-family:宋体'>十一、</span><span lang=EN-US>MAKE</span><span
style='font-family:宋体'>工具</span></h1>

<h2><span lang=EN-US>1.</span><span style='font-family:宋体'>编译规则文件</span></h2>

<p class=MsoNormal><span style='position:absolute;z-index:77;left:0px;
margin-left:210px;margin-top:9px;width:12px;height:50px'><img width=12
height=50 src="embedded_linux_notes.files/image087.png"></span><span
style='position:absolute;z-index:76;left:0px;margin-left:68px;margin-top:10px;
width:12px;height:49px'><img width=12 height=49
src="embedded_linux_notes.files/image088.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GUNMakefile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>高</span></p>

<p class=MsoNormal><span style='font-family:宋体'>规则文件</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; makefile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>优先级</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Makefile</span><span
style='font-family:宋体'>（一般）</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>低</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>一般编写使用</span><span lang=EN-US>Makefile</span><span
style='font-family:宋体'>命名，其他两个多用于在一个项目中存在检测</span></p>

<h2><span style='position:absolute;z-index:78;margin-left:48px;margin-top:74px;
width:184px;height:152px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=184 height=152 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  z-index:78'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span style='font-family:宋体'>目标</span> <span
    style='font-family:宋体'>：</span><span lang=EN-US>[</span><span
    style='font-family:宋体'>依赖列表</span><span lang=EN-US>]</span></p>
    <p class=MsoNormal><span lang=EN-US>tab&nbsp; </span><span
    style='font-family:宋体'>命令</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
    </span><span style='font-family:宋体'>。</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
    style='font-family:宋体'>多行或</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
    </span><span style='font-family:宋体'>。</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0</span><span
    style='font-family:宋体'>行</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
    </span><span style='font-family:宋体'>。</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>2.</span><span style='font-family:宋体'>规则文件由规则构成</span></h2>

<p class=MsoNormal><span style='font-family:宋体'>语法：</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=53 height=8></td>
  <td width=34></td>
  <td width=41></td>
  <td width=12></td>
 </tr>
 <tr>
  <td height=4></td>
  <td colspan=2></td>
  <td rowspan=3 align=left valign=top><img width=12 height=80
  src="embedded_linux_notes.files/image089.png"></td>
 </tr>
 <tr>
  <td height=12></td>
  <td align=left valign=top><img width=34 height=12
  src="embedded_linux_notes.files/image090.png"></td>
 </tr>
 <tr>
  <td height=64></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='font-family:宋体'>规则：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-42.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='font-family:宋体'>先递归、</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>后迭代</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
style='font-size:10.5pt;font-family:宋体'>（检测依赖关系）（根据目标与依赖的时间关系，决定是否重新执行规则里的命令）</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-42.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>在规则文件中，第一个目标为默认目标，如果在下达</span><span
lang=EN-US>make</span><span style='font-family:宋体'>命令时，不指定目标，那就使用默认目标，为递归结点。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
style='font-family:宋体'>也可以在</span><span lang=EN-US>make</span><span
style='font-family:宋体'>时，指定一个目标</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-42.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>没有依赖的目标为伪目标，最好在此目标之上先做说明。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
style='font-family:宋体'>如：</span><span lang=EN-US>PHONY</span><span
style='font-family:宋体'>：</span><span lang=EN-US>clean</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;clean</span><span
style='font-family:宋体'>：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rm
–f circle.o area.o main.o</span></p>

<h2><span lang=EN-US>3.</span><span style='font-family:宋体'>变量</span></h2>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-36.0pt'><span
lang=EN-US>I．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>自定义变量</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
style='font-family:宋体'>赋值：变量名</span><span lang=EN-US>=</span><span
style='font-family:宋体'>值列表（空格分隔）</span><span lang=EN-US>&nbsp; #</span><span
style='font-family:宋体'>多行加转义符</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
style='font-family:宋体'>引用：</span><span lang=EN-US>$(</span><span
style='font-family:宋体'>变量名</span><span lang=EN-US>)</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
style='font-family:宋体'>注：</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>=&nbsp;&nbsp;  </span><span style='font-family:宋体'>引用时才展开变量值</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>:=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>赋值时直接展开变量（替换后不变）</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>+=&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>连接形成列表</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>?=&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>如果原来变量没有赋值时，才有效</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-36.0pt'><span
lang=EN-US>II．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>预定义变量</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:36.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=189 valign=top style='width:142.0pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
  lang=EN-US>$@&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>本条规则的目标</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=189 valign=top style='width:142.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
  lang=EN-US>$^</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>本条规则所有依赖</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=189 valign=top style='width:142.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
  lang=EN-US>$&lt;</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>本条规则第一个依赖</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=189 valign=top style='width:142.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
  lang=EN-US>CC</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>默认的</span><span lang=EN-US>C</span><span style='font-family:宋体'>编译器</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=189 valign=top style='width:142.0pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
  lang=EN-US>CFLANGS</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>指定编译阶段的参数</span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-36.0pt'><span
lang=EN-US>III．<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Make</span><span style='font-family:宋体'>的推断</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
style='font-family:宋体'>推断简单的编译命令</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
style='font-family:宋体'>多目标生成时，可将多个目标作为依赖关系，重新设定一个目标</span></p>

<h2><span lang=EN-US>4.</span><a name="_Toc401693278"><span style='font-family:
宋体'>自动生成</span><span lang=EN-US>Makefile</span></a></h2>

<p class=MsoNormal><span lang=EN-US>a</span><span style='font-family:宋体'>．</span><span
lang=EN-US> <span style='color:#00B0F0'>qmake&nbsp; -project</span>&nbsp; &nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>使用</span><span lang=EN-US>QT</span><span
style='font-family:宋体'>自带工具生成一个</span><span lang=EN-US>round.pro</span><span
style='font-family:宋体'>项目文件</span></p>

<p class=MsoNormal><span lang=EN-US>b.&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>qmake</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span><span
style='font-family:宋体'>通过</span><span lang=EN-US>xxx.pro</span><span
style='font-family:宋体'>项目文件生成</span><span lang=EN-US>Makefile</span><span
style='font-family:宋体'>编译规则文件</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:81;left:0px;
margin-left:296px;margin-top:5px;width:10px;height:64px'><img width=10
height=64 src="embedded_linux_notes.files/image091.png"></span><span
lang=EN-US>c.&nbsp;&nbsp;&nbsp; <span style='color:#00B0F0'>vi Makefile</span></span><span
style='font-family:宋体'>文件，对其根据需要<u>修改</u></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>编译参数</span></p>

<p class=MsoNormal><span lang=EN-US>d.&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>make</span>&nbsp;&nbsp; #</span><span style='font-family:
宋体'>编译</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>指定编译器</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>头文件指定</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>库名指定</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>示例：</span><span lang=EN-US>round</span></h2>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection6 style='layout-grid:15.6pt'>

<p class=MsoNormal><span lang=EN-US>SRC=area.o \</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;  circle.o \</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;  volume.o</span></p>

<p class=MsoNormal><span lang=EN-US>CC=gcc</span></p>

<p class=MsoNormal><span lang=EN-US>CFLAGS=-Wall -O3 -I.</span></p>

<p class=MsoNormal><span lang=EN-US>AR= ar</span></p>

<p class=MsoNormal><span lang=EN-US>LDLAGS=-lm&nbsp;&nbsp; //</span><span
style='font-family:宋体'>自定义变量</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>all : libround.so libround.a round</span></p>

<p class=MsoNormal><span lang=EN-US>libround.so : $(SRC)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(CC)
-fpic -shared&nbsp; -o $@ $(SRC)</span></p>

<p class=MsoNormal><span lang=EN-US>libround.a : $(SRC)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(AR)
-r $@&nbsp; $(SRC)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>round : $(SRC) main.o</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(CC)&nbsp;
$^ -o $@ $(LDLAGS)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>area.o : area.c</span></p>

<p class=MsoNormal><span lang=EN-US>circle.o : circle.c</span></p>

<p class=MsoNormal><span lang=EN-US>volume.o : volume.c</span></p>

<p class=MsoNormal><span lang=EN-US>main.o : main.c round.h</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>.PHONY : clean</span></p>

<p class=MsoNormal><span lang=EN-US>clean :</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rm -f
$(SRC) main.o</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection7 style='layout-grid:15.6pt'>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>十二、设备驱动调用</span></h1>

<h2><span lang=EN-US>1.&nbsp;&nbsp; </span><span style='font-family:宋体'>预备知识</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>在</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>中一切皆文件，而设备文件是为了<span style='background:silver'>统一设备访问接口</span></span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=4 height=9></td>
 </tr>
 <tr>
  <td></td>
  <td width=284 height=261 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:83'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>Application</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:85;left:0px;
margin-left:106px;margin-top:0px;width:182px;height:59px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=182 height=59 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:85'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal style='text-indent:36.0pt'><span lang=EN-US>C library</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; User
space </span><span style='font-family:宋体'>（用户模式）</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=4 height=7></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=384 height=216 src="embedded_linux_notes.files/image092.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:99;left:0px;
margin-left:261px;margin-top:14px;width:47px;height:35px'><img width=47
height=35 src="embedded_linux_notes.files/image093.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>虚拟文件系统</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=16 height=6></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=257 height=41 src="embedded_linux_notes.files/image094.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kernel
space </span><span style='font-family:宋体'>（内核模式）</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:100;left:0px;
margin-left:261px;margin-top:12px;width:46px;height:21px'><img width=46
height=21 src="embedded_linux_notes.files/image095.png"></span><span
style='position:absolute;z-index:92;left:0px;margin-left:201px;margin-top:17px;
width:66px;height:35px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=35 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:92'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>drive</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:91;left:0px;margin-left:81px;
margin-top:17px;width:66px;height:35px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=35 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:91'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>drive</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:90;left:0px;margin-left:16px;
margin-top:17px;width:66px;height:35px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=35 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:90'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>drive</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>驱动</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:101;left:0px;
margin-left:261px;margin-top:6px;width:46px;height:22px'><img width=46
height=22 src="embedded_linux_notes.files/image096.png"></span><span
style='position:absolute;z-index:93;left:0px;margin-left:16px;margin-top:11px;
width:66px;height:36px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=36 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:93'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>device</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:94;left:0px;margin-left:81px;
margin-top:11px;width:66px;height:36px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=36 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:94'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>device</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:95;left:0px;margin-left:201px;
margin-top:11px;width:66px;height:36px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=36 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:95'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>device</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>设备</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=267 height=14></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=57 height=23 src="embedded_linux_notes.files/image097.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Hardware
platform[</span><span style='font-family:宋体'>硬件平台</span><span lang=EN-US>]</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>注：</span><span lang=EN-US>buffer
</span><span style='font-family:宋体'>缓冲区，大小为</span><span lang=EN-US>8192bytes=8kb</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>在程序运行中缓冲区满或遇到换行字符或程序结束时，才向标准输出设备上输出内容。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>文件的使用</span></b></p>

<p class=MsoNormal><span style='font-family:宋体'>系统调用</span><span lang=EN-US>&nbsp;&nbsp;
</span><span style='font-family:宋体'>文件描述符（</span><span lang=EN-US>int</span><span
style='font-family:宋体'>）</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>识别内核访问的设备文件</span></p>

<p class=MsoNormal><span style='font-family:宋体'>标准</span><span lang=EN-US>C</span><span
style='font-family:宋体'>库</span><span lang=EN-US>&nbsp;&nbsp; </span><span
style='font-family:宋体'>文件指针（</span><span lang=EN-US>FILE*</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>文件描述符范围</span><span lang=EN-US>0~65535</span><span
style='font-family:宋体'>，每打开一个文件，文件描述符的值尽可能保持最小值。</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:98;left:0px;
margin-left:227px;margin-top:7px;width:18px;height:46px'><img width=18
height=46 src="embedded_linux_notes.files/image098.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stdin&nbsp;&nbsp;
0</span></p>

<p class=MsoNormal><span style='font-family:宋体'>系统开启后，三个文件默认打开</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stdout&nbsp; 1</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stderr&nbsp;&nbsp;&nbsp;&nbsp; 2</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>2.&nbsp;&nbsp; </span><span style='font-family:宋体'>函数</span></h2>

<h3><span lang=EN-US>a. write</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&lt;unistd.h&gt;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:blue'>ssize_t&nbsp;&nbsp;&nbsp; write(int fd,&nbsp; const
void&nbsp; *buf,&nbsp; size_t&nbsp; count)</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>功能：指针</span><span
lang=EN-US>buf</span><span style='font-family:宋体'>地址开始，将连续个</span><span
lang=EN-US>count</span><span style='font-family:宋体'>个字节，写入到</span><span
lang=EN-US>fd</span><span style='font-family:宋体'>文件描述符所对应的文件中。</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>返回值：</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>实际写入的字节数</span></p>

<p class=MsoListParagraph style='margin-left:126.0pt;text-indent:-42.0pt'><span
lang=EN-US>0<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>未写入数据</span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>-1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>失败</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>出错：设置</span><span
lang=EN-US>errno</span></p>

<p class=MsoNormal><span style='font-family:宋体'>注：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t&nbsp;&nbsp;
unsigned&nbsp; int&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>表示大小、数量、无符号</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ssize_t&nbsp;
signed&nbsp; int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
style='font-family:宋体'>表示大小、数量、符号</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void
*&nbsp;&nbsp; </span><span style='font-family:宋体'>无类型指针，可以指向任意类型的内存地址</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const
void * </span><span style='font-family:宋体'>常数据指针，不能通过该指针修改它所指的数据</span></p>

<h3><span lang=EN-US>b. close</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&lt;unisstd.h&gt;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:blue'>int close(int fd)</span></p>

<p class=MsoNormal><span style='font-family:宋体'>功能：关闭文件描述符为</span><span
lang=EN-US>fd</span><span style='font-family:宋体'>的文件</span></p>

<p class=MsoNormal><span style='font-family:宋体'>返回值：成功</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; 0</span><span
style='font-family:宋体'>；</span> <span style='font-family:宋体'>失败</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; -1</span></p>

<p class=MsoNormal><span style='font-family:宋体'>出错：设置</span><span lang=EN-US>errno</span></p>

<p class=MsoNormal><span style='font-family:宋体'>注：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>程序中一般不对</span><span lang=EN-US>close</span><span
style='font-family:宋体'>进行出错处理</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>只针对进程关闭文件，如果一进程与其克隆进程，同时使用一个文件；其中一进程通过</span><span
lang=EN-US>close</span><span style='font-family:宋体'>关闭该文件，另一进程还能正常使用。</span></p>

<h3><span style='font-family:宋体'>出错处理</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>1.&nbsp;&nbsp;&nbsp;&nbsp; &lt;errno.h&gt;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>errno&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>错误号</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;string.h&gt;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>char&nbsp;
*strerror(int no)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>根据错误号取出出错信息</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>2.&nbsp;&nbsp;&nbsp;&nbsp; &lt;stdio.h&gt;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>perror(“write”);&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>在</span><span lang=EN-US>write</span><span
style='font-family:宋体'>后加上冒号和出错信息，然后输出到</span><span lang=EN-US>stderr</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><b><span style='font-family:宋体'>注</span></b><span
style='font-family:宋体'>：在</span><span lang=EN-US>if</span><span
style='font-family:宋体'>条件判断时，出现</span><span lang=EN-US>==</span><span
style='font-family:宋体'>和常数时，常数一般写</span><span lang=EN-US>==</span><span
style='font-family:宋体'>左边，防止将关系运算符写成赋值运算时，不报错</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>在编码时，通常使用</span></p>

<p class=MsoNormal style='margin-left:60.0pt;text-indent:3.0pt'><span
lang=EN-US>return –errno;&nbsp; //</span><span style='font-family:宋体'>好处？</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:39.0pt;text-indent:-18.0pt'><span lang=EN-US>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>read</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&lt;unisstd.h&gt;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:blue'>ssize_t&nbsp; read(int&nbsp; fd,&nbsp; void&nbsp; *buf,&nbsp;
size_t&nbsp; count)</span></p>

<p class=MsoNormal><span style='font-family:宋体'>功能：从</span><span lang=EN-US>fd</span><span
style='font-family:宋体'>代表的文件中，读取</span><span lang=EN-US>count</span><span
style='font-family:宋体'>个字节的数据，存入</span><span lang=EN-US>buf</span><span
style='font-family:宋体'>地址中。</span></p>

<p class=MsoNormal><span style='font-family:宋体'>返回值：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; &gt;0&nbsp;&nbsp; </span><span
style='font-family:宋体'>实际读到的字节数</span></p>

<p class=MsoListParagraph style='margin-left:84.0pt;text-indent:-21.0pt'><span
lang=EN-US>0<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>读到任何数据</span></p>

<p class=MsoNormal style='margin-left:63.0pt'><span lang=EN-US>-1&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>失败</span></p>

<p class=MsoNormal><span style='font-family:宋体'>出错：同</span><span lang=EN-US>write</span></p>

<p class=MsoNormal><span style='font-family:宋体'>注：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>string.h</span><span
style='font-family:宋体'>头文件包含了</span><span lang=EN-US>strings.h</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>BUFSIZ</span><span
style='font-family:宋体'>是个宏，定义于</span><span lang=EN-US>stdio.h</span><span
style='font-family:宋体'>中，其值为系统缓冲区大小（</span><span lang=EN-US>8192byts=8kb</span><span
style='font-family:宋体'>）</span></p>

<h3 style='margin-left:39.0pt;text-indent:-18.0pt'><span lang=EN-US>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>open</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&lt;sys/types.h&gt;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&lt;sys/stat.h&gt;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&lt;fcntl.h&gt;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:blue'>int open(const char *name, int flags)</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span style='font-family:
宋体'>打开已存在文件</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:blue'>int open(const char *name, int flags, mode_t mode) </span><span
lang=EN-US>&nbsp;//</span><span style='font-family:宋体'>不存在时新建并打开</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>功能：以</span><span
lang=EN-US>flags</span><span style='font-family:宋体'>指定方式打开一个</span><span
lang=EN-US>name</span><span style='font-family:宋体'>指定文件</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>返回值：成功——返回文件描述符</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
style='font-family:宋体'>失败——</span><span lang=EN-US>-1</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>出错：同</span><span
lang=EN-US>write</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>打开方式</span><span
lang=EN-US>flags</span><span style='font-family:宋体'>：</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:18.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=139 valign=top style='width:103.95pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>O_RDONLY</span></p>
  </td>
  <td width=133 valign=top style='width:99.95pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>只读</span></p>
  </td>
  <td width=139 valign=top style='width:104.25pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>O_WRONLY</span></p>
  </td>
  <td width=133 valign=top style='width:99.95pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>只写</span></p>
  </td>
 </tr>
 <tr>
  <td width=139 valign=top style='width:103.95pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>O_RDWR</span></p>
  </td>
  <td width=133 valign=top style='width:99.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>读写</span></p>
  </td>
  <td width=139 valign=top style='width:104.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>O_CREAT</span></p>
  </td>
  <td width=133 valign=top style='width:99.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>创建</span></p>
  </td>
 </tr>
 <tr style='height:9.0pt'>
  <td width=139 valign=top style='width:103.95pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>O_SYNC</span></p>
  </td>
  <td width=133 valign=top style='width:99.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span style='font-family:宋体'>同步</span></p>
  </td>
  <td width=139 valign=top style='width:104.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>O_TRUNC</span></p>
  </td>
  <td width=133 valign=top style='width:99.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span style='font-family:宋体'>若存在则清空</span></p>
  </td>
 </tr>
 <tr style='height:6.75pt'>
  <td width=139 valign=top style='width:103.95pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US>O_APEND</span></p>
  </td>
  <td width=406 colspan=3 valign=top style='width:304.15pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>追加模式打开，文件打开后文件指针指向文件尾（其他默认都在文件首，多次写时将覆盖之前文件内容）</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:3.0pt'><span
style='font-family:宋体'>多个参数时，使用按位或链接。如：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>O_RDWR | O_CREAT</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如果</span><span lang=EN-US>flags</span><span
style='font-family:宋体'>中包含了</span><span lang=EN-US>O_CREAT</span><span
style='font-family:宋体'>，则必须使用三参的</span><span lang=EN-US>open</span><span
style='font-family:宋体'>函数</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>mode</span><span
style='font-family:宋体'>：用于指定文件权限、属性等。</span><span lang=EN-US>(</span><span
style='font-family:宋体'>见附文件掩码</span><span lang=EN-US>)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>如：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>S_IRUSR |
S_IRGRUP | S_IROTH</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>Open(FILENAME,&nbsp;
O_WRONLY | O_TRUNC, <span style='background:yellow'>0644</span>) // </span><span
style='font-family:宋体'>八进制权限表示</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:39.0pt;text-indent:-18.0pt'><span lang=EN-US>e.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>ioctl</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&lt;sys/ioctl.h&gt;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='position:absolute;
z-index:111;left:0px;margin-left:223px;margin-top:18px;width:40px;height:33px'><img
width=40 height=33 src="embedded_linux_notes.files/image099.png"></span><span
style='position:absolute;z-index:110;left:0px;margin-left:139px;margin-top:
18px;width:31px;height:32px'><img width=31 height=32
src="embedded_linux_notes.files/image100.png"></span><span lang=EN-US>int&nbsp;&nbsp; ioctl(int&nbsp; df,&nbsp; <u>int&nbsp;&nbsp; cmd</u>,&nbsp;
<u>…</u>)</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='position:absolute;
z-index:112;left:0px;margin-left:260px;margin-top:9px;width:12px;height:28px'><img
width=12 height=28 src="embedded_linux_notes.files/image101.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>（命令或请求）</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>无</span><span lang=EN-US>&nbsp;&nbsp; </span><span
style='font-family:宋体'>（</span><span lang=EN-US>cmd</span><span
style='font-family:宋体'>命令没有参数）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
</span><span style='font-family:宋体'>驱动程序头文件</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>地址（根据</span><span lang=EN-US>cmd</span><span
style='font-family:宋体'>参数决定）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/include/linux/*.h</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #include
&lt;linux/xxx.h&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=64 height=11></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=112 height=45 src="embedded_linux_notes.files/image102.png"
  alt="流程图: 库存数据: 声卡等"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>统一的设备控制接口（</span><span lang=EN-US>UNIX</span><span
style='font-family:宋体'>统一规定）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=106 height=8></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=12 height=33 src="embedded_linux_notes.files/image103.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal style='margin-left:21.0pt'><span style='position:absolute;
z-index:114;left:0px;margin-left:68px;margin-top:18px;width:96px;height:46px'><img
width=96 height=46 src="embedded_linux_notes.files/image104.png" alt="椭圆: 驱动"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;font-family:宋体'>同类设备驱动兼容上层控制接口</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=68 height=15></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=101 height=87 src="embedded_linux_notes.files/image105.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>示例：将通道数设为</span><span
lang=EN-US>2</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><img border=0
width=554 height=84 src="embedded_linux_notes.files/image106.jpg"></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><img border=0
width=390 height=49 src="embedded_linux_notes.files/image107.png"></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>声卡设备使用：</span></p>

<p class=MsoListParagraph style='margin-left:102.0pt;text-indent:-102.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>复位</span></p>

<p class=MsoListParagraph style='margin-left:102.0pt;text-indent:-102.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>设置声道、采样率、位数等。。。</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>注：幻数</span>
<span style='font-family:宋体'>——</span> <span style='font-family:宋体'>主要用于控制（</span><span
lang=EN-US>ctl</span><span style='font-family:宋体'>）命令。</span></p>

<p class=MsoListParagraph style='margin-left:75.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:absolute;z-index:121;left:0px;margin-left:
208px;margin-top:4px;width:149px;height:144px'><img width=149 height=144
src="embedded_linux_notes.files/image108.png"></span><span style='position:
absolute;z-index:118;left:0px;margin-left:177px;margin-top:4px;width:10px;
height:52px'><img width=10 height=52
src="embedded_linux_notes.files/image109.png"></span><span style='font-family:
宋体'>数据方向</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>无</span></p>

<p class=MsoNormal style='margin-left:147.0pt'><span style='position:absolute;
z-index:119;left:0px;margin-left:223px;margin-top:5px;width:29px;height:12px'><img
width=29 height=12 src="embedded_linux_notes.files/image110.png"></span><span
style='font-family:宋体'>写（</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>驱动）</span><span lang=EN-US>W</span></p>

<p class=MsoNormal style='margin-left:147.0pt'><span style='position:absolute;
z-index:120;left:0px;margin-left:227px;margin-top:3px;width:24px;height:12px'><img
width=24 height=12 src="embedded_linux_notes.files/image111.png"></span><span
style='font-family:宋体'>读（</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>驱动）</span><span lang=EN-US>R</span></p>

<p class=MsoListParagraph style='margin-left:75.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:absolute;z-index:122;left:0px;margin-left:
303px;margin-top:10px;width:84px;height:76px'><img width=84 height=76
src="embedded_linux_notes.files/image112.png"></span><span style='font-family:
宋体'>设备编号（在幻数列表文件）</span></p>

<p class=MsoListParagraph style='margin-left:75.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:absolute;z-index:123;left:0px;margin-left:
143px;margin-top:11px;width:265px;height:54px'><img width=265 height=54
src="embedded_linux_notes.files/image113.png"></span><span style='font-family:
宋体'>命令值</span></p>

<p class=MsoListParagraph style='margin-left:75.0pt;text-indent:-18.0pt'><span
lang=EN-US>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:absolute;z-index:124;left:0px;margin-left:
163px;margin-top:12px;width:269px;height:33px'><img width=269 height=33
src="embedded_linux_notes.files/image114.png"></span><span style='font-family:
宋体'>数据宽度</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>示例：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>#define
SNDCTL_DSP_CHANNELS&nbsp;&nbsp;&nbsp;&nbsp; _SIO<span style='background:yellow'>WR</span>('<span
style='background:lime'>P</span>', <span style='background:fuchsia'>6,</span> <span
style='background:lime'>int</span>)</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:39.0pt;text-indent:-18.0pt'><span lang=EN-US>f.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>lseek</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：改变文件读</span><span
lang=EN-US>/</span><span style='font-family:宋体'>写偏移量</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;sys/types.h&gt;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;unistd.h&gt;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>原型：</span><span
lang=EN-US>off_t&nbsp; lseek(int fd,&nbsp; off_t offset,&nbsp; int&nbsp;
whence)</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='position:absolute;
z-index:163;left:0px;margin-left:97px;margin-top:8px;width:7px;height:48px'><img
width=7 height=48 src="embedded_linux_notes.files/image115.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SEEK_SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>文件开始</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>whence&nbsp; &nbsp;&nbsp;SEEK_CUR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>当前位置</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SEEK_END&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>文件末尾</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>返回值：函数调用后的文件指针偏移量（以字节为单位）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -1
</span><span style='font-family:宋体'>代表失败</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>例：</span><span
lang=EN-US>lseek( fd, -100, SEEK_CUR)</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:39.0pt;text-indent:-18.0pt'><span lang=EN-US>g.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>mmap </span><span style='font-family:宋体'>——</span> <span
style='font-family:宋体'>内存映射</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：将文件映射到内存（相当于数组）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;sys/mman.h&gt;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>原型：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>void *mmap (void* start, size_t length, int prot, int flags, int fd,
off_t offset)</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>start</span><span
style='font-family:宋体'>——用于指定映射地址，</span><span lang=EN-US>NULL</span><span
style='font-family:宋体'>代表由系统决定映射地址</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>length</span><span
style='font-family:宋体'>——想要映射的长度（单位字节）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='position:absolute;
z-index:164;left:0px;margin-left:150px;margin-top:7px;width:12px;height:50px'><img
width=12 height=50 src="embedded_linux_notes.files/image116.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PROT_READ&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>只读</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>prot</span><span
style='font-family:宋体'>——映射权限</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; PROT_WRINT&nbsp;&nbsp; </span><span
style='font-family:宋体'>只写</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PROT_READ
| PROT_WRINT&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>读写</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='position:absolute;
z-index:165;left:0px;margin-left:159px;margin-top:5px;width:12px;height:22px'><img
width=12 height=22 src="embedded_linux_notes.files/image117.png"></span><span
lang=EN-US>flags</span><span style='font-family:宋体'>——映射模式</span><span
lang=EN-US>&nbsp;&nbsp;  MAP_SHARE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>共享（内存改—文件变）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;MAP_PRIVATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>私有（内存改—文件不变）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>fd</span><span
style='font-family:宋体'>——文件描述符</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>Offset</span><span
style='font-family:宋体'>——映射的文件偏移（相对于文件首的偏移量），必须为分页大小的整数倍</span><span
lang=EN-US> n*getpagesize()&nbsp; //</span><span style='font-family:宋体'>获取系统分页大小</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>返回值：成功——返回映射地址</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
style='font-family:宋体'>失败——</span><span lang=EN-US>(void*)-1</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如：</span><span lang=EN-US>if((void*)-1 == ptr)</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:39.0pt;text-indent:-18.0pt'><span lang=EN-US>h.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>munmap </span><span style='font-family:宋体'>——</span> <span
style='font-family:宋体'>解除映射</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>原型：</span><span
lang=EN-US>int munmap(void *p, size_t length) //</span><span style='font-family:
宋体'>参数与</span><span lang=EN-US>mmap</span><span style='font-family:宋体'>对应</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>返回值：</span>
<span style='font-family:宋体'>成功</span><span lang=EN-US>&nbsp; 0</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
</span><span style='font-family:宋体'>失败</span><span lang=EN-US>&nbsp; -1</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>示例：播放</span><span lang=EN-US>wav</span><span
style='font-family:宋体'>音频文件</span></h2>

<p class=MsoNormal><span style='font-family:宋体'>目的：将未经过压缩的</span><span
lang=EN-US>wav</span><span style='font-family:宋体'>音频文件，通过文件操作播放</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=59 height=18></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=297 height=98 src="embedded_linux_notes.files/image118.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>内存</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; malloc</span><span
style='font-family:宋体'>或数组</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; open&nbsp;
</span><span style='font-family:宋体'>只写</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=11 height=6></td>
  <td width=77></td>
  <td width=253></td>
  <td width=77></td>
 </tr>
 <tr>
  <td height=38></td>
  <td align=left valign=top><img width=77 height=38
  src="embedded_linux_notes.files/image119.png"></td>
  <td></td>
  <td align=left valign=top><img width=77 height=38
  src="embedded_linux_notes.files/image119.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal style='text-indent:12.0pt'><span lang=EN-US>WAV</span><span
style='font-family:宋体'>文件</span> <span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>声卡设备文件</span></p>

<p class=MsoNormal style='text-indent:12.0pt'><span lang=EN-US>open </span><span
style='font-family:宋体'>只读</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='text-indent:12.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>过程化：</span></b></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>打开</span><span lang=EN-US>wav</span><span
style='font-family:宋体'>文件</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>打开声卡设备文件（</span><span lang=EN-US>/dev/audio</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:absolute;z-index:108;left:0px;margin-left:
290px;margin-top:7px;width:15px;height:28px'><img width=15 height=28
src="embedded_linux_notes.files/image120.png"></span><span style='font-family:
宋体'>从</span><span lang=EN-US>wav</span><span style='font-family:宋体'>文件中的数据读到内存中</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:10.0pt;color:#C0504D'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>将内存中的数据写到声卡设备文件</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span style='font-size:10.0pt;font-family:
宋体;color:#C0504D'>循环直至</span><span lang=EN-US style='font-size:10.0pt;
color:#C0504D'>wav</span><span style='font-size:10.0pt;font-family:宋体;
color:#C0504D'>文件读取完毕</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>关闭声卡设备文件</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>关闭</span><span lang=EN-US>wav</span><span
style='font-family:宋体'>文件</span></p>

<p class=MsoNormal><span style='font-family:宋体'>实现</span><span lang=EN-US>1</span><span
style='font-family:宋体'>：</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=554 height=292
src="embedded_linux_notes.files/image121.jpg"></span></p>

<p class=MsoNormal><span style='font-family:宋体'>如何只提取结构体中的成员</span></p>

<p class=MsoNormal><span style='font-family:宋体'>方法一：直接使用</span><span
lang=EN-US>read</span><span style='font-family:宋体'>将文件头部分读入结构体所在内存</span></p>

<p class=MsoNormal><span style='font-family:宋体'>方法二：</span></p>

<p class=MsoNormal><span lang=EN-US>1.&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>数组的内存赋值给结构体的内存，使用</span><span lang=EN-US>memcpy()</span></p>

<p class=MsoNormal><span lang=EN-US>2.&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>只循环一次，结束循环</span></p>

<p class=MsoNormal><span style='font-family:宋体'>虽然可以读取，但在此处不可行</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>模块化</span></b><span
style='font-family:宋体'>（程序复用）</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:125;left:0px;
margin-left:267px;margin-top:2px;width:253px;height:292px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=253 height=292 bgcolor=white style='border:.75pt solid white;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:125'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span style='font-family:宋体'>播放流程</span><span
    lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.5</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
    lang=EN-US>3</span></p>
    <p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
    lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
    lang=EN-US>4</span></p>
    <p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
    lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
    lang=EN-US>6</span></p>
    <p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
    lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal style='margin-left:63.0pt;text-indent:21.0pt'><span
    lang=EN-US>5</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.</span><span
style='font-family:宋体'>初始化音频文件</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:126;left:0px;
margin-left:388px;margin-top:6px;width:12px;height:26px'><img width=12
height=26 src="embedded_linux_notes.files/image122.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a</span><span
style='font-family:宋体'>．打开音频文件</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:132;left:0px;
margin-left:401px;margin-top:7px;width:16px;height:180px'><img width=16
height=180 src="embedded_linux_notes.files/image123.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b</span><span
style='font-family:宋体'>．读取音频参数</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:127;left:0px;
margin-left:388px;margin-top:7px;width:12px;height:27px'><img width=12
height=27 src="embedded_linux_notes.files/image124.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c</span><span
style='font-family:宋体'>．检查文件合法性</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:128;left:0px;
margin-left:388px;margin-top:5px;width:12px;height:30px'><img width=12
height=30 src="embedded_linux_notes.files/image125.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <s>2.</s></span><s><span
style='font-family:宋体'>初始化音频设备</span></s></p>

<p class=MsoNormal><span style='position:absolute;z-index:133;left:0px;
margin-left:379px;margin-top:10px;width:12px;height:48px'><img width=12
height=48 src="embedded_linux_notes.files/image126.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style='font-family:
宋体'>．</span><s><span lang=EN-US>a</span></s><s><span style='font-family:宋体'>．</span></s><span
style='font-family:宋体'>打开音频设备</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:129;left:0px;
margin-left:388px;margin-top:6px;width:12px;height:28px'><img width=12
height=28 src="embedded_linux_notes.files/image127.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.5</span><span
style='font-family:宋体'>．</span><s><span lang=EN-US>b</span></s><s><span
style='font-family:宋体'>．</span></s><span style='font-family:宋体'>设置工作参数</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:130;left:0px;
margin-left:388px;margin-top:6px;width:12px;height:25px'><img width=12
height=25 src="embedded_linux_notes.files/image128.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.</span><span
style='font-family:宋体'>读取音频文件数据</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4.</span><span
style='font-family:宋体'>写音频数据——声卡</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=388 height=6></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=12 height=27 src="embedded_linux_notes.files/image129.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.</span><span
style='font-family:宋体'>关闭音频设备</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6.</span><span
style='font-family:宋体'>关闭音频文件</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>分类</span></b><span
style='font-family:宋体'>：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>音频文件相关：</span><span lang=EN-US>1</span><span
style='font-family:宋体'>，</span><span lang=EN-US> 3</span><span
style='font-family:宋体'>，</span><span lang=EN-US>
6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>（</span><span lang=EN-US>wav.c</span><span style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>音频设备相关：</span><span lang=EN-US>2</span><span
style='font-family:宋体'>，</span><span lang=EN-US> 2.5</span><span
style='font-family:宋体'>，</span><span lang=EN-US> 4</span><span
style='font-family:宋体'>，</span><span lang=EN-US> 5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（</span><span lang=EN-US>soundcard.h</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal align=left style='text-align:left'><b><span lang=EN-US>wav.c</span></b></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:6.0pt'>
  <td width=54 valign=top style='width:40.85pt;border:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:6.0pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>序号</span></p>
  </td>
  <td width=132 valign=top style='width:99.25pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.0pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>函数名</span></p>
  </td>
  <td width=208 colspan=2 valign=top style='width:155.9pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.0pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>所需参数（结构体）</span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.0pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>返回值</span></p>
  </td>
 </tr>
 <tr style='height:9.0pt'>
  <td width=54 valign=top style='width:40.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>1</span></p>
  </td>
  <td width=132 valign=top style='width:99.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>initWaveDecoder</span></p>
  </td>
  <td width=93 valign=top style='width:69.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>文件名</span></p>
  </td>
  <td width=115 valign=top style='width:85.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid #DBE5F1 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>采、声、位、文件描述符</span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>错误号（返回值</span><span lang=EN-US>int</span><span style='font-family:宋体'>）</span></p>
  </td>
 </tr>
 <tr>
  <td width=54 valign=top style='width:40.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>3</span></p>
  </td>
  <td width=132 valign=top style='width:99.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>getWaveDate</span></p>
  </td>
  <td width=208 colspan=2 valign=top style='width:155.9pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>文件描述符、大小、存放位置，偏移量、实际数据长度</span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>错误号（返回值</span><span lang=EN-US>int</span><span style='font-family:宋体'>）</span></p>
  </td>
 </tr>
 <tr>
  <td width=54 valign=top style='width:40.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>6</span></p>
  </td>
  <td width=132 valign=top style='width:99.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>closeWaveFile</span></p>
  </td>
  <td width=208 colspan=2 valign=top style='width:155.9pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>文件描述符</span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体'>错误号（返回值</span><span lang=EN-US>int</span><span style='font-family:宋体'>）</span></p>
  </td>
 </tr>
 <tr height=0>
  <td width=54 style='border:none'></td>
  <td width=132 style='border:none'></td>
  <td width=93 style='border:none'></td>
  <td width=115 style='border:none'></td>
  <td width=161 style='border:none'></td>
 </tr>
</table>

<p class=MsoNormal><b><span lang=EN-US>soundcard.c</span></b></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=555
 style='width:416.5pt;border-collapse:collapse;border:none'>
 <tr style='height:6.75pt'>
  <td width=54 valign=top style='width:40.85pt;border-top:black;border-left:
  windowtext;border-bottom:windowtext;border-right:black;border-style:solid;
  border-width:1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>序号</span></p>
  </td>
  <td width=132 valign=top style='width:99.25pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>函数名</span></p>
  </td>
  <td width=208 colspan=2 valign=top style='width:155.9pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>所需参数（结构体）</span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>返回值</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=54 valign=top style='width:40.85pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=132 valign=top style='width:99.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>OpenSndDevice</span></p>
  </td>
  <td width=93 valign=top style='width:69.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span style='font-family:宋体'>设备名</span></p>
  </td>
  <td width=115 valign=top style='width:86.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid #DBE5F1 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span style='font-family:宋体'>文件描述符</span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span style='font-family:宋体'>错误号（返回值</span><span
  lang=EN-US>int</span><span style='font-family:宋体'>）</span></p>
  </td>
 </tr>
 <tr>
  <td width=54 valign=top style='width:40.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2.5</span></p>
  </td>
  <td width=132 valign=top style='width:99.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>setSndDevice</span></p>
  </td>
  <td width=208 colspan=2 valign=top style='width:155.9pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>文件描述符、采、声、位</span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>错误号（返回值</span><span
  lang=EN-US>int</span><span style='font-family:宋体'>）</span></p>
  </td>
 </tr>
 <tr style='height:21.0pt'>
  <td width=54 valign=top style='width:40.85pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:21.0pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
  <td width=132 valign=top style='width:99.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:21.0pt'>
  <p class=MsoNormal><span lang=EN-US>writeSndDevice</span></p>
  </td>
  <td width=208 colspan=2 valign=top style='width:155.9pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:21.0pt'>
  <p class=MsoNormal><span style='font-family:宋体'>文件描述符、存放位置（地址）、实际长度、</span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:21.0pt'>
  <p class=MsoNormal><span style='font-family:宋体'>错误号（返回值</span><span
  lang=EN-US>int</span><span style='font-family:宋体'>）</span></p>
  </td>
 </tr>
 <tr style='height:9.75pt'>
  <td width=54 valign=top style='width:40.85pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span lang=EN-US>5</span></p>
  </td>
  <td width=132 valign=top style='width:99.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span lang=EN-US>closeSndDevice</span></p>
  </td>
  <td width=208 colspan=2 valign=top style='width:155.9pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>文件描述符</span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>错误号（返回值</span><span
  lang=EN-US>int</span><span style='font-family:宋体'>）</span></p>
  </td>
 </tr>
 <tr height=0>
  <td width=54 style='border:none'></td>
  <td width=132 style='border:none'></td>
  <td width=93 style='border:none'></td>
  <td width=115 style='border:none'></td>
  <td width=161 style='border:none'></td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>注</span></b><span
style='font-family:宋体'>：对固定不变的参数，在函数形参定义时，通常使用</span><span lang=EN-US>const</span><span
style='font-family:宋体'>修饰</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>错误处理</span><span lang=EN-US>&nbsp;
/sndDevice.c</span></b></p>

<p class=MsoNormal><b><span lang=EN-US>&nbsp;</span></b></p>

<p class=MsoNormal><b><span lang=EN-US><img border=0 width=554 height=294
src="embedded_linux_notes.files/image130.jpg"></span></b></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>附：</span></h2>

<h3><span lang=EN-US>1.&nbsp;&nbsp; man</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; man&nbsp;
[</span><span style='font-family:宋体'>级别</span><span lang=EN-US>]&nbsp; </span><span
style='font-family:宋体'>内容</span></p>

<p class=MsoNormal><span style='font-family:宋体'>分级：</span><span lang=EN-US>&nbsp; </span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>1&nbsp;&nbsp;&nbsp;&nbsp; shell</span><span style='font-family:宋体'>命令</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>系统调用函数（与内核直接通信）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3&nbsp;&nbsp;&nbsp;&nbsp; C</span><span
style='font-family:宋体'>库函数</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>设备</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>配置文件</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>游戏</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>协议（设备相关）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>网络相关协议</span></p>

<p class=MsoNormal><span style='font-family:宋体'>位置：</span><span lang=EN-US>/usr/share/man/man[1-8]</span></p>

<h3><span lang=EN-US>2.&nbsp;&nbsp; </span><span style='font-family:宋体'>文件掩码</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>限制系统文件权限</span><span lang=EN-US>,</span><span
style='font-family:宋体'>在初始情况下，文件权限</span><span lang=EN-US>666</span><span
style='font-family:宋体'>目录权限</span><span lang=EN-US>777</span><span
style='font-family:宋体'>，系统通过文件掩码进行默认权限的限制</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>默认文件权限获取：</span></p>

<p class=MsoListParagraph style='margin-left:102.0pt;text-indent:-102.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>文件必须去除可执行权限</span></p>

<p class=MsoListParagraph style='margin-left:102.0pt;text-indent:-102.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iv.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>再用这个权限与掩码按位取反后的值进行与操作</span></p>

<p class=MsoListParagraph style='margin-left:102.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>查看系统文件掩码</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>命令：</span><span
lang=EN-US style='color:#00B0F0'>umask</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><img border=0
width=312 height=57 src="embedded_linux_notes.files/image131.png"></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>0022</span><span
style='font-family:宋体'>（八进制）</span><span lang=EN-US> 000 010 010</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>取反</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
111 101 101</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>文件权限</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; 
110 110 110&nbsp; </span><span style='font-family:宋体'>‘与’</span> <span
style='font-family:宋体'>（初始权限）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='position:absolute;
z-index:109;left:0px;margin-left:140px;margin-top:0px;width:91px;height:3px'><img
width=91 height=3 src="embedded_linux_notes.files/image132.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;110
100 100 </span><span style='font-family:宋体'>——</span> <span lang=EN-US
style='color:#00B0F0'>_rw__r__r__</span><span lang=EN-US>&nbsp;&nbsp; (</span><span
style='font-family:宋体'>创建文件的默认权限</span><span lang=EN-US>)</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><img border=0
width=463 height=72 src="embedded_linux_notes.files/image133.png"></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:57.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>宏定义或关键字加亮</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>部分关键字不亮解决方法</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>在</span><span
lang=EN-US>/usr/share/vim/vim70/syntax/c.vim</span><span style='font-family:
宋体'>中查找相似的预定义变量，将该变量添加在后面。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection8 style='layout-grid:15.6pt'>

<h1><span style='font-family:宋体'>十三、进程编程</span></h1>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>system()</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US>&lt;stdlib.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>int
system(const char *cmd)</span></p>

<p class=MsoNormal><span style='font-family:宋体'>返回值：</span><span lang=EN-US>cmd</span><span
style='font-family:宋体'>运行的结果</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>exec</span><span style='font-family:宋体'>族</span></h2>

<p class=MsoNormal><span style='font-family:宋体'>用处：进程替换</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>man&nbsp; 3&nbsp;&nbsp; exec</span></span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>int
execl(const char *path, const char *arg, …);</span></p>

<p class=MsoNormal><span style='font-family:宋体'>功能：启动一个进程</span></p>

<p class=MsoNormal><span lang=EN-US>path </span><span style='font-family:宋体'>——</span>
<span style='font-family:宋体'>命令路径，该进程替换当前正在运行的进程，如</span><span lang=EN-US>#define
PATH “/bin/ls”</span></p>

<p class=MsoNormal><span lang=EN-US>arg </span><span style='font-family:宋体'>——</span>
<span style='font-family:宋体'>命令参数列表，相当于命令行输入的内容</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
color:red'>注：参数列表中最后一个参数为必须为</span><span lang=EN-US style='color:red'>NULL</span><span
style='font-family:宋体;color:red'>（哨兵）</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>fork()</span></h2>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&lt;sys/types.h&gt;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&lt;unistd.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>pid_t
fork(void);</span></p>

<p class=MsoNormal><span style='font-family:宋体'>功能：创建一个子进程</span></p>

<p class=MsoNormal><span style='font-family:宋体'>参数：无</span></p>

<p class=MsoNormal><span style='font-family:宋体'>返回值：失败</span><span lang=EN-US>&nbsp;
-1</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:175;left:0px;
margin-left:95px;margin-top:6px;width:12px;height:29px'><img width=12
height=29 src="embedded_linux_notes.files/image134.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
style='font-family:宋体'>成功</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>父进程返回子进程</span><span lang=EN-US>ID</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>子进程返回</span><span lang=EN-US>0</span></p>

<p class=MsoNormal><span style='font-family:宋体'>附</span><span lang=EN-US>:&nbsp; 
pid_t getpid(void);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>获取当前进程</span><span lang=EN-US>ID</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;pid_t
getppid(void);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>获取当前父进程</span><span lang=EN-US>ID</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>僵尸进程：只占用</span><span lang=EN-US>ID</span><span
style='font-family:宋体'>，不占用内存和处理器资源</span></p>

<p class=MsoNormal><span lang=EN-US>Fork</span><span style='font-family:宋体'>创建的父子进程，父进程先于子进程结束，子进程就会被</span><span
lang=EN-US>INIT</span><span style='font-family:宋体'>进程托管，（进程号将变为</span><span
lang=EN-US>1</span><span style='font-family:宋体'>）此时这个进程称为“守护进程”；反之子进程先于父进程结束，子进程会等待父进程退出，而一同退出。此时的子进程不占用任何处理器和内存资源，仅占用一个进程</span><span
lang=EN-US>ID</span><span style='font-family:宋体'>，这时子进程被称为僵尸进程。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>kill() </span><span style='font-family:宋体'>——信号生成（进程间通信）</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US>&lt;signal.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>int
kill(pid_t pid, int sig);</span></p>

<p class=MsoNormal><span style='font-family:宋体'>返回值：失败</span><span lang=EN-US>&nbsp;
-1&nbsp;&nbsp; </span><span style='font-family:宋体'>成功</span><span lang=EN-US>&nbsp;&nbsp;
0</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>注：</span><span
lang=EN-US>fork</span><span style='font-family:宋体'>创建的父子进程间通信</span></p>

<p class=MsoNormal><span style='font-family:宋体'>守护进程设置：</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=284 height=106
src="embedded_linux_notes.files/image135.png"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setuid(0);&nbsp;&nbsp;&nbsp;&nbsp;
//</span><span style='font-family:宋体'>使当前进程脱离用户会话期</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; chdir(“/”);&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
//</span><span style='font-family:宋体'>改变当前进程工作路径为根</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; umask(0);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>改变文件掩码值为</span><span lang=EN-US>0000</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>signal() </span><span style='font-family:宋体'>——信号捕获（进程间通信）</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US>&lt;signal.h&gt;</span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US>typedef&nbsp;
void&nbsp; (* sighandler_t) (int);&nbsp;&nbsp; //</span><span style='font-family:
宋体'>函数指针</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>sighandler_t&nbsp;
signal(int signum, sighandler_t handler);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; signum</span><span
style='font-family:宋体'>——信号值</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; handler</span><span
style='font-family:宋体'>——信号处理函数</span></p>

<p class=MsoNormal><span style='font-family:宋体'>功能：捕获信号，此函数调用后，当前进程再次收到</span><span
lang=EN-US>signum</span><span style='font-family:宋体'>信号时，将暂停当前代码，自动调用</span><span
lang=EN-US>handler</span><span style='font-family:宋体'>指向的函数，当</span><span
lang=EN-US>handler</span><span style='font-family:宋体'>指向的函数运行完毕后，返回暂停处继续向下执行。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:red'>注：不是所有信号都可以被捕获，如：</span><span lang=EN-US
style='color:red'>SIGKILL</span><span style='font-family:宋体;color:red'>信号不能被捕获</span></p>

<p class=MsoNormal><span style='font-family:宋体'>返回值：为与信号原来关联的函数指针</span></p>

<p class=MsoNormal><span style='font-family:宋体'>附：</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>调用的目的：当该进程收到</span><span lang=EN-US>signum</span><span
style='font-family:宋体'>指定的信号时，自动调用</span><span lang=EN-US>handler</span><span
style='font-family:宋体'>指定函数</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>每个进程对一些信号都有默认的处理函数</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:183;left:0px;
margin-left:469px;margin-top:151px;width:85px;height:4px'><img width=85
height=4 src="embedded_linux_notes.files/image136.png"></span><span
style='position:absolute;z-index:182;left:0px;margin-left:551px;margin-top:
36px;width:72px;height:117px'><img width=72 height=117
src="embedded_linux_notes.files/image137.png"></span><span style='position:
absolute;z-index:181;left:0px;margin-left:197px;margin-top:34px;width:27px;
height:95px'><img width=27 height=95
src="embedded_linux_notes.files/image138.png"></span><span style='position:
absolute;z-index:180;left:0px;margin-left:267px;margin-top:81px;width:64px;
height:74px'><img width=64 height=74
src="embedded_linux_notes.files/image139.png"></span><span style='position:
absolute;z-index:179;left:0px;margin-left:26px;margin-top:50px;width:77px;
height:79px'><img width=77 height=79
src="embedded_linux_notes.files/image140.png"></span><span style='position:
absolute;z-index:177;left:0px;margin-left:423px;margin-top:26px;width:149px;
height:149px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=149 height=149 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:177'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>defaultprocessInit</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>funInit</span></p>
    <p class=MsoNormal style='margin-left:48.0pt;text-indent:-48.0pt'><span
    lang=EN-US>signal(SIGINT, p);</span></p>
    <p class=MsoNormal><span style='font-family:宋体'>信号表</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; pSIGINT</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:178;left:0px;margin-left:211px;
margin-top:26px;width:149px;height:149px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=149 height=149 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:178'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>defaultprocessInit</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>funInit</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal style='margin-left:48.0pt;text-indent:-48.0pt'><span
    lang=EN-US>p=signal(SIGINT, <u>funInit</u>);</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:176;left:0px;margin-left:-4px;
margin-top:26px;width:149px;height:149px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=149 height=149 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:176'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>defaultprocessInit</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span style='font-family:宋体'>信号表</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pSIGINT</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>A </span><span style='font-family:宋体'>进程启动</span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B</span><span
style='font-family:宋体'>调用</span><span lang=EN-US>signal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C
</span><span style='font-family:宋体'>再次调用</span><span lang=EN-US>signal</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SIG_DEF&nbsp;
</span><span style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>系统默认处理函数</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SIG_IGN&nbsp;
</span><span style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>忽略信号</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>alarm()</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US>&lt;unistd.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>unsigned&nbsp;
int alarm(unsigned&nbsp; int&nbsp; seconds);</span></p>

<p class=MsoNormal><span style='font-family:宋体'>功能：在</span><span lang=EN-US>seconds</span><span
style='font-family:宋体'>后向当前进程发送一个</span><span lang=EN-US>SIGALRM</span><span
style='font-family:宋体'>信号</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:24.0pt;text-indent:-24.0pt'><span lang=EN-US>6.1<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span lang=EN-US>pause()</span></h2>

<p class=MsoListParagraph style='margin-left:24.0pt;text-indent:0cm'><span
style='font-family:宋体'>原型：</span><span lang=EN-US>int pause(void)</span></p>

<p class=MsoListParagraph style='margin-left:24.0pt;text-indent:0cm'><span
style='font-family:宋体'>功能：暂停函数，以阻塞方式暂停当前进程</span></p>

<p class=MsoListParagraph style='margin-left:24.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>阻塞方式——使该进程占用很少的处理器资源</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>setitimer()</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US>&lt;sys/time.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>int
setitimer(int which, const struct itimerval *value, struct itimerval *oldvalue)</span></p>

<p class=MsoNormal><span style='font-family:宋体'>参数：</span></p>

<p class=MsoNormal style='margin-left:182.3pt;text-indent:-150.0pt'><span
style='position:absolute;z-index:184;left:0px;margin-left:98px;margin-top:8px;
width:12px;height:49px'><img width=12 height=49
src="embedded_linux_notes.files/image141.png"></span><span lang=EN-US>which&nbsp;&nbsp;&nbsp;
ITIMER_REAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>系统提供，只要处理器工作，定时器就有效，产生</span><span lang=EN-US>SIGALRM</span><span
style='font-family:宋体'>信号</span></p>

<p class=MsoNormal style='margin-left:198.0pt;text-indent:-114.0pt'><span
lang=EN-US>ITIMER_VIRTUAL&nbsp;&nbsp;&nbsp; //</span><span style='font-family:
宋体'>进程中虚拟的，只要进程运行时才有效，产生</span><span lang=EN-US>SIGVTALRM</span><span
style='font-family:宋体'>信号</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value</span><span
style='font-family:宋体'>——设置定时参数</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct
itimerval{</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>struct timeval it_interval;&nbsp; //</span><span style='font-family:
宋体'>间隔时长</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>struct timeval it_value;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>启动时长</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>};</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
color:red'>注：</span><span lang=EN-US style='color:red'>it_interval</span><span
style='font-family:宋体;color:red'>、</span><span lang=EN-US style='color:red'>it_value</span><span
style='font-family:宋体;color:red'>二者中有一项为</span><span lang=EN-US
style='color:red'>0</span><span style='font-family:宋体;color:red'>时，停止定时器工作</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='background:yellow'>i</span><span style='font-family:宋体'>——</span>
<span style='font-family:宋体'>间隔（</span><span lang=EN-US>interval</span><span
style='font-family:宋体'>）</span><span lang=EN-US>&nbsp;&nbsp; <span
style='background:yellow'>t</span> </span><span style='font-family:宋体'>——</span>
<span style='font-family:宋体'>时间（</span><span lang=EN-US>time</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oldvalue</span><span
style='font-family:宋体'>——向调用处返回原来的定时器参数，如果不需要，调用时写</span><span lang=EN-US>NULL</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct
timeval{</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>long&nbsp; tv_sec;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>秒</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>long&nbsp; tv_usec;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>微秒</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>};&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>例如：</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=410 height=234
src="embedded_linux_notes.files/image142.png"></span></p>

<h1><span style='font-family:宋体'>十四、管道</span></h1>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>popen() / pclose() </span><span style='font-family:宋体'>——</span> <span
style='font-family:宋体'>基于命令</span></h2>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US>&lt;stdio.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>FILE*&nbsp;
popen(const char *cmd,&nbsp; const char *type);</span></p>

<p class=MsoNormal><span style='font-family:宋体'>功能：执行命令</span><span lang=EN-US>cmd</span><span
style='font-family:宋体'>，并与此命令启动的进程间创建一个管道，根据</span><span lang=EN-US>type</span><span
style='font-family:宋体'>确定管道与命令间的数据方向。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=106 valign=top style='width:79.8pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>type</span></p>
  </td>
  <td width=130 valign=top style='width:97.35pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>当前进程</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>数据方向</span></p>
  </td>
  <td width=85 valign=top style='width:63.75pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>cmd</span><span style='font-family:宋体'>进程</span></p>
  </td>
 </tr>
 <tr>
  <td width=106 valign=top style='width:79.8pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>“r”</span></p>
  </td>
  <td width=130 valign=top style='width:97.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>FILE*</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='position:absolute;z-index:185;left:0px;
  margin-left:0px;margin-top:6px;width:95px;height:12px'><img width=95
  height=12 src="embedded_linux_notes.files/image143.png"></span><span
  lang=EN-US style='color:red'>fread</span></p>
  </td>
  <td width=85 valign=top style='width:63.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>stdout</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=106 valign=top style='width:79.8pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>“w”</span></p>
  </td>
  <td width=130 valign=top style='width:97.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span style='position:absolute;z-index:186;left:0px;
  margin-left:121px;margin-top:3px;width:90px;height:12px'><img width=90
  height=12 src="embedded_linux_notes.files/image144.png"></span><span
  lang=EN-US>FILE*</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US style='color:red'>fwrite</span></p>
  </td>
  <td width=85 valign=top style='width:63.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>stdin</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>附：</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>size_t
fread(void *ptr, size_t size, size_t nmemb, FILE* stream);</span></p>

<p class=MsoNormal><span style='font-family:宋体'>实际读的次数</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>读次数</span><span lang=EN-US>&nbsp;&nbsp; </span><span
style='font-family:宋体'>每次都大小</span></p>

<p class=MsoNormal><span style='font-family:宋体'>如：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=553 height=29 id="图片 18"
src="embedded_linux_notes.files/image145.jpg"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>pipe() </span><span style='font-family:宋体'>——</span> <span
style='font-family:宋体'>父子进程间通信</span></h2>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&lt;unistd.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>int
pipe(int filedes[2]);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:red'>注：函数形参中出现数组形式的写法时，实际上形参的数据类型不是数组，而是指针，之所以写为数组形式，是为了告知函数调用者，这段内存至少需要多大，</span><span
style='font-family:宋体'>如：</span><span lang=EN-US>int pipe(int filedes[2]);
//filedes</span><span style='font-family:宋体'>数据类型为</span><span lang=EN-US>int*</span><span
style='font-family:宋体'>，而且</span><span lang=EN-US>filedes</span><span
style='font-family:宋体'>指针要保证其指向</span><span lang=EN-US>2*sizeof(int)</span><span
style='font-family:宋体'>这么大的可读写内存空间。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>fifo </span><span style='font-family:宋体'>——</span><span lang=EN-US>&nbsp;
</span><span style='font-family:宋体'>命名管道</span></h2>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=57 height=6></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=150 height=111 src="embedded_linux_notes.files/image146.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; open&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; open</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>只读</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>只写</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>创建管道文件</span></h3>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>原型：</span><span
lang=EN-US>int mkfifo(const *pathname, mode_t mode);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>mode</span><span
style='font-family:宋体'>——权限</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：仅创建，打开使用</span><span lang=EN-US>open()</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>删除管道文件</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>原型：</span><span lang=EN-US>int unlink(const *pathname);</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>返回值：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>成功</span><span lang=EN-US>&nbsp; 0</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:3.0pt'><span
style='font-family:宋体'>失败</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>错误号</span></p>

<p class=MsoNormal><span style='font-family:宋体'>注：</span><span lang=EN-US>(1) </span><span
style='font-family:宋体'>管道读写要同时打开</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;(2)
</span><span style='font-family:宋体'>如果写端关闭，读端将不再阻塞</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>十五、套接字</span></h1>

<p class=MsoNormal><span style='font-family:宋体'>封装信息</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:40.85pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=85 valign=top style='width:63.8pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>本地</span><span lang=EN-US>IP</span></p>
  </td>
  <td width=88 valign=top style='width:65.75pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>本地端口</span></p>
  </td>
  <td width=54 valign=top style='width:40.55pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>协议</span></p>
  </td>
  <td width=85 valign=top style='width:63.8pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>远程端口</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>远程</span><span lang=EN-US>IP</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:red'>注：网络中的数据按大端模式传送</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:red'>至少封装一半信息即可通信（前半部分或后半部分）</span></p>

<p class=MsoNormal><span lang=EN-US>TCP</span><span style='font-family:宋体'>通信——</span><span
lang=EN-US>C/S</span><span style='font-family:宋体'>架构</span></p>

<p class=MsoNormal><span style='position:relative;z-index:192;left:-36px;
top:7px;width:569px;height:301px'><img width=569 height=294
src="embedded_linux_notes.files/image147.png"></span><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:213;left:0px;
margin-left:12px;margin-top:67px;width:268px;height:359px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=268 height=359 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:213'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
    style='font-family:宋体'>服务器</span><span lang=EN-US>IP&nbsp;&nbsp; 0.0.0.0</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
    style='font-family:宋体'>监听端口</span><span lang=EN-US> 1234</span></p>
    <p class=MsoNormal><span style='font-family:宋体'>（监听的套接字接受客户端连接）</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>Accept</span><span style='font-family:
    宋体'>请求客户端连接创建新的套接字</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </span><span style='font-family:宋体'>再随机分配一个端口</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>创建新套接字文件（用于客户端通信）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:218;left:0px;
margin-left:287px;margin-top:126px;width:193px;height:12px'><img width=193
height=12 src="embedded_linux_notes.files/image148.png"></span><span
style='position:absolute;z-index:217;left:0px;margin-left:264px;margin-top:
224px;width:38px;height:36px'><img width=38 height=36
src="embedded_linux_notes.files/image149.png" alt="流程图: 库存数据: 口"></span><span
style='position:absolute;z-index:216;left:0px;margin-left:264px;margin-top:
116px;width:38px;height:36px'><img width=38 height=36
src="embedded_linux_notes.files/image149.png" alt="流程图: 库存数据: 口"></span><span
style='position:absolute;z-index:215;left:0px;margin-left:477px;margin-top:
116px;width:38px;height:36px'><img width=38 height=36
src="embedded_linux_notes.files/image150.png" alt="流程图: 库存数据: 口"></span><span
style='position:absolute;z-index:214;left:0px;margin-left:486px;margin-top:
30px;width:102px;height:132px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=102 height=132 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:214'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>127.0.0.1 1234</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp; </span><span style='font-size:
    11.0pt;font-family:宋体'>端口随机</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>服务器</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>客户端</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:220;left:0px;
margin-left:292px;margin-top:42px;width:202px;height:108px'><img width=202
height=108 src="embedded_linux_notes.files/image151.png"></span><span
style='position:absolute;z-index:219;left:0px;margin-left:288px;margin-top:
29px;width:195px;height:107px'><img width=195 height=107
src="embedded_linux_notes.files/image152.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>连接</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>数据通信</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>附</span></b><span
style='font-family:宋体'>：</span></p>

<p class=MsoNormal><span lang=EN-US>TCP</span><span style='font-family:宋体'>——流式通信（分片传输）</span></p>

<p class=MsoNormal><span lang=EN-US>UDP</span><span style='font-family:宋体'>——数据报</span></p>

<p class=MsoNormal><span style='font-family:宋体'>常见端口</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:40.85pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=230 valign=top style='width:172.2pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=120 valign=top style='width:90.05pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>端口号</span></p>
  </td>
 </tr>
 <tr>
  <td width=230 valign=top style='width:172.2pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>https://</span></p>
  </td>
  <td width=120 valign=top style='width:90.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>443</span></p>
  </td>
 </tr>
 <tr>
  <td width=230 valign=top style='width:172.2pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>http://</span></p>
  </td>
  <td width=120 valign=top style='width:90.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>80</span></p>
  </td>
 </tr>
 <tr style='height:9.75pt'>
  <td width=230 valign=top style='width:172.2pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span lang=EN-US>ftp://</span></p>
  </td>
  <td width=120 valign=top style='width:90.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span lang=EN-US>21</span></p>
  </td>
 </tr>
 <tr style='height:6.0pt'>
  <td width=230 valign=top style='width:172.2pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.0pt'>
  <p class=MsoNormal><span lang=EN-US>mail://</span></p>
  </td>
  <td width=120 valign=top style='width:90.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.0pt'>
  <p class=MsoNormal><span lang=EN-US>25(</span><span style='font-family:宋体'>发</span><span
  lang=EN-US>)/110</span><span style='font-family:宋体'>（收）</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:24.75pt;text-indent:-24.75pt'><span lang=EN-US>1、</span><span
lang=EN-US>socket()</span></h2>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&lt;sys/types.h&gt;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&lt;sys/socket.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>int
socket(int domain, int type, int protocol);</span></p>

<p class=MsoNormal><span style='font-family:宋体'>功能：创建套接字文件</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:221;left:0px;
margin-left:246px;margin-top:6px;width:12px;height:26px'><img width=12
height=26 src="embedded_linux_notes.files/image153.png"></span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>domain</span><span
style='font-family:宋体'>——用于指定通信域</span><span lang=EN-US>&nbsp; PF_UNIX/PF_LOCAL
</span><span style='font-family:宋体'>—本机通信</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;PF_INET&nbsp;&nbsp;
</span><span style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>远程</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:222;left:0px;
margin-left:187px;margin-top:7px;width:12px;height:26px'><img width=12
height=26 src="embedded_linux_notes.files/image154.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type</span><span style='font-family:
宋体'>——通信类型：</span><span lang=EN-US> SOCK_STREAM </span><span style='font-family:
宋体'>—</span> <span style='font-family:宋体'>流式（</span><span lang=EN-US>TCP</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
SOCK_DGRAM </span><span style='font-family:宋体'>—</span> <span style='font-family:
宋体'>数据报（</span><span lang=EN-US>UDP</span><span style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protocal</span><span
style='font-family:宋体'>——协议</span><span lang=EN-US>&nbsp; 0</span></p>

<p class=MsoNormal><span style='font-family:宋体'>返回值：成功——返回套接字文件描述符</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>失败——</span><span lang=EN-US>-1</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:red'>注：所创建的套接字文件在</span><span
lang=EN-US style='color:red'>VFS</span><span style='font-family:宋体;color:red'>内核中（虚拟）</span></p>

<h2 style='margin-left:24.75pt;text-indent:-24.75pt'><span lang=EN-US>2、</span><span
lang=EN-US>bind()</span></h2>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&lt;sys/types.h&gt;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&lt;sys/socket.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>原型：</span><span lang=EN-US>int
bind(int sockFd, const struct sockaddr *srvAddr, socklen_t addrLen);</span></p>

<p class=MsoNormal><span style='font-family:宋体'>功能：绑定</span></p>

<p class=MsoNormal><span style='font-family:宋体'>参数：</span><span lang=EN-US>sockFd
</span><span style='font-family:宋体'>——</span> <span style='font-family:宋体'>套接字文件描述符</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
addrLen</span><span style='font-family:宋体'>——</span><span lang=EN-US>sizeof(struct
sockaddr)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
srvAddr</span><span style='font-family:宋体'>—</span><span lang=EN-US>a. struct
sockaddr</span><span style='font-family:宋体'>结构不能直接使用，要使用</span><span
lang=EN-US>struct sockaddr_in</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>结构替代之。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
sin_family </span><span style='font-family:宋体'>域</span><span lang=EN-US>
AF_UNIX/AF_LOCAL</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AF_INET</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
b. struct sockaddr_in&nbsp; sin_port&nbsp;&nbsp; </span><span style='font-family:
宋体;background:yellow'>端口号</span><span style='font-family:宋体'>（按大端存储的端口号）</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:114.0pt'><span
style='font-family:宋体'>成员</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:114.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
<u>sin_addr</u>.s_addr <span style='background:yellow'>IP</span></span><span
style='font-family:宋体;background:yellow'>地址</span><span style='font-family:
宋体'>（按大端存储）</span></p>

<p class=MsoNormal style='text-indent:75.0pt'><span style='position:relative;
z-index:223'><span style='left:0px;position:absolute;left:255px;top:-1px;
width:46px;height:20px'><img width=46 height=20
src="embedded_linux_notes.files/image155.png"></span></span><span lang=EN-US>struct
in_addr </span><span style='font-family:宋体'>数据类型</span></p>

<p class=MsoNormal style='text-indent:75.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>返回值：成功</span><span
lang=EN-US> 0&nbsp; </span><span style='font-family:宋体'>失败</span><span
lang=EN-US> -1</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
color:red'>注：使用</span><span lang=EN-US style='color:red'>struct sockaddr </span><span
style='font-family:宋体;color:red'>结构体之前必须先清零</span></p>

<p class=MsoNormal style='text-indent:75.0pt'><span style='font-family:宋体;
background:yellow'>端口号</span><span style='font-family:宋体'>、</span><span
lang=EN-US style='background:yellow'>IP</span><span style='font-family:宋体;
background:yellow'>地址</span><span style='font-family:宋体'>转换（大端存储）</span></p>

<p class=MsoNormal style='text-indent:42.0pt'><span lang=EN-US>h</span><span
style='font-family:宋体'>——</span><span lang=EN-US>host&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
n</span><span style='font-family:宋体'>——</span><span lang=EN-US>network</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>short</span><span
style='font-family:宋体'>——端口</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
long</span><span style='font-family:宋体'>——</span><span lang=EN-US>IP</span><span
style='font-family:宋体'>地址</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span style='font-family:宋体'>如：</span><span
lang=EN-US>ntohl()&nbsp;&nbsp; IP</span><span style='font-family:宋体'>地址网络转主机</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;arpa/inet.h&gt;</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>unist32_t
htonl(uint32_t hostlong);</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>uint16_t
htons(uint16_t hostshort);</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>uint32_t
htohl(uint32_t netlong);</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>uint16_t
ntohs(uint16_t netshort);</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>以上函数主要是将我们输入的</span><span lang=EN-US>ip</span><span
style='font-family:宋体'>、端口号，转换成计算机存储的大端模式，或将存储的大端模式转换我们平时的典型</span><span
lang=EN-US>IP</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span style='font-family:宋体'>输入点分制</span><span
lang=EN-US>IP</span><span style='font-family:宋体'>的转换</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;sys/socket.h&gt;</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;netinet/in.h&gt;</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;arpa/inet.h&gt;</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>char*
inet_ntoa(struct in_addr in);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //sin_addr.s_addr</span><span
style='font-family:宋体'>转为点分制</span><span lang=EN-US>IP</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>in_addr_t
inet_addr(const char* cp);&nbsp; //</span><span style='font-family:宋体'>点分制</span><span
lang=EN-US>IP</span><span style='font-family:宋体'>转</span><span lang=EN-US>struct
in_addr</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span style='font-family:宋体'>返回值：</span><span
lang=EN-US>INADDR</span><span style='font-family:宋体'>（</span><span lang=EN-US>0</span><span
style='font-family:宋体'>）——</span><span lang=EN-US>ip</span><span
style='font-family:宋体'>相当于</span><span lang=EN-US>0.0.0.0</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
INADDR_NONE</span><span style='font-family:宋体'>（</span><span lang=EN-US>-1</span><span
style='font-family:宋体'>）——</span><span lang=EN-US>ip</span><span
style='font-family:宋体'>相当于</span><span lang=EN-US>255.255.255.255</span></p>

<p class=MsoNormal><span style='font-family:宋体'>注：</span><span lang=EN-US>sin_addr.s_addr</span><span
style='font-family:宋体'>、</span><span lang=EN-US>in_addr_t </span><span
style='font-family:宋体'>的数据类型为</span><span lang=EN-US>struct in_addr</span></p>

<h2 style='margin-left:24.75pt;text-indent:-24.75pt'><span lang=EN-US>3、</span><span
lang=EN-US>listen()</span></h2>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>原型：</span><span lang=EN-US>int listen(int sockFd, int
backlog);</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>功能：创建监听</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>参数：</span><span lang=EN-US>sockFd</span><span
style='font-family:宋体'>——文件描述符</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Backlog</span><span
style='font-family:宋体'>——等待队列最大长度</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>返回值：成功</span><span lang=EN-US>&nbsp; 0&nbsp;&nbsp; </span><span
style='font-family:宋体'>失败</span><span lang=EN-US>&nbsp;&nbsp; -1</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>示例：创建</span><span lang=EN-US>TCP</span><span
style='font-family:宋体'>监听函数结构体</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; typedef struct{</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char
ipAddr[17];&nbsp; //ip</span><span style='font-family:宋体'>地址</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #define LOCAL_SOCKT&nbsp; PF_UNIX</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #define REMOT_SOCKT&nbsp; PE_INET</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char
domain;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span style='font-family:宋体'>域使用上面两个宏定义</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint16_t
port;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; //</span><span style='font-family:
宋体'>端口</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int
sockFd;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int
backlog;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>}IpInfo;</span></p>

<h2 style='margin-left:24.75pt;text-indent:-24.75pt'><span lang=EN-US>4、</span><span
lang=EN-US>connect()</span></h2>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>原型：</span><span lang=EN-US>int connect(int sockFd, const
struct sockaddr* srvAddr, </span></p>

<p class=MsoListParagraph style='margin-left:129.75pt;text-indent:17.25pt'><span
lang=EN-US>socklen_t addrLen);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：客户端连接到服务器</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：同</span><span lang=EN-US>bind</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>返回值：成功——</span><span lang=EN-US>0</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>失败——</span><span lang=EN-US> -1</span></p>

<h2 style='margin-left:24.75pt;text-indent:-24.75pt'><span lang=EN-US>5、</span><span
lang=EN-US>accept()</span></h2>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>原型：</span><span lang=EN-US>int accept(int sockFd, struct
sockaddr* addr, socklen_t sockLen);</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>功能：接受客户端连接</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>参数：</span><span lang=EN-US>addr</span><span
style='font-family:宋体'>——向服务器返回客户端</span><span lang=EN-US>IP</span><span
style='font-family:宋体'>信息</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sockLen</span><span
style='font-family:宋体'>——向服务器返回客户端</span><span lang=EN-US>IP</span><span
style='font-family:宋体'>信息结构的长度</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>返回值：<span style='color:#E36C0A'>成功——服务器上用于与客户端通信的套接字文件描述符</span></span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>失败——</span><span lang=EN-US>-1</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>注：</span><span lang=EN-US style='color:red'>addr</span><span
style='font-family:宋体;color:red'>的使用：被<span style='background:yellow'>清零</span>的</span><span
lang=EN-US style='color:red'>struct sockaddr</span><span style='font-family:
宋体;color:red'>结构体的内存地址</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sockLen</span><span
style='font-family:宋体;color:red'>使用：被设置为</span><span lang=EN-US
style='color:red'>sizeof(struct sockaddr)</span><span style='font-family:宋体;
color:red'>大小的</span><span lang=EN-US style='color:red'>socklen_t</span><span
style='font-family:宋体;color:red'>变量的内存</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>如果不想获取客户端的</span><span
lang=EN-US>IP</span><span style='font-family:宋体'>（信息）、</span><span lang=EN-US>port</span><span
style='font-family:宋体'>时，</span><span lang=EN-US> addr</span><span
style='font-family:宋体'>可传</span><span lang=EN-US>NULL</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>示例：</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct sockaddr_in&nbsp; ipAddr</span><span
style='font-family:宋体'>；</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; socklen_t sockLen;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>sockLen = sizeof(ipAddr);</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bzero(&amp;ipAddr, sockLen); </span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<h2 style='margin-left:24.75pt;text-indent:-24.75pt'><span lang=EN-US>6、</span><span
style='font-family:宋体'>通过</span><span lang=EN-US>TCP</span><span
style='font-family:宋体'>的</span><span lang=EN-US>S/C</span><span
style='font-family:宋体'>数据传输</span></h2>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>目的：在客户端输入</span><span lang=EN-US>shell</span><span
style='font-family:宋体'>命令，传到服务器上执行，并将执行后的结果传回到客户端显示</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体'>二者之间数据传输需要自定义协议</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='font-family:宋体;color:#595959'>字节数</span><span lang=EN-US
style='color:#595959'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:90.45pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=66 valign=top style='width:49.65pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>大小</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>类型</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
  宋体'>数据</span></p>
  </td>
 </tr>
</table>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
style='font-family:宋体'>大小——数据长度</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
style='font-family:宋体'>类型——命令还是返回数据</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ‘P’</span><span
style='font-family:宋体'>——请求提示符</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ‘p’</span><span
style='font-family:宋体'>——返回提示符</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ‘C’</span><span
style='font-family:宋体'>——请求执行命令</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ‘c’</span><span
style='font-family:宋体'>——返回命令结果</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
style='font-family:宋体'>自定义协议结构：</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; typedef&nbsp; struct{</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint16_t
type;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint16_t
dataLength;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint16_t
maxLength;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:17.25pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char
*data;</span></p>

<p class=MsoListParagraph style='margin-left:45.75pt;text-indent:17.25pt'><span
lang=EN-US>}Data;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>基本流程</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='position:absolute;
z-index:231;left:0px;margin-left:116px;margin-top:18px;width:12px;height:22px'><img
width=12 height=22 src="embedded_linux_notes.files/image156.png"></span><span
lang=EN-US>server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
client</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='position:relative;
z-index:224;left:-8px;top:2px;width:529px;height:452px'><img width=529
height=450 src="embedded_linux_notes.files/image157.png"></span><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='position:relative;z-index:250'><span style='left:0px;position:absolute;
left:388px;top:-2px;width:97px;height:53px'><img width=97 height=53
src="embedded_linux_notes.files/image158.png" alt="菱形: quit"></span></span><span
style='position:absolute;z-index:230;left:0px;margin-left:67px;margin-top:3px;
width:114px;height:62px'><img width=114 height=62
src="embedded_linux_notes.files/image159.png" alt="菱形: 断开"></span><span
lang=EN-US>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; F</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='position:absolute;z-index:257;left:0px;margin-left:478px;margin-top:
1px;width:43px;height:3px'><img width=43 height=3
src="embedded_linux_notes.files/image160.png"></span><span style='position:
absolute;z-index:238;left:0px;margin-left:19px;margin-top:11px;width:51px;
height:2px'><img width=51 height=2 src="embedded_linux_notes.files/image161.png"></span><span
lang=EN-US>&nbsp; F</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='position:absolute;z-index:260;left:0px;margin-left:426px;margin-top:
3px;width:12px;height:24px'><img width=12 height=24
src="embedded_linux_notes.files/image162.png"></span><span style='position:
absolute;z-index:241;left:0px;margin-left:121px;margin-top:17px;width:2px;
height:21px'><img width=2 height=21
src="embedded_linux_notes.files/image163.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; T</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
style='position:absolute;z-index:242;left:0px;margin-left:-8px;margin-top:16px;
width:131px;height:2px'><img width=131 height=2
src="embedded_linux_notes.files/image164.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
T</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>TCP</span><span style='font-family:宋体'>服务器模型</span></h3>

<h4><span style='position:absolute;z-index:274;left:0px;margin-left:118px;
margin-top:50px;width:12px;height:24px'><img width=12 height=24
src="embedded_linux_notes.files/image162.png"></span><span lang=EN-US>i.</span><span
style='font-family:宋体'>循环</span><span lang=EN-US>TCP</span><span
style='font-family:宋体'>服务器模型</span></h4>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection9 style='layout-grid:15.6pt'>

<p class=MsoNormal><span style='position:absolute;z-index:269;left:0px;
margin-left:90px;margin-top:9px;width:77px;height:32px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=77 height=32 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:269'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>socket</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=27 height=14></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=154 height=275 src="embedded_linux_notes.files/image165.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:280;left:0px;
margin-left:48px;margin-top:6px;width:37px;height:2px'><img width=37 height=2
src="embedded_linux_notes.files/image166.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
F</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:292;left:0px;
margin-left:123px;margin-top:10px;width:2px;height:14px'><img width=2
height=14 src="embedded_linux_notes.files/image167.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
T</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=27 height=1></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=98 height=2 src="embedded_linux_notes.files/image168.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><b><span style='font-family:宋体'>特点</span></b><span
style='font-family:宋体'>：消耗资源、编程简单、循环服务器在同一时刻只能响应一个客户端的请求。</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>用途</span></b><span
style='font-family:宋体'>：用于客户端处理速度快，不需要并发处理的</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>示例代码</span></b><span
style='font-family:宋体'>：</span><span lang=EN-US>/work/socket/tcp/tcp1</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

<span lang=EN-US style='font-size:14.0pt;font-family:"Cambria","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection10 style='layout-grid:15.6pt'>

<h4><span style='position:absolute;z-index:295;left:0px;margin-left:118px;
margin-top:48px;width:12px;height:17px'><img width=12 height=17
src="embedded_linux_notes.files/image169.png"></span><span lang=EN-US>ii.</span><span
style='font-family:宋体'>多进程</span><span lang=EN-US>TCP</span><span
style='font-family:宋体'>服务器模型</span></h4>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection11 style='layout-grid:15.6pt'>

<p class=MsoNormal><span style='position:absolute;z-index:285;left:0px;
margin-left:90px;margin-top:1px;width:77px;height:32px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=77 height=32 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:285'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>socket</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=90 height=6></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=116 height=180 src="embedded_linux_notes.files/image170.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:293;left:0px;
margin-left:90px;margin-top:4px;width:77px;height:39px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=77 height=39 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:293'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>fork</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pid=0(</span><span style='font-family:宋体'>子</span><span lang=EN-US>)</span></p>

<p class=MsoNormal><span style='position:relative;z-index:300'><span
style='left:0px;position:absolute;left:118px;top:-1px;width:86px;height:33px'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=0 height=0></td>
  <td width=12></td>
  <td width=31></td>
  <td width=43></td>
 </tr>
 <tr>
  <td height=3></td>
  <td colspan=2></td>
  <td align=left valign=top><img width=43 height=3
  src="embedded_linux_notes.files/image171.png"></td>
 </tr>
 <tr>
  <td height=14></td>
 </tr>
 <tr>
  <td height=16></td>
  <td align=left valign=top><img width=12 height=16
  src="embedded_linux_notes.files/image172.png"></td>
 </tr>
</table>

</span></span><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:relative;z-index:305'><span
style='left:0px;position:absolute;left:39px;top:-1px;width:87px;height:12px'><img
width=87 height=12 src="embedded_linux_notes.files/image173.png"></span></span><span
style='position:absolute;z-index:304;left:0px;margin-left:39px;margin-top:4px;
width:2px;height:80px'><img width=2 height=80
src="embedded_linux_notes.files/image174.png"></span><span style='position:
absolute;z-index:294;left:0px;margin-left:90px;margin-top:9px;width:77px;
height:32px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=77 height=32 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:294'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>r/w</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pid=1</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=89 height=14></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=79 height=73 src="embedded_linux_notes.files/image175.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:303;left:0px;
margin-left:39px;margin-top:18px;width:53px;height:3px'><img width=53 height=3
src="embedded_linux_notes.files/image176.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
F</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:302;left:0px;
margin-left:118px;margin-top:0px;width:12px;height:21px'><img width=12
height=21 src="embedded_linux_notes.files/image177.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
T </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>特点</span></b><span
style='font-family:宋体'>：并发处理，消耗资源较大（数据私有），启动速度低；多客户端数据私有，保证了数据安全</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>示例代码</span></b><span
style='font-family:宋体'>：</span><span lang=EN-US>/work/socket/tcp/tcp2</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

<span lang=EN-US style='font-size:14.0pt;font-family:"Cambria","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection12 style='layout-grid:15.6pt'>

<h4><span style='position:absolute;z-index:317;left:0px;margin-left:130px;
margin-top:50px;width:12px;height:18px'><img width=12 height=18
src="embedded_linux_notes.files/image178.png"></span><span lang=EN-US>iii.</span><span
style='font-family:宋体'>多路</span><span lang=EN-US>I/O</span><span
style='font-family:宋体'>复用</span><span lang=EN-US>TCP</span><span
style='font-family:宋体'>服务器模型</span></h4>

<p class=MsoNormal><span style='position:absolute;z-index:309;left:0px;
margin-left:101px;margin-top:4px;width:83px;height:34px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=83 height=34 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:309'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>socket</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection13 style='layout-grid:15.6pt'>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=5 height=11></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=254 height=348 src="embedded_linux_notes.files/image179.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><b><span lang=EN-US>Select</span></b><span style='font-family:
宋体'>—同时监听多个文件描述符的可读、可写、异常等状态，此函数调用后，被其监听的描述符无响应时阻塞，一旦多个文件描述符之一响应时，阻塞结束</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>优点</span></b><span
style='font-family:宋体'>：占用资源少，响应速度快</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>缺点</span></b><span
style='font-family:宋体'>：多客户端数据共享，安全性低</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>问题</span></b><span
style='font-family:宋体'>：</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>关联多个描述符</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>判断哪个描述符响应（测试（</span><span
lang=EN-US>FD_ISSET</span><span style='font-family:宋体'>）是否与句柄关联）</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>select</span><span
style='font-family:宋体'>使用</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>注：</span></b><span
style='font-family:宋体'>多个客户端，多个客户端信息（即</span><span lang=EN-US>IpInfo</span><span
style='font-family:宋体'>结构），采用结构体指针数组存储。而数组的下标与客户端文件描述符关联</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>示例代码</span></b><span
style='font-family:宋体'>：</span><span lang=EN-US>/work/socket/tcp/tcp3.1</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection14 style='layout-grid:15.6pt'>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>设置</span></h3>

<h4><span lang=EN-US>i.</span><span style='font-family:宋体'>守护进程——服务器</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>后台运行的程序，可做守护进程</span></p>

<p class=MsoNormal><span style='font-family:宋体'>流程：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>）</span><span lang=EN-US>umask();</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）</span><span lang=EN-US>chdir();</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span
style='font-family:宋体'>）</span><span lang=EN-US>setuid();</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4</span><span
style='font-family:宋体'>）</span><span lang=EN-US>close all file</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
style='font-family:宋体'>详见进程</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>示例：</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=461 height=344 id="图片 6"
src="embedded_linux_notes.files/image180.png"></span></p>

<h4><span lang=EN-US>ii.</span><span style='font-family:宋体'>日志文件</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [</span><span
style='font-family:宋体'>时间</span><span lang=EN-US>&nbsp; IP&nbsp; </span><span
style='font-family:宋体'>端口</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>状态</span><span lang=EN-US>]</span></p>

<h4><span lang=EN-US>iii</span><span style='font-family:宋体'>．配置文件</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>工作目录：</span><span lang=EN-US>root=/work</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>日志文件：</span><span lang=EN-US>logfile=/var/log/rmshell.log</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=554 height=214 id="图片 9"
src="embedded_linux_notes.files/image181.jpg"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>shoutdown()</span><span style='font-family:宋体'>函数</span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>原型：</span><span
lang=EN-US>int shoutdown(int s, int how); </span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>功能：关闭部分全双通连接</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>参数：</span><span
lang=EN-US>s</span><span style='font-family:宋体'>——套接字文件描述符</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; how</span><span
style='font-family:宋体'>——</span><span lang=EN-US>SHUT_RD&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>读</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SHUT_WR&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>写</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SHUT_RDWR&nbsp;
</span><span style='font-family:宋体'>读写</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>注：</span><span
lang=EN-US>shoutdown</span><span style='font-family:宋体'>与</span><span
lang=EN-US>close</span><span style='font-family:宋体'>区别：</span></p>

<p class=MsoNormal style='margin-left:210.0pt;text-indent:-168.0pt'><span
lang=EN-US>shoutdown(s, SHUT_RDWR);&nbsp; //</span><span style='font-family:
宋体'>针对套接字的设备（该套接字设备在以后不用是时，可用</span><span lang=EN-US>shoutdown</span><span
style='font-family:宋体'>关闭）</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; close(s);&nbsp;&nbsp;
//</span><span style='font-family:宋体'>关闭针对当前进程</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>e.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>select()</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>数据类型——</span><span
lang=EN-US>fd_set&nbsp;&nbsp; //</span><span style='font-family:宋体'>监听句柄</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#0070C0'>声明：</span><span lang=EN-US
style='color:#0070C0'>fd_set rfds&nbsp; //</span><span style='font-family:宋体;
color:#0070C0'>变量</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US
style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#0070C0'>使用：</span><span lang=EN-US
style='color:#0070C0'>&amp;rfds&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体;color:#0070C0'>指针</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>1）</span><span lang=EN-US>void FD_SET(int fd, fd_set *set);&nbsp; //</span><span
style='font-family:宋体'>关联文件描述符（一次关联一个）</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>2）</span><span lang=EN-US>void FD_ZERO(fd_set *set);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>消除句柄中的所有描述符</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>3）</span><span lang=EN-US>int FD_ISSET(int fd, fd_set *set);&nbsp; //</span><span
style='font-family:宋体'>测试该描述符是否响应</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='font-family:宋体'>返回值：</span><span lang=EN-US>0</span><span
style='font-family:宋体'>——没关联</span><span lang=EN-US>&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>——关联</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>原型：</span><span
lang=EN-US>int select(int nfds, fd_set *rfds, fd_set *wfds, fd_set *efds, </span></p>

<p class=MsoNormal style='margin-left:186.0pt;text-indent:15.0pt'><span
lang=EN-US>struct timeval *timeout);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：监听多个文件描述符的状态</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>nfds</span><span
style='font-family:宋体'>——所监听的文件描述符最大值加</span><span lang=EN-US>1</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rfds</span><span
style='font-family:宋体'>——读状态监听</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wfds</span><span
style='font-family:宋体'>——写状态监听</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; efds</span><span
style='font-family:宋体'>——异常监听</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; timeout</span><span
style='font-family:宋体'>——超时</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:red'>注：读、写、异常至少选一个监听，不需要调用可传</span><span
lang=EN-US style='color:red'>NULL</span><span style='font-family:宋体;color:red'>，不设置超时时间也可传</span><span
lang=EN-US style='color:red'>NULL</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>返回值：失败——</span><span lang=EN-US>-1&nbsp;&nbsp; </span><span
style='font-family:宋体'>（该设备没有监听机制）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>成功——</span><span lang=EN-US>1</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>超时——</span><span lang=EN-US>0</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>注</span></b><span
style='font-family:宋体'>：</span><span lang=EN-US>listen</span><span
style='font-family:宋体'>与</span><span lang=EN-US>select</span><span
style='font-family:宋体'>函数的<span style='background:yellow'>区别</span>：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; listen</span><span
style='font-family:宋体'>针对</span><span lang=EN-US>tcp</span><span
style='font-family:宋体'>服务器，对网络端口进行监听，用于在监听端口提供服务。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; select</span><span
style='font-family:宋体'>监听用于对文件描述符的可读、可写、异常等状态的侦测，它不仅仅局限于套接字文件描述符，而是所有文件描述符，只要对应的设备文件支持阻塞，即可使用此函数进行监听。</span><span
lang=EN-US>select</span><span style='font-family:宋体'>函数调用后，程序进入阻塞状态，直到设备监听状态响应时，才退出</span><span
lang=EN-US>select</span><span style='font-family:宋体'>函数调用。</span></p>

<h2><span lang=EN-US>7</span><span style='font-family:宋体'>、</span><span
lang=EN-US>UDP</span><span style='font-family:宋体'>通信</span></h2>

<h3><span style='position:absolute;z-index:335;left:0px;margin-left:101px;
margin-top:36px;width:12px;height:23px'><img width=12 height=23
src="embedded_linux_notes.files/image182.png"></span><span style='position:
absolute;z-index:332;left:0px;margin-left:72px;margin-top:56px;width:70px;
height:35px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=70 height=35 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:332'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>socket</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>a. </span><span style='font-family:宋体'>基本流程</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=28 height=5></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=144 height=68 src="embedded_linux_notes.files/image183.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:333;left:0px;
margin-left:72px;margin-top:11px;width:70px;height:35px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=70 height=35 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:333'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>bind</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>只有接受数据时才需要绑定</span><span lang=EN-US>bind</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=28 height=19></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=146 height=77 src="embedded_linux_notes.files/image184.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<h3><span lang=EN-US>b. </span><span style='font-family:宋体'>使用函数</span></h3>

<h4><span lang=EN-US>1</span><span style='font-family:宋体'>）</span><span
lang=EN-US>sendto()</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>原型：</span><span lang=EN-US>ssize_t sendto(int s, const
void *buf, size_t len, int flags, </span></p>

<p class=MsoNormal style='margin-left:126.0pt;text-indent:21.0pt'><span
lang=EN-US>const struct sockaddr *addr, socklen_t addrLen);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：发送数据——相当于</span><span lang=EN-US>write() + connect() </span><span
style='font-family:宋体'>合体</span></p>

<h4 style='margin-left:22.5pt;text-indent:-22.5pt'><span lang=EN-US>2）</span><span
lang=EN-US>recvfrom()</span></h4>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
style='font-family:宋体'>原型：</span><span lang=EN-US>ssize_t recvfrom(int s, void
*buf, size_t len, int flags, </span></p>

<p class=MsoListParagraph style='margin-left:148.5pt;text-indent:19.5pt'><span
lang=EN-US>struct sockaddr *addr, socklen_t addrLen);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：接收数据——相当于</span><span lang=EN-US>read() + conect() </span><span
style='font-family:宋体'>合体</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h4><span lang=EN-US>3) setsockopt()</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>原型：</span><span lang=EN-US>int setsockopt(int s, int
level, int optname, void *optval, socklen_t *optLen)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>功能：设置套接字参数</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>s</span><span
style='font-family:宋体'>——文件描述符</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=550
 style='width:412.2pt;margin-left:33.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=48 valign=top style='width:35.65pt;border:solid black 1.0pt;
  border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>参数</span></p>
  </td>
  <td width=118 valign=top style='width:88.65pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>level</span></p>
  </td>
  <td width=141 valign=top style='width:105.5pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>optname</span></p>
  </td>
  <td width=130 valign=top style='width:97.45pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>optval</span></p>
  </td>
  <td width=113 valign=top style='width:84.95pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>optLen</span></p>
  </td>
 </tr>
 <tr>
  <td width=48 rowspan=8 valign=top style='width:35.65pt;border-top:none;
  border-left:solid black 1.0pt;border-bottom:solid black 1.0pt;border-right:
  solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=118 rowspan=6 style='width:88.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>SOL_SOCKET</span></p>
  </td>
  <td width=141 valign=top style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>SO_BROADCASE</span><span
  style='font-family:宋体'>（是否允许广播）</span></p>
  </td>
  <td width=130 valign=top style='width:97.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>int</span></p>
  </td>
  <td width=113 valign=top style='width:84.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>0</span><span
  style='font-family:宋体'>或</span><span lang=EN-US>1</span></p>
  </td>
 </tr>
 <tr>
  <td width=141 valign=top style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>SO_DONTRDUTE</span><span
  style='font-family:宋体'>（不查找路由）</span></p>
  </td>
  <td width=130 valign=top style='width:97.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>int</span></p>
  </td>
  <td width=113 valign=top style='width:84.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>0</span><span
  style='font-family:宋体'>或</span><span lang=EN-US>1</span></p>
  </td>
 </tr>
 <tr>
  <td width=141 valign=top style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>SO_RECVBUF</span><span
  style='font-family:宋体'>（接受缓冲区大小）</span></p>
  </td>
  <td width=130 valign=top style='width:97.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>int</span></p>
  </td>
  <td width=113 valign=top style='width:84.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:21.0pt'>
  <td width=141 valign=top style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:21.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>SO_SNDBUF</span><span
  style='font-family:宋体'>（发送缓冲区大小）</span></p>
  </td>
  <td width=130 valign=top style='width:97.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:21.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>int</span></p>
  </td>
  <td width=113 valign=top style='width:84.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:21.0pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:9.75pt'>
  <td width=141 valign=top style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>SO_ERCVTIMED</span><span
  style='font-family:宋体'>（接受超时时间）</span></p>
  </td>
  <td width=130 valign=top style='width:97.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>struct
  timeval</span></p>
  </td>
  <td width=113 valign=top style='width:84.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:5.1pt'>
  <td width=141 valign=top style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.1pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>SO_SNDTIMED</span><span
  style='font-family:宋体'>（发送超时时间）</span></p>
  </td>
  <td width=130 valign=top style='width:97.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.1pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>struct
  timeval</span></p>
  </td>
  <td width=113 valign=top style='width:84.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.1pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:5.85pt'>
  <td width=118 valign=top style='width:88.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.85pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>IPPROTO_IP</span></p>
  </td>
  <td width=141 valign=top style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.85pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>IP_TTL</span></p>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>（生存时间）</span></p>
  </td>
  <td width=130 valign=top style='width:97.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.85pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>int</span></p>
  </td>
  <td width=113 valign=top style='width:84.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.85pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:5.85pt'>
  <td width=118 valign=top style='width:88.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.85pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>IPPROTO_TCP</span></p>
  </td>
  <td width=141 valign=top style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.85pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>TCP_MAXSEG</span><span
  style='font-family:宋体'>（</span><span lang=EN-US>TCP</span><span
  style='font-family:宋体'>最大数据段大小</span><span lang=EN-US>,</span><span
  style='font-family:宋体'>切片大小）</span></p>
  </td>
  <td width=130 valign=top style='width:97.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.85pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>int</span></p>
  </td>
  <td width=113 valign=top style='width:84.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.85pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int
t = 1;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setsockopt(s,
SOL_SOCKET, SO_BROADCASE, &amp;t, sizeof(t));</span></p>

<h4><span lang=EN-US>4</span><span style='font-family:宋体'>）</span><span
lang=EN-US>ioctl()</span><span style='font-family:宋体'>——查看当前缓冲区的可用大小</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参考十二</span><span lang=EN-US>ioctl()</span><span
style='font-family:宋体'>函数</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>cmd</span><span
style='font-family:宋体'>——</span><span lang=EN-US>FIONRED</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arg</span><span
style='font-family:宋体'>——</span><span lang=EN-US>int*</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>示例：</span><span lang=EN-US>size_t n;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int
sockFd;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ioctl(sockFd,
FIONRED, &amp;n);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stdout,
“%d bytes ready read\n”, n);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buf
= (char *)malloc(n);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; read(sockFd,
buf, n);</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>示例——</span><span lang=EN-US>tty</span><span
style='font-family:宋体'>下局域网聊天</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='position:absolute;z-index:347;left:0px;margin-left:131px;margin-top:
13px;width:12px;height:21px'><img width=12 height=21
src="embedded_linux_notes.files/image185.png"></span><span style='font-family:
宋体'>流程</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection15 style='layout-grid:15.6pt'>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=98 height=10></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=84 height=62 src="embedded_linux_notes.files/image186.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='position:absolute;z-index:344;left:0px;margin-left:106px;margin-top:
6px;width:61px;height:37px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=61 height=37 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:344'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>fork</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>子</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='position:absolute;z-index:351;left:0px;margin-left:252px;margin-top:
1px;width:12px;height:64px'><img width=12 height=64
src="embedded_linux_notes.files/image187.png"></span><span style='position:
absolute;z-index:350;left:0px;margin-left:161px;margin-top:1px;width:98px;
height:2px'><img width=98 height=2 src="embedded_linux_notes.files/image168.png"></span><span
style='position:absolute;z-index:349;left:0px;margin-left:131px;margin-top:
17px;width:12px;height:48px'><img width=12 height=48
src="embedded_linux_notes.files/image188.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>父</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='position:relative;z-index:345'><span style='left:0px;position:absolute;
left:88px;top:-1px;width:223px;height:37px'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=0 height=0></td>
  <td width=100></td>
  <td width=20></td>
  <td width=103></td>
 </tr>
 <tr>
  <td height=37></td>
  <td width=100 height=37 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:346'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>sendData</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
  <td></td>
  <td width=103 height=37 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:345'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>reciveData</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

</div>

<b><span lang=EN-US style='font-size:15.0pt;line-height:173%;font-family:"Cambria","serif"'><br
clear=all style='page-break-before:auto'>
</span></b><br clear=ALL>

<div class=WordSection16 style='layout-grid:15.6pt'>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>示例代码：</span><span lang=EN-US>/work/socket/udp/udpchat.c</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>附：</span></h2>

<h3><span style='font-family:宋体'>查看状态</span></h3>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>netstat –an | grep 80</span><span lang=EN-US>&nbsp;
#</span><span style='font-family:宋体'>查看本机</span><span lang=EN-US>http</span><span
style='font-family:宋体'>服务是否开启</span></p>

<h3><span style='font-family:宋体'>规范</span></h3>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
style='font-family:宋体'>编写程序将最先进行错误判断，将可能最容易出错（或出现的这个错误会使一些代码的运行失去意义）的应先编写，进行错误处理</span></p>

<h3><span style='font-family:宋体'>出错处理</span></h3>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
style='font-family:宋体'>使用</span><span lang=EN-US>switch</span><span
style='font-family:宋体'>—</span><span lang=EN-US>case </span><span
style='font-family:宋体'>可进行错误判断处理，使用户自定义错误信息</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp; switch(ret)</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case TCPERR_INVADDR:</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
fprintf(stderr, &quot;Invalid ip addr.&quot;);</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
break;</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;case TCPERR_LISTEN</span><span
style='font-family:宋体'>；</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;}</span></p>

<h3><span style='font-family:宋体'>代码格式化</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>indent&nbsp; xxxx.c </span>&nbsp;&nbsp;//</span><span
style='font-family:宋体'>格式化</span><span lang=EN-US>C</span><span
style='font-family:宋体'>代码后，会备份源码</span></p>

<h3><span style='font-family:宋体'>获取当前的系统时间</span></h3>

<p class=MsoNormal><span style='font-family:宋体'>函数：</span><span lang=EN-US>time();</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gmtime();</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=554 height=296
id="图片 12" src="embedded_linux_notes.files/image189.jpg"></span></p>

<h3><span lang=EN-US>IP</span><span style='font-family:宋体'>地址分类（</span><span
lang=EN-US>A</span><span style='font-family:宋体'>、</span><span lang=EN-US>B</span><span
style='font-family:宋体'>、</span><span lang=EN-US>C</span><span style='font-family:
宋体'>）即广播地址</span></h3>

<p class=MsoNormal><span lang=EN-US><img border=0 width=553 height=280
id="图片 15" src="embedded_linux_notes.files/image190.jpg"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>十六、数据库</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>常用数据库：</span><span lang=EN-US>mysql</span><span
style='font-family:宋体'>（</span><span lang=EN-US>C/S</span><span
style='font-family:宋体'>架构，网络端口</span><span lang=EN-US>3306</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sqlite</span><span
style='font-family:宋体'>——通讯录（基于文件</span><span lang=EN-US>[</span><span
style='font-family:宋体'>只能进行本地的数据读写</span><span lang=EN-US>]</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:353;left:0px;
margin-left:129px;margin-top:11px;width:12px;height:33px'><img width=12
height=33 src="embedded_linux_notes.files/image191.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（头、库）开发包</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='position:absolute;
z-index:352;left:0px;margin-left:148px;margin-top:7px;width:12px;height:28px'><img
width=12 height=28 src="embedded_linux_notes.files/image192.png"></span><span
lang=EN-US>Mysql</span><span style='font-family:宋体'>——</span><span lang=EN-US>API&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sever</span><span
style='font-family:宋体'>—数据服务</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; client</span><span
style='font-family:宋体'>—客户端</span><span lang=EN-US>shell</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>开启</span><span lang=EN-US>/</span><span
style='font-family:宋体'>停用</span></h2>

<p class=MsoNormal style='margin-left:126.0pt'><span style='position:absolute;
z-index:354;left:0px;margin-left:148px;margin-top:10px;width:12px;height:47px'><img
width=12 height=47 src="embedded_linux_notes.files/image193.png"></span><span
lang=EN-US style='color:#00B0F0'>start</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#00B0F0'>service&nbsp; mysqld&nbsp;&nbsp;&nbsp; stop</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; restart</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>进入</span><span lang=EN-US>mysql shell</span></h2>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#00B0F0'>mysql [-h </span><span style='font-family:宋体;color:#00B0F0'>主机名或</span><span
lang=EN-US style='color:#00B0F0'>IP] [-u </span><span style='font-family:宋体;
color:#00B0F0'>用户名</span><span lang=EN-US style='color:#00B0F0'>] [-p[</span><span
style='font-family:宋体;color:#00B0F0'>密码</span><span lang=EN-US
style='color:#00B0F0'>]] [</span><span style='font-family:宋体;color:#00B0F0'>数据库名</span><span
lang=EN-US style='color:#00B0F0'>]</span></p>

<p class=MsoNormal><span style='font-family:宋体'>如：</span><span lang=EN-US>mysql
–h 192.168.1.2 –u linfeng –p</span></p>

<p class=MsoNormal><span style='font-family:宋体'>注：</span><span lang=EN-US>MySQL</span><span
style='font-family:宋体'>默认数据库和用户新建数据库放在，</span><span lang=EN-US
style='background:yellow'>/var/lib/mysql</span><span style='font-family:宋体'>下</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>密码忘记或丢失</span></h2>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>密码忘记或丢失可进行数据库重置的方式，重新登入数据库</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>停止</span><span lang=EN-US>mysqld</span><span
style='font-family:宋体'>服务</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US style='color:#00B0F0'>rm –rf
/var/lib/mysql/mysql</span><span lang=EN-US> #</span><span style='font-family:
宋体'>删除用户信息所在数据库</span><span lang=EN-US>mysql</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>c.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>重新开启</span><span lang=EN-US>mysqld</span><span
style='font-family:宋体'>服务</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>常用的</span><span lang=EN-US>MySQL</span><span
style='font-family:宋体'>操作</span></h2>

<h3 style='margin-left:22.5pt;text-indent:-22.5pt'><span lang=EN-US>1）</span><span
style='font-family:宋体'>显示当前所有数据库</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US
style='color:#00B0F0'>show&nbsp; databases;</span></p>

<h3 style='margin-left:22.5pt;text-indent:-22.5pt'><span lang=EN-US>2）</span><span
style='font-family:宋体'>进入数据库</span><span lang=EN-US>test1</span></h3>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>use&nbsp; test1;</span></p>

<h3><span lang=EN-US>3) </span><span style='font-family:宋体'>删除数据库</span><span
lang=EN-US>test2</span></h3>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; drop&nbsp;
database&nbsp; test2;</span></p>

<h3><span lang=EN-US>4) </span><span style='font-family:宋体'>显示当前库下的表</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>show&nbsp; table;</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>用户管理——</span><span lang=EN-US>mysql.user</span><span
style='font-family:宋体'>表</span></h2>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>通过</span><span lang=EN-US>mysql.user</span><span
style='font-family:宋体'>表</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>字段：</span><span
lang=EN-US>user&nbsp; host&nbsp; password </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>用户的增、删、改可以对</span><span
lang=EN-US>mysql.user</span><span style='font-family:宋体'>表的相应操作来完成。</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>如：修改所有用户密码</span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:3.0pt'><span
lang=EN-US style='color:#00B0F0'>update user set password=password(‘123456’);</span></p>

<p class=MsoNormal style='text-indent:42.0pt'><span style='font-family:宋体'>密码通过</span><span
lang=EN-US>password</span><span style='font-family:宋体'>函数</span><span
lang=EN-US>crypt</span><span style='font-family:宋体'>方式加密成一个字符串（老版本</span><span
lang=EN-US>16</span><span style='font-family:宋体'>位，新版本</span><span lang=EN-US>41</span><span
style='font-family:宋体'>位）</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>查看密码的加密长度：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>select length(password('123456')) from user; //</span></span><span
style='font-family:宋体;color:#00B0F0'>长度均为</span><span lang=EN-US
style='color:#00B0F0'>16</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><b><span style='font-family:宋体'>加密：</span></b></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US>ENCRYPT(</span><span
style='font-family:宋体'>，</span><span lang=EN-US>)</span><span style='font-family:
宋体'>：使用</span><span lang=EN-US>UNIX crypt()</span><span style='font-family:
宋体'>系统加密字符串，</span><span lang=EN-US>ENCRYPT()</span><span style='font-family:
宋体'>函数接收要加密的字符串和（可选的）用于加密过程的</span><span lang=EN-US>salt</span><span
style='font-family:宋体'>（一个可以唯一确定口令的字符串，就像钥匙一样），<span style='color:red'>注意，</span></span><span
lang=EN-US style='color:red'>windows</span><span style='font-family:宋体;
color:red'>上不支持</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>DECODE(,)</span><span
style='font-family:宋体'>：加密解密字符串。该函数有两个参数：被加密或解密的字符串和作为加密或解密基础的密钥。</span><span
lang=EN-US>Encode</span><span style='font-family:宋体'>结果是一个二进制字符串，以</span><span
lang=EN-US>BLOB</span><span style='font-family:宋体'>类型存储。加密成都相对比较弱</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>MD5()</span><span
style='font-family:宋体'>：计算字符串的</span><span lang=EN-US>MD5</span><span
style='font-family:宋体'>校验和（</span><span lang=EN-US>128</span><span
style='font-family:宋体'>位）</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>SHA5()</span><span
style='font-family:宋体'>：计算字符串的</span><span lang=EN-US>SHA5</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>命令操作</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#00B0F0'>grant all on *.* to linfeng@’%’ identified by ‘123456’;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>‘%’</span><span
style='font-family:宋体'>——</span><span lang=EN-US>Mysql</span><span
style='font-family:宋体'>中通配符此处代表所有主机</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>mysql</span><span style='font-family:宋体'>中常用数据类型</span></h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=66 rowspan=6 style='width:49.5pt;border-top:windowtext 1.5pt;
  border-left:black 1.0pt;border-bottom:windowtext 1.5pt;border-right:windowtext 1.0pt;
  border-style:solid;padding:0cm 5.4pt 0cm 5.4pt;layout-flow:vertical-ideographic'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:5.65pt;
  margin-bottom:0cm;margin-left:5.65pt;margin-bottom:.0001pt;text-align:center'><span
  style='font-size:16.0pt;font-family:宋体'>整型</span></p>
  </td>
  <td width=140 valign=top style='width:104.75pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>TINYINT</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>一个字节</span></p>
  </td>
  <td width=152 valign=top style='width:113.75pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>char</span></p>
  </td>
 </tr>
 <tr>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>BIT</span><span style='font-family:宋体'>或</span><span
  lang=EN-US>BOOL</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>一位（表真假）</span></p>
  </td>
  <td width=152 valign=top style='width:113.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>SMALLINT</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>二个字节</span></p>
  </td>
  <td width=152 valign=top style='width:113.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>short</span></p>
  </td>
 </tr>
 <tr>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>MEDIUMINT</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>三个字节</span></p>
  </td>
  <td width=152 valign=top style='width:113.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>INT</span><span style='font-family:宋体'>或</span><span
  lang=EN-US>INTEGER</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>四个字节</span></p>
  </td>
  <td width=152 valign=top style='width:113.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>int</span></p>
  </td>
 </tr>
 <tr style='height:9.75pt'>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span lang=EN-US>BIGINT</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>八个字节</span></p>
  </td>
  <td width=152 valign=top style='width:113.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span lang=EN-US>long long</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=66 rowspan=2 style='width:49.5pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>实型</span></p>
  </td>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>FLOAT[(m, n)]</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>M</span><span style='font-family:宋体'>显示宽度，</span><span
  lang=EN-US>n</span><span style='font-family:宋体'>小数位数</span></p>
  </td>
  <td width=152 valign=top style='width:113.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>Float</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>DOUBLE[(m, n)]</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=152 valign=top style='width:113.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>Double</span></p>
  </td>
 </tr>
 <tr style='height:6.6pt'>
  <td width=66 rowspan=5 style='width:49.5pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;layout-flow:vertical-ideographic;height:6.6pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:5.65pt;
  margin-bottom:0cm;margin-left:5.65pt;margin-bottom:.0001pt;text-align:center'><span
  style='font-size:16.0pt;font-family:宋体'>时间</span></p>
  </td>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.6pt'>
  <p class=MsoNormal><span lang=EN-US>TIME</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.6pt'>
  <p class=MsoNormal><span lang=EN-US>‘-838:59:59’</span><span
  style='font-family:宋体'>到</span><span lang=EN-US>’838:59:59’</span></p>
  </td>
 </tr>
 <tr style='height:8.25pt'>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>DATE</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:8.25pt'>
  <p class=MsoNormal><span lang=EN-US>‘1000-01-01’</span><span
  style='font-family:宋体'>到</span><span lang=EN-US>’9999-12-31’</span></p>
  </td>
 </tr>
 <tr style='height:6.75pt'>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US>DATETIME</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>前二者之和</span></p>
  </td>
 </tr>
 <tr style='height:6.0pt'>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.0pt'>
  <p class=MsoNormal><span lang=EN-US>TIMESTAMP</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.0pt'>
  <p class=MsoNormal><span lang=EN-US>‘1970-01-01 00:00:00’</span><span
  style='font-family:宋体'>到</span><span lang=EN-US>2037</span><span
  style='font-family:宋体'>年间的任意时刻</span></p>
  </td>
 </tr>
 <tr style='height:9.0pt'>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>YEAR[(214)]</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:6.0pt'>
  <td width=66 rowspan=3 style='width:49.5pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.0pt'>
  <p class=MsoNormal align=center style='margin-left:5.65pt;text-align:center'><span
  style='font-family:宋体'>字符型</span></p>
  </td>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.0pt'>
  <p class=MsoNormal><span lang=EN-US>CHAR(n)</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.0pt'>
  <p class=MsoNormal><span lang=EN-US>N</span><span style='font-family:宋体'>个字符</span></p>
  </td>
 </tr>
 <tr style='height:5.25pt'>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.25pt'>
  <p class=MsoNormal><span lang=EN-US>VARCHAR(n)</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:5.25pt'>
  <p class=MsoNormal><span lang=EN-US>N</span><span style='font-family:宋体'>个以内的字符</span></p>
  </td>
 </tr>
 <tr style='height:9.0pt'>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>TEXT</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span style='font-family:宋体'>相当于</span><span lang=EN-US>VARCHAR(65535)</span></p>
  </td>
 </tr>
 <tr style='height:9.75pt'>
  <td width=66 rowspan=4 style='width:49.5pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal align=center style='margin-left:5.65pt;text-align:center'><span
  style='font-size:14.0pt;font-family:宋体'>二进制数</span></p>
  </td>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span lang=EN-US>TINYBLOB</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>最多</span><span lang=EN-US>256</span><span
  style='font-family:宋体'>字节</span></p>
  </td>
 </tr>
 <tr style='height:9.0pt'>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>BLOB</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span style='font-family:宋体'>最多</span><span lang=EN-US>65535</span><span
  style='font-family:宋体'>字节</span></p>
  </td>
 </tr>
 <tr style='height:10.5pt'>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.5pt'>
  <p class=MsoNormal><span lang=EN-US>MEDIUMBLOB</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:10.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>最多</span><span lang=EN-US>2^24</span><span
  style='font-family:宋体'>字节</span></p>
  </td>
 </tr>
 <tr style='height:11.25pt'>
  <td width=140 valign=top style='width:104.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:11.25pt'>
  <p class=MsoNormal><span lang=EN-US>LONGBLIB</span></p>
  </td>
  <td width=341 colspan=2 valign=top style='width:255.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.5pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:11.25pt'>
  <p class=MsoNormal><span style='font-family:宋体'>最多</span><span lang=EN-US>2^32</span><span
  style='font-family:宋体'>字节</span></p>
  </td>
 </tr>
</table>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>导出、导入数据库脚本</span></h2>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:宋体'>数据库脚本扩展名为——</span><span
lang=EN-US>xxx.sql</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>导出命令：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>mysql [-h </span></span><span style='font-family:宋体;
color:#00B0F0'>主机名或</span><span lang=EN-US style='color:#00B0F0'>IP] [-u </span><span
style='font-family:宋体;color:#00B0F0'>用户名</span><span lang=EN-US
style='color:#00B0F0'>] [-p[</span><span style='font-family:宋体;color:#00B0F0'>密码</span><span
lang=EN-US style='color:#00B0F0'>]] [</span><span style='font-family:宋体;
color:#00B0F0'>数据库名</span><span lang=EN-US style='color:#00B0F0'>] &gt; xxx.sql</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>导入命令：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>mysql [-h </span></span><span style='font-family:宋体;
color:#00B0F0'>主机名或</span><span lang=EN-US style='color:#00B0F0'>IP] [-u </span><span
style='font-family:宋体;color:#00B0F0'>用户名</span><span lang=EN-US
style='color:#00B0F0'>] [-p[</span><span style='font-family:宋体;color:#00B0F0'>密码</span><span
lang=EN-US style='color:#00B0F0'>]] [</span><span style='font-family:宋体;
color:#00B0F0'>数据库名</span><span lang=EN-US style='color:#00B0F0'>] &lt; xxx.sql</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span><span style='font-family:宋体'>如：</span><span
lang=EN-US>mysql –u linfeng –p test1 &gt; test1.sql</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>MySQL_APIC</span><span style='font-family:宋体'>语言编程</span></h2>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>检查开发包（</span><span
lang=EN-US>mysql.h</span><span style='font-family:宋体'>、</span><span lang=EN-US>libmysqlclient.so</span><span
style='font-family:宋体'>）是否已安装，命令有</span><span lang=EN-US style='color:#00B0F0'>locate
mysql</span><span style='font-family:宋体'>，若未安装可挂载安装光盘进行安装：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>rpm –ivhU `ls /media/Server/*.rpm | grep mysql
| grep deve`</span></p>

<p class=MsoNormal><span style='font-family:宋体'>检测是否安装成功：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>rpm –ql mysql-devel</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>初始化</span><span lang=EN-US>mysql</span><span
style='font-family:宋体'>连接句柄</span></h3>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>MYSQL mysql_init(MYSQL *db);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：</span><span lang=EN-US>MYSQL</span><span
style='font-family:宋体'>——连接句柄</span></p>

<p class=MsoNormal><span style='font-family:宋体'>使用方法：</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>变量法</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>MYSQL&nbsp; db;&nbsp;&nbsp; //</span><span style='font-family:宋体'>在<span
style='color:red'>栈中</span>分配内存</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>mysql_init(&amp;db); //</span><span style='font-family:宋体'>一定必须成功</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>指针法</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>MYSQL&nbsp; *db;&nbsp; //</span><span style='font-family:宋体'>定义指针指向<span
style='color:red'>堆中</span>的内存</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>db = mysql_init(NULL);</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>if(NULL == db)</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>{</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>出错处理</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>}</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>关闭</span><span lang=EN-US>mysql</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void&nbsp;
mysql_close(MYSQL *db);</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>连接</span><span lang=EN-US>mysql</span><span
style='font-family:宋体'>服务器</span></h3>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>MYSQL*&nbsp; mysql_real_connect(MYSQL *db, //</span><span
style='font-family:宋体'>初始化后的</span><span lang=EN-US>mysql</span><span
style='font-family:宋体'>句柄</span></p>

<p class=MsoListParagraph style='margin-left:189.0pt;text-indent:0cm'><span
lang=EN-US>const char *host,</span></p>

<p class=MsoListParagraph style='margin-left:189.0pt;text-indent:0cm'><span
lang=EN-US>const char *user,</span></p>

<p class=MsoListParagraph style='margin-left:189.0pt;text-indent:0cm'><span
lang=EN-US>const char *pass,</span></p>

<p class=MsoListParagraph style='margin-left:189.0pt;text-indent:0cm'><span
lang=EN-US>const char *db, &nbsp;&nbsp;//</span><span style='font-family:宋体'>若无密码写</span><span
lang=EN-US>””</span></p>

<p class=MsoListParagraph style='margin-left:189.0pt;text-indent:0cm'><span
lang=EN-US>unsigned short prot, </span></p>

<p class=MsoListParagraph style='margin-left:189.0pt;text-indent:0cm'><span
lang=EN-US>const char *unix_socket,</span></p>

<p class=MsoListParagraph style='margin-left:189.0pt;text-indent:0cm'><span
lang=EN-US>unsigned int client_flags);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>prot</span><span
style='font-family:宋体'>——端口号</span><span lang=EN-US>3306</span><span
style='font-family:宋体'>（写</span><span lang=EN-US>0</span><span
style='font-family:宋体'>也可以表示</span><span lang=EN-US>3306</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unix_socket</span><span
style='font-family:宋体'>——本地套接字文件名，一般写</span><span lang=EN-US>NULL</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:355;left:0px;
margin-left:102px;margin-top:19px;width:12px;height:78px'><img width=12
height=78 src="embedded_linux_notes.files/image194.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; client_flags</span><span
style='font-family:宋体'>——客户端连接参数（一般写</span><span lang=EN-US>0</span><span
style='font-family:宋体'>，不设置）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CLIENT_ODBC
</span><span style='font-family:宋体'>—</span> <span style='font-family:宋体'>面向</span><span
lang=EN-US>ODBC</span><span style='font-family:宋体'>编程使代码移植性更好</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CLIENT_COMPRESS
</span><span style='font-family:宋体'>—</span> <span style='font-family:宋体'>使用压缩协议</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CLIENT_NO_SCHEMA
</span><span style='font-family:宋体'>—</span> <span style='font-family:宋体'>不允许写（库</span><span
lang=EN-US>.</span><span style='font-family:宋体'>表</span><span lang=EN-US>.</span><span
style='font-family:宋体'>字段）这种形式</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-36.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CLIENT_FOLIND_ROW
</span><span style='font-family:宋体'>—</span> <span style='font-family:宋体'>不返回</span><span
lang=EN-US>affectd</span><span style='font-family:宋体'>（受影响的）行数，返回</span><span
lang=EN-US>found</span><span style='font-family:宋体'>（找到的）行数</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>出错处理函数</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>返回出错的字符串描述：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>const char * mysql_error(MYSQL *db);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>返回错误号：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int
mysql_errno(MYSQL * db);</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>数据库查询语句</span></h3>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US>int
mysql_real_query(MYSWL *db, const char *sql, unsigned int length);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数：</span><span lang=EN-US>sql</span><span
style='font-family:宋体'>——</span><span lang=EN-US>SQL</span><span
style='font-family:宋体'>语句</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; length</span><span
style='font-family:宋体'>——</span><span lang=EN-US>SQL</span><span
style='font-family:宋体'>语句的字符数量（即长度）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>返回值：成功</span><span lang=EN-US>&nbsp;&nbsp; 0</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>失败</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>非</span><span lang=EN-US>0</span></p>

<h3><span lang=EN-US>6</span><span style='font-family:宋体'>）提取结果</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MYSQL_RES&nbsp;
</span><span style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>数据类型，存储结果集</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MYSQL_RES*
mysql_store_result(MYSQL *db);  //</span><span style='font-family:宋体'>将结果集存到客户端</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MYSQL_RES*
mysql_use_result(MYSQL *db);&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>将结果集存到服务器</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>返回值：成功——返回结果集指针</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>失败——返回</span><span lang=EN-US>NULL</span></p>

<h3><span lang=EN-US>7</span><span style='font-family:宋体'>）从结果集中提取记录</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MYSQL_ROW&nbsp;
</span><span style='font-family:宋体'>——</span> <span style='font-family:宋体'>数据类型，一行的存储类型</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MYSQL_ROW
mysql_fetch_row(MYSQL_RES *res);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>返回值：成功——返回一条记录</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>失败——</span><span lang=EN-US>NULL</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>示例：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img
border=0 width=554 height=377 src="embedded_linux_notes.files/image195.png"></span></p>

<h3><span style='position:relative;z-index:358'><span style='left:0px;
position:absolute;left:217px;top:-329px;width:116px;height:36px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=116 height=36 bgcolor=white style='border:.75pt solid white;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:358'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span style='font-size:8.0pt;font-family:宋体;color:red'>设为静态全局变量</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span></span><span style='position:relative;z-index:357'><span
style='left:0px;position:absolute;left:91px;top:-214px;width:218px;height:3px'><img
width=218 height=3 src="embedded_linux_notes.files/image196.png"></span></span><span
style='position:relative;z-index:356'><span style='left:0px;position:absolute;
left:321px;top:-341px;width:252px;height:125px'><img width=252 height=125
src="embedded_linux_notes.files/image197.png"
alt="椭圆形标注: 多次提取时应先释放内存&#13;&#10;if(NULL != res)&#13;&#10;mysql_free_result(res);&#13;&#10;"></span></span><span
lang=EN-US>8</span><span style='font-family:宋体'>）在结果集中定位到任意行</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void&nbsp;
mysql_data_seek(MYSQL *res, &nbsp;unsigned long long offset);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如：</span><span lang=EN-US>mysql_data_seek(MYSQL *res,
int n);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>将结果集指针指向第</span><span lang=EN-US>n</span><span
style='font-family:宋体'>行</span></p>

<h3><span lang=EN-US>9</span><span style='font-family:宋体'>）释放结果集使用内存</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void
mysql_free_result(MYSQL *res);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>说明</span></b><span style='font-family:宋体'>：释放由</span><span
lang=EN-US>mysql_store_result()</span><span style='font-family:宋体'>、</span><span
lang=EN-US>mysql_use_result()</span><span style='font-family:宋体'>、</span><span
lang=EN-US>mysql_list_dbs()</span><span style='font-family:宋体'>等为一个结果集合分配的内存。当你用完了一个结果集合时，你必须调用</span><span
lang=EN-US>mysql_free_result()</span><span style='font-family:宋体'>来释放它使用的内存。</span></p>

<h3><span lang=EN-US>10</span><span style='font-family:宋体'>）将二进制数据转换为</span><span
lang=EN-US>sql</span><span style='font-family:宋体'>字符串</span></h3>

<p class=MsoNormal><span lang=EN-US>unsigned int mysql_escape_string(char *to,
const char *from, unsigned int length);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b><span style='font-family:宋体'>说明</span></b><span
style='font-family:宋体'>：把在</span><span lang=EN-US>from</span><span
style='font-family:宋体'>中的长度为</span><span lang=EN-US>length</span><span
style='font-family:宋体'>的字符串编码（如二进制数）转化为在一条</span><span lang=EN-US>SQL</span><span
style='font-family:宋体'>语句中可以发给服务器的转义的</span><span lang=EN-US>SQL</span><span
style='font-family:宋体'>字符串，将结果放在</span><span lang=EN-US>to</span><span
style='font-family:宋体'>中，</span> <span style='font-family:宋体'>并且加上一个终止的空字节</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>编码的字符是</span><span
lang=EN-US>NUL</span><span style='font-family:宋体'>（</span><span lang=EN-US>ASCII
0)</span><span style='font-family:宋体'>、</span><span lang=EN-US>‘\n’</span><span
style='font-family:宋体'>、</span><span lang=EN-US>‘\r’</span><span
style='font-family:宋体'>、</span><span lang=EN-US>‘\’</span><span
style='font-family:宋体'>、</span><span lang=EN-US>‘'’</span><span
style='font-family:宋体'>、</span><span lang=EN-US>‘&quot;’</span></p>

<p style='text-indent:21.0pt'><b>返回值</b>：放进<span lang=EN-US style='font-family:
"Times New Roman","serif"'>to</span>的值的长度，不包括终止空字符。</p>

<h3><span lang=EN-US>11</span><span style='font-family:宋体'>）获取当前行中所有列的长度</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned
long *mysql_fetch_lengths(MYSQL_RES *res);</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p><span lang=EN-US style='font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>说明</b>：返回在结果集合内的当前行的列长度。如果你计划拷贝字段值，这个长度信息对优化也是有用的，因为你可以避免调用<span
lang=EN-US style='font-family:"Times New Roman","serif"'>strlen()</span>。另外，如果结果集合中包含<span
style='color:#0070C0'>二进制数据</span>，你必须使用这个函数确定数据的大小，因为<span lang=EN-US
style='font-family:"Times New Roman","serif"'>strlen()</span>对包含空字符的任何字段返回不正确的结果。<span
style='font-family:"Times New Roman","serif"'> </span></p>

<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span style='font-family:宋体'>空列和包含</span><span lang=EN-US>NULL</span><span
style='font-family:宋体'>的列的长度值是零。</span></p>

<p class=MsoNormal style='margin-left:111.35pt;text-indent:-90.35pt'><b><span
style='font-family:宋体'>返回值</span></b><span style='font-family:宋体'>：成功——表示每列大小的无符号长整数的一个数组</span><span
lang=EN-US>(</span><span style='font-family:宋体'>不包括任何终止空字符</span><span
lang=EN-US>)</span><span style='font-family:宋体'>。</span></p>

<p class=MsoNormal style='margin-left:111.0pt;text-indent:-90.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>失败——</span><span lang=EN-US>NULL</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
color:red'>注：在</span><span lang=EN-US style='color:red'>sprintf</span><span
style='font-family:宋体;color:red'>中使用</span><span lang=EN-US style='color:red'>%%</span><span
style='font-family:宋体;color:red'>——表示实际将输出一个</span><span lang=EN-US
style='color:red'>%</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>综合示例——</span><span lang=EN-US>wave</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>在</span><span lang=EN-US>mysql</span><span
style='font-family:宋体'>数据库中进行</span><span lang=EN-US>wav</span><span
style='font-family:宋体'>音频文件的插入、查看、删除和播放</span></p>

<p class=MsoNormal><span style='font-family:宋体'>示例源码：</span><span lang=EN-US>/work/database/database</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>十七、</span><span lang=EN-US>C++</span></h1>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>面向对象——是对现实世界理解和抽象的方法</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>⑴<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US><a href="http://baike.baidu.com/view/2387.htm" target="_blank"><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>对象</span></span></a></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:36.0pt'><span
lang=EN-US><a href="http://baike.baidu.com/view/2387.htm" target="_blank"><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>对象</span></span></a></span><span style='font-family:宋体'>是人们要进行研究的任何事物，从最简单的整数到复杂的飞机等均可看作对象，它不仅能表示具体的事物，还能表示</span><span
lang=EN-US><a href="http://baike.baidu.com/view/5293.htm" target="_blank"><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>抽象</span></span></a></span><span style='font-family:宋体'>的规则、计划或事件。</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>⑵<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US><a href="http://baike.baidu.com/view/2387.htm" target="_blank"><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>对象</span></span></a></span><span style='font-family:宋体'>的状态（属性）和行为</span></p>

<p class=MsoNormal style='text-indent:54.0pt'><span lang=EN-US><a
href="http://baike.baidu.com/view/2387.htm" target="_blank"><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>对象</span></span></a></span><span
style='font-family:宋体'>具有状态（属性），一个对象用数据值来描述它的状态（属性）。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:36.0pt'><span
lang=EN-US><a href="http://baike.baidu.com/view/2387.htm" target="_blank"><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>对象</span></span></a></span><span style='font-family:宋体'>还有操作，用于改变对象的状态，对象及其操作就是对象的行为。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:36.0pt'><span
lang=EN-US><a href="http://baike.baidu.com/view/2387.htm" target="_blank"><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>对象</span></span></a></span><span style='font-family:宋体'>实现了数据和操作的结合，使数据和操作</span><span
lang=EN-US><a href="http://baike.baidu.com/view/154910.htm" target="_blank"><span
lang=EN-US style='font-family:宋体;color:windowtext;text-decoration:none'><span
lang=EN-US>封装</span></span></a></span><span style='font-family:宋体'>于对象的统一体中</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:36.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='position:absolute;z-index:359;left:0px;margin-left:38px;margin-top:10px;
width:12px;height:74px'><img width=12 height=74
src="embedded_linux_notes.files/image198.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>函数——不占内存</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#0070C0'>虚函数</span><span style='font-family:宋体'>——占</span><span
lang=EN-US>4</span><span style='font-family:宋体'>字节内存（相对于</span><span
lang=EN-US>C</span><span style='font-family:宋体'>语言中函数指针）</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>类</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>变量——（对象）私有</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#0070C0'>静态变量</span><span style='font-family:宋体'>——共享</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><b><span
style='font-family:宋体'>建议：</span></b></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>C++</span><span style='font-family:宋体'>编程中不建议使用结构体</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>所有可以使用枚举定义的常量不建议使用宏定义</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-18.0pt'><span
lang=EN-US>c.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>类的定义在</span><span lang=EN-US>xxx.h</span><span
style='font-family:宋体'>中</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-18.0pt'><span
lang=EN-US>d.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>成员函数的实现在</span><span lang=EN-US>xxx.cpp</span><span
style='font-family:宋体'>中</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>通过猜拳游戏的编写理解</span><span lang=EN-US>C++</span></h2>

<p class=MsoNormal><span style='position:absolute;z-index:367;left:0px;
margin-left:321px;margin-top:7px;width:13px;height:32px'><img width=13
height=32 src="embedded_linux_notes.files/image199.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体'>出拳</span><span
lang=EN-US>&nbsp; </span><span style='font-family:宋体'>（函数）</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:369;left:0px;
margin-left:321px;margin-top:1px;width:2px;height:28px'><img width=2 height=28
src="embedded_linux_notes.files/image200.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>思考</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=271 height=6></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=121 height=44 src="embedded_linux_notes.files/image201.png"
  alt="椭圆: 机器人选手"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:379;left:0px;
margin-left:378px;margin-top:12px;width:67px;height:45px'><img width=67
height=45 src="embedded_linux_notes.files/image202.png"></span><span
style='position:absolute;z-index:368;left:0px;margin-left:467px;margin-top:
5px;width:12px;height:32px'><img width=12 height=32
src="embedded_linux_notes.files/image203.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>出拳</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:370;left:0px;
margin-left:467px;margin-top:3px;width:2px;height:26px'><img width=2 height=26
src="embedded_linux_notes.files/image204.png"></span><span style='position:
absolute;z-index:366;left:0px;margin-left:178px;margin-top:8px;width:22px;
height:74px'><img width=22 height=74
src="embedded_linux_notes.files/image205.png"></span><span style='position:
absolute;z-index:364;left:0px;margin-left:62px;margin-top:3px;width:12px;
height:34px'><img width=12 height=34
src="embedded_linux_notes.files/image206.png"></span><span style='font-family:
宋体'>（属性）</span><span lang=EN-US>&nbsp; </span><span style='font-family:宋体'>管理</span><span
lang=EN-US>2</span><span style='font-family:宋体'>位选手</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</span><span style='font-family:宋体'>思考</span></p>

<p class=MsoNormal style='text-indent:12.0pt'><span style='position:absolute;
z-index:363;left:0px;margin-left:209px;margin-top:14px;width:68px;height:44px'><img
width=68 height=44 src="embedded_linux_notes.files/image207.png" alt="椭圆: 裁判"></span><span
style='position:absolute;z-index:361;left:0px;margin-left:435px;margin-top:
6px;width:73px;height:44px'><img width=73 height=44
src="embedded_linux_notes.files/image208.png" alt="椭圆: 选手"></span><span
style='font-family:宋体'>变量</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>记录</span><span lang=EN-US>2</span><span
style='font-family:宋体'>个比分</span></p>

<p class=MsoNormal style='text-indent:12.0pt'><span style='position:absolute;
z-index:371;left:0px;margin-left:351px;margin-top:7px;width:86px;height:33px'><img
width=86 height=33 src="embedded_linux_notes.files/image209.png"></span><span
style='position:absolute;z-index:372;left:0px;margin-left:271px;margin-top:
16px;width:52px;height:24px'><img width=52 height=24
src="embedded_linux_notes.files/image210.png"></span><span style='position:
absolute;z-index:365;left:0px;margin-left:62px;margin-top:7px;width:12px;
height:26px'><img width=12 height=26
src="embedded_linux_notes.files/image211.png"></span><span style='font-family:
宋体'>函数</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>宣布比赛结果</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span style='position:absolute;z-index:362;left:0px;
margin-left:313px;margin-top:10px;width:50px;height:44px'><img width=50
height=44 src="embedded_linux_notes.files/image212.png" alt="椭圆: 人"></span><span
style='font-family:宋体'>（动作）</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>控制比赛过程</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:375;left:0px;
margin-left:332px;margin-top:7px;width:2px;height:47px'><img width=2 height=47
src="embedded_linux_notes.files/image213.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string</span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='position:absolute;z-index:374;left:0px;margin-left:290px;margin-top:
9px;width:44px;height:47px'><img width=44 height=47
src="embedded_linux_notes.files/image214.png"></span><span style='position:
absolute;z-index:373;left:0px;margin-left:218px;margin-top:9px;width:41px;
height:47px'><img width=41 height=47
src="embedded_linux_notes.files/image215.png"></span><span style='font-family:
宋体'>姓名</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:378;left:0px;
margin-left:82px;margin-top:5px;width:21px;height:50px'><img width=21
height=50 src="embedded_linux_notes.files/image216.png"></span><span
style='position:absolute;z-index:376;left:0px;margin-left:101px;margin-top:
10px;width:68px;height:44px'><img width=68 height=44
src="embedded_linux_notes.files/image217.png" alt="椭圆: 日期"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>年</span> <span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>变量</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:8.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:8.0pt;font-family:宋体'>（变量）</span><span lang=EN-US>&nbsp;&nbsp; </span><span
style='font-family:宋体'>月</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='position:absolute;z-index:377;margin-left:163px;margin-top:12px;
width:96px;height:2px'><img width=96 height=2
src="embedded_linux_notes.files/image218.png"></span><span style='font-family:
宋体'>生日</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>日</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>:</span><span
style='font-family:宋体;color:red'>注：函数中的数据不变时，应加</span><span lang=EN-US
style='color:red'>const</span><span style='font-family:宋体;color:red'>修饰，可以防止数据被修改，也可有利于编译器优化。</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>创建日期类——</span><span lang=EN-US>Date</span></h2>

<p class=MsoNormal><span lang=EN-US><img border=0 width=554 height=319
src="embedded_linux_notes.files/image219.jpg"></span></p>

<p class=MsoNormal><span style='font-family:宋体'>构造函数：</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=500 height=113
src="embedded_linux_notes.files/image220.png"></span></p>

<p class=MsoNormal><span lang=EN-US>Date</span><span style='font-family:宋体'>类测试：</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=554 height=215
src="embedded_linux_notes.files/image221.jpg"></span></p>

<p class=MsoNormal><span style='font-family:宋体'>结果：</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=315 height=74
src="embedded_linux_notes.files/image222.png"></span></p>

<p class=MsoNormal><span style='font-family:宋体'>注：使用</span><span lang=EN-US>new</span><span
style='font-family:宋体'>创建对象，在堆中分配内存</span></p>

<p class=MsoNormal><span style='font-family:宋体'>特殊数据类型：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout&nbsp;&nbsp;
</span><span style='font-family:宋体'>数据类型</span><span lang=EN-US>&nbsp;&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>&nbsp;&nbsp; std::ostream</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cin&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>数据类型</span><span lang=EN-US>&nbsp;&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>&nbsp;&nbsp; std::isstream</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>构造函数</span></h3>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>构造函数</span>
<span style='font-family:宋体'>，是一种<b>特殊的方法（函数）</b></span> <span
style='font-family:宋体'>。主要用来在创建对象时<i>初始化对象</i>，</span> <span style='font-family:
宋体'>即为对象</span><span lang=EN-US><a href="http://baike.baidu.com/view/684821.htm"
target="_blank"><span lang=EN-US style='font-family:宋体;color:windowtext;
text-decoration:none'><span lang=EN-US>成员变量</span></span></a></span><span
style='font-family:宋体'>赋初始值，总与</span><span lang=EN-US>new<a
href="http://baike.baidu.com/view/425996.htm" target="_blank"><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>运算符</span></span></a></span><span
style='font-family:宋体'>一起使用在创建对象的语句中</span> <span style='font-family:宋体'>。特别的一个类可以有多个构造函数</span>
<span style='font-family:宋体'>，可根据其参数个数的不同或参数类型的不同来区分它们</span> <span
style='font-family:宋体'>即构造函数的</span><span lang=EN-US><a
href="http://baike.baidu.com/view/126530.htm" target="_blank"><span lang=EN-US
style='font-family:宋体;color:windowtext;text-decoration:none'><span lang=EN-US>重载</span></span></a></span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><b><span style='font-family:宋体'>一般构造函数</span></b><span
style='font-family:宋体'>——自定义的有参或无参构造函数，一个类中可以有一个或多个构造函数（基于</span><span
lang=EN-US>C++</span><span style='font-family:宋体'>重载函数）</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>一般情况下如果自定义类中没有定义任何形式的构造函数，系统会为当前类添加一个无参构造函数，如</span><span
lang=EN-US>Date();</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><b><span style='font-family:宋体'>复制构造函数</span></b><span
style='font-family:宋体'>——如果当前类中没有定义构造函数，系统会为当前类添加一个默认复制构造函数</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>如：</span><span
lang=EN-US>Date(const Date &amp;date);&nbsp;&nbsp; //</span><span
style='font-family:宋体'>参数为当前类的<span style='background:yellow'>常引用</span></span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体;
color:red'>注：当类中有指针成员时，由系统默认创建该复制构造函数会存在风险，具体原因请查询</span><span
style='color:red'> </span><span style='font-family:宋体;color:red'>有关</span><span
lang=EN-US style='color:red'> “</span><span style='font-family:宋体;color:red'>浅拷贝</span><span
lang=EN-US style='color:red'>” </span><span style='font-family:宋体;color:red'>、</span><span
lang=EN-US style='color:red'>“</span><span style='font-family:宋体;color:red'>深拷贝</span><span
lang=EN-US style='color:red'>”</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>引用</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>引用——实际上就是一个别名</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>如</span><span
lang=EN-US>:&nbsp;&nbsp; int&nbsp; a = 9;</span></p>

<p class=MsoNormal style='margin-left:138.0pt;text-indent:-96.0pt'><span
lang=EN-US>int&nbsp; &amp;b = a;&nbsp; // </span><span style='font-family:宋体'>声明一个引用，它引用了</span><span
lang=EN-US>a</span><span style='font-family:宋体'>，实际上此条语句没有分</span><span
lang=EN-US>&nbsp;&nbsp; </span><span style='font-family:宋体'>配内存，只是给</span><span
lang=EN-US>a</span><span style='font-family:宋体'>取了一个别名叫</span><span lang=EN-US>b</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b
= 4;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a
= ? // a = 4</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>切记：声明引用时，一定要进行直接初始化</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>常引用——意味着在</span><span
lang=EN-US>Date</span><span style='font-family:宋体'>复制构造函数调用时，不会改变</span><span
lang=EN-US>date</span><span style='font-family:宋体'>所引用对象的值，只能调用</span><span
lang=EN-US>Date</span><span style='font-family:宋体'>类中的末尾带</span><span
lang=EN-US>const</span><span style='font-family:宋体'>的成员函数。</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>使用引用的好处</span></h3>

<p class=MsoNormal><span style='font-family:宋体'>示例：</span><span lang=EN-US>void
aaa(Date date)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aaa(a);</span></p>

<p class=MsoNormal><span style='font-family:宋体'>函数调用时，是实参为形参赋值——</span><span
lang=EN-US style='background:yellow'>Date datel = a;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void
bbb(Date &amp;date)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bbb(b);</span></p>

<p class=MsoNormal><span style='font-family:宋体'>此时——</span><span lang=EN-US
style='background:yellow'>Date &amp;date2 = b;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>date1</span><span
style='font-family:宋体'>调用</span><span lang=EN-US>Date</span><span
style='font-family:宋体'>类的复制构造函数实例化一个</span><span lang=EN-US>Date</span><span
style='font-family:宋体'>对象</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>date2</span><span
style='font-family:宋体'>是一个引用它不调用任何函数，</span><span lang=EN-US>date2</span><span
style='font-family:宋体'>作为对象传入到</span><span lang=EN-US>bbb</span><span
style='font-family:宋体'>函数中，即意味着</span><span lang=EN-US>bbb</span><span
style='font-family:宋体'>函数可以修改</span><span lang=EN-US>b</span><span
style='font-family:宋体'>对象（<span style='color:red'>二者除名外，其余完全相同，可以调用</span></span><span
lang=EN-US style='color:red'>b</span><span style='font-family:宋体;color:red'>中的所有函数</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>基于以上原因，所以函数参数时引用时，多数情况下都写为常引用</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>C++</span><span style='font-family:宋体'>中函数的形参允许有默认值</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><b><span
style='font-family:宋体'>原则</span></b><span style='font-family:宋体'>：右对齐，只能在类定义时写默认值，在函数定义时，不可以写默认值，函数调用时有默认值的形参，可以不传递实参。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><b><span
style='font-family:宋体'>如</span></b><span style='font-family:宋体'>：</span><span
lang=EN-US>Date(int&nbsp; nYear, int&nbsp; nMonth = 8, int&nbsp; nDay = 3);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>创建人类——</span><span lang=EN-US>Human</span></h2>

<p class=MsoNormal><span style='position:absolute;z-index:382;left:0px;
margin-left:65px;margin-top:267px;width:282px;height:39px'><img width=282
height=39 src="embedded_linux_notes.files/image223.png"></span><span
lang=EN-US><img border=0 width=554 height=425
src="embedded_linux_notes.files/image224.jpg"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>对象与常对象</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>对象的引用与常引用</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>声明：</span></p>

<p class=MsoNormal style='margin-left:15.0pt;text-indent:21.0pt'><span
lang=EN-US>void setName(string &amp;nName);</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:3.0pt'><span
lang=EN-US>void setName1(const string &amp;nName);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>调用：</span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:3.0pt'><span
style='position:absolute;z-index:381;left:0px;margin-left:217px;margin-top:
10px;width:12px;height:84px'><img width=12 height=84
src="embedded_linux_notes.files/image225.png"></span><span style='position:
absolute;z-index:380;left:0px;margin-left:192px;margin-top:10px;width:32px;
height:2px'><img width=32 height=2 src="embedded_linux_notes.files/image226.png"></span><s><span
lang=EN-US>setName(<span style='background:silver'>“zhangshan”</span>);&nbsp;&nbsp;
// </span></s><s><span style='font-family:宋体'>错误</span></s></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:3.0pt'><span
lang=EN-US>setName1(“zhangshan”);&nbsp; // </span><span style='font-family:
宋体'>正确</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>这两个调用的实参均不是</span><span lang=EN-US>string</span><span
style='font-family:宋体'>对象，要在调用时示例化出一个</span><span lang=EN-US>string</span><span
style='font-family:宋体'>对象，再调用此时<span style='color:red'>自动实例化的对象是一个<span
style='background:yellow'>常对象</span></span></span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>修改：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string&nbsp;
n(“zhangshan”);&nbsp;&nbsp; //</span><span style='font-family:宋体;color:red'>栈中分配空间</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setName(n);&nbsp;&nbsp;
// </span><span style='font-family:宋体'>正确</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setName1(n);&nbsp;
// </span><span style='font-family:宋体'>正确</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>对象的指针与常指针</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>声明：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void
setName2(string *nName);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void
setName2(const string *nName);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>调用：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <s>setName2(new
string(“zhangshan”));&nbsp; //</s></span><s><span style='font-family:宋体'>错误</span><span
lang=EN-US>&nbsp; </span></s><s><span style='font-family:宋体'>？？</span></s></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setName3(new
string(“zhangshan”));&nbsp; //</span><span style='font-family:宋体'>正确</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>使用</span><span lang=EN-US>const</span><span
style='font-family:宋体'>修饰时，</span><span lang=EN-US>*nName</span><span
style='font-family:宋体'>不能改变，因此调用时所传的实参，应为一个常量。</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:red'>注意：使用</span><span lang=EN-US style='color:
red'>new string(“zhangshan”)</span><span style='font-family:宋体;color:red'>是在堆里分配空间，它返回的是一常指针</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>修改：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string
*n = new string(“zhangshan”); //</span><span style='font-family:宋体'>指针</span><span
lang=EN-US>n</span><span style='font-family:宋体;color:red'>是在栈中分配空间，指向堆</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setName2(n);&nbsp;
// </span><span style='font-family:宋体'>正确</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setName3(n);&nbsp;
// </span><span style='font-family:宋体'>正确</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>啥时候用指针、啥时候用引用</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>申请空间在：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
style='font-family:宋体'>堆——用指针</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
style='font-family:宋体'>栈——用引用</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>e.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>一般情况在哪些位置使用引用</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>函数参数</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>返回值</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>f.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>解析</span><span lang=EN-US style='color:#00B050'>const </span><span
lang=EN-US>Date &amp;Human::birthday()<span style='color:#00B050'>const</span>;</span></h3>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>成员函数——<b>后加</b></span><b><span lang=EN-US>const</span></b><span
style='font-family:宋体'>：代表此函数不修改类内的成员值，即可以通过常引用来调用此函数，如果不写</span><span
lang=EN-US>const</span><span style='font-family:宋体'>的同名同参函数与这个带</span><span
lang=EN-US>const</span><span style='font-family:宋体'>的函数形成重载，因此通过常引用或常指针调用的</span><span
lang=EN-US>birthday</span><span style='font-family:宋体'>函数是带</span><span
lang=EN-US>const</span><span style='font-family:宋体'>的，而非常引用或非常指针调用</span><span
lang=EN-US>birthday</span><span style='font-family:宋体'>函数是不带</span><span
lang=EN-US>const</span><span style='font-family:宋体'>的。</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>成员函数——<b>前加</b></span><b><span lang=EN-US>const</span></b><span
style='font-family:宋体'>：此函数的返回值类型是什么？其</span><span lang=EN-US>const</span><span
style='font-family:宋体'>的限定于函数无关，而与函数的返回值有关。</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>一般情况下，在书写程序时，</span><span lang=EN-US>const</span><span
style='font-family:宋体'>一般只与指针、引用还有函数限定这三部分有关</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
lang=EN-US>const</span><span style='font-family:宋体'>使用，想要改变以上所说三部分的值时，不加</span><span
lang=EN-US>const</span><span style='font-family:宋体'>限定</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>不想改变时，添加</span><span lang=EN-US>const</span><span
style='font-family:宋体'>限定，主要视具体情况而定</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>g.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>重载</span></h3>

<h4><span lang=EN-US>i. </span><span style='font-family:宋体'>函数重载</span></h4>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>定义：函数名相同，但形参的数量或类型不同构成重载</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体;color:red'>注意：二义性，存在二义性就无法构成重载。</span><span
style='font-family:宋体'>如函数调用时，无法区分到底调用哪个函数时，即二义性。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如：构造函数重载</span></p>

<p class=MsoListParagraph style='margin-left:81.0pt;text-indent:3.0pt'><span
lang=EN-US>Date(int&nbsp; nYear, int&nbsp; nMonth = 8, int&nbsp; nDay = 3);</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Date(int
nYear);</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>这两个函数无法构成重载</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
lang=EN-US style='background:#D9D9D9'>const string &amp;Human::name() const</span><span
style='font-family:宋体;background:#D9D9D9'>与</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
lang=EN-US style='background:#D9D9D9'>const string &amp;Human::name() </span><span
style='font-family:宋体;background:#D9D9D9'>构成一对重载函数</span></p>

<h4><span lang=EN-US>ii. </span><span style='font-family:宋体'>运算符重载</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如：</span><span lang=EN-US>ostream &amp; operator
&lt;&lt; (ostream &amp;os, const Date &amp;date);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>使用：</span><span lang=EN-US>cout&lt;&lt;human.birthday()&lt;&lt;endl;&nbsp;
</span></p>

<p class=MsoNormal><span style='font-family:宋体'>关键字：</span><span lang=EN-US>operator</span></p>

<p class=MsoNormal><span style='font-family:宋体'>构造运算符重载的步骤：</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US style='color:#4F81BD'>1）</span><span style='font-family:宋体;
color:#4F81BD'>知道重载哪个运算符</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
lang=EN-US>&lt;&lt;&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US style='color:#9BBB59'>2）</span><span style='font-family:宋体;
color:#9BBB59'>找到操作数类型</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>ostream&nbsp;&nbsp; Date</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US style='color:#F79646'>3）</span><span style='font-family:宋体;
color:#F79646'>表达式类型</span><span lang=EN-US style='color:#F79646'>&nbsp;&nbsp;
&lt;&lt;human.birthday()</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
lang=EN-US>ostream</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US style='color:#00B050'>4）</span><span style='font-family:宋体;
color:#00B050'>构造数据类型加</span><span lang=EN-US style='color:#00B050'>&amp;</span><span
style='font-family:宋体;color:#00B050'>（引用）</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>5）</span><span style='font-family:宋体'>是否可以</span><span lang=EN-US>const</span><span
style='font-family:宋体'>限制</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:189.0pt;text-indent:21.0pt'><span
style='font-family:宋体;color:#9BBB59'>类型</span><span lang=EN-US
style='color:#9BBB59'>&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#9BBB59'>数据</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:16.0pt;color:#F79646'>ostream</span><span
lang=EN-US style='font-size:16.0pt;color:#00B050'> &amp; </span><span
lang=EN-US style='font-size:16.0pt;color:red;background:silver'>operator</span><span
lang=EN-US style='font-size:16.0pt;background:silver'> <span style='color:#4F81BD'>&lt;&lt;</span>
(<span style='color:#9BBB59'>ostream</span> &amp;</span><span lang=EN-US
style='font-size:16.0pt;background:gray'>os</span><span lang=EN-US
style='font-size:16.0pt;background:silver'>, const<span style='color:#9BBB59'>
Date</span> &amp;</span><span lang=EN-US style='font-size:16.0pt;background:
gray'>date</span><span lang=EN-US style='font-size:16.0pt;background:silver'>);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
</span><span style='font-family:宋体;color:#F79646'>类型</span><span lang=EN-US
style='color:#F79646'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体;color:#F79646'>数据</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>h.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>可能存在的内存泄露与异常处理</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>若：</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>声明：</span><span lang=EN-US>void setName(const string
*nName);</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>定义：</span><span lang=EN-US>Human::setName(const string
*nName)</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n
= nName;</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:3.0pt'><span
lang=EN-US>}</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>调用：</span><span lang=EN-US>Human::setName(new string(“zhangshan”));</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>此用法会导致内存泄露，</span><span lang=EN-US>new string(“zhangshan”)</span><span
style='font-family:宋体'>在堆中分配内存，返回的是一个常指针。</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>原因：</span><span lang=EN-US style='background:yellow'>delete</span><span
style='font-family:宋体'>不能释放一个常指针</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：在使用</span><span lang=EN-US>delete</span><span
style='font-family:宋体'>释放任何一个指针后，要赋值为</span><span lang=EN-US>0</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delete&nbsp;
n;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n
= 0;</span></p>

<h4><span style='font-family:宋体'>内存的异常处理</span></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>类定义中</span></p>

<p class=MsoNormal><span style='font-family:宋体'>构造函数通常：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string
*n = 0;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(0&nbsp;
==&nbsp; n)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n
= new string(“zhangshan”);</span></p>

<p class=MsoNormal><span style='font-family:宋体'>析构函数通常：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(n
!= 0)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delete&nbsp;
n;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n
= 0;</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>}</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>创建选手——</span><span lang=EN-US>Competitor::Human</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='position:absolute;z-index:383;left:0px;margin-left:94px;margin-top:236px;
width:344px;height:23px'><img width=344 height=23
src="embedded_linux_notes.files/image227.png"></span><span lang=EN-US><img
border=0 width=554 height=316 src="embedded_linux_notes.files/image228.png"></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>构造函数：</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US> <span style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;color:red'>注：子类实例化时，应先构造父类对象</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US><img border=0 width=554 height=89
src="embedded_linux_notes.files/image229.png"></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>继承后权限：</span></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:18.0pt;border-collapse:collapse;border:none'>
 <tr style='height:58.5pt'>
  <td width=153 style='width:115.0pt;border:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:58.5pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='position:relative;z-index:384'><span style='left:0px;
  position:absolute;left:-8px;top:-1px;width:155px;height:81px'><img width=155
  height=81 src="embedded_linux_notes.files/image230.png"></span></span></p>
  </td>
  <td width=119 style='width:89.0pt;border:solid black 1.0pt;border-left:none;
  padding:0cm 5.4pt 0cm 5.4pt;height:58.5pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>public</span></p>
  </td>
  <td width=136 style='width:102.05pt;border:solid black 1.0pt;border-left:
  none;padding:0cm 5.4pt 0cm 5.4pt;height:58.5pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>protected</span></p>
  </td>
  <td width=136 style='width:102.05pt;border:solid black 1.0pt;border-left:
  none;padding:0cm 5.4pt 0cm 5.4pt;height:58.5pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>private</span></p>
  </td>
 </tr>
 <tr>
  <td width=153 style='width:115.0pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='position:absolute;z-index:385;left:0px;margin-left:26px;
  margin-top:14px;width:2px;height:86px'><img width=2 height=86
  src="embedded_linux_notes.files/image231.png"></span><span lang=EN-US>public</span></p>
  </td>
  <td width=119 style='width:89.0pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>public</span></p>
  </td>
  <td width=136 style='width:102.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>protected</span></p>
  </td>
  <td width=136 style='width:102.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>private</span></p>
  </td>
 </tr>
 <tr>
  <td width=153 style='width:115.0pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='position:absolute;z-index:386;left:0px;margin-left:13px;
  margin-top:11px;width:2px;height:85px'><img width=2 height=85
  src="embedded_linux_notes.files/image232.png"></span><span lang=EN-US>protected</span></p>
  </td>
  <td width=119 style='width:89.0pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>protected</span></p>
  </td>
  <td width=136 style='width:102.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>protected</span></p>
  </td>
  <td width=136 style='width:102.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span lang=EN-US>private</span></p>
  </td>
 </tr>
 <tr>
  <td width=153 style='width:115.0pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='position:absolute;z-index:387;left:0px;margin-left:-2px;
  margin-top:10px;width:2px;height:90px'><img width=2 height=90
  src="embedded_linux_notes.files/image233.png"></span><span lang=EN-US>private</span></p>
  </td>
  <td width=119 style='width:89.0pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='font-family:宋体'>——</span></p>
  </td>
  <td width=136 style='width:102.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='font-family:宋体'>——</span></p>
  </td>
  <td width=136 style='width:102.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='font-family:宋体'>——</span></p>
  </td>
 </tr>
</table>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>规律：父类中的共有、保护继承后，取权限最低的权限</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='position:absolute;z-index:390;left:0px;margin-left:50px;margin-top:8px;
width:14px;height:12px'><img width=14 height=12
src="embedded_linux_notes.files/image234.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>类内、子类、对象均可访问</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='position:absolute;z-index:388;left:0px;margin-left:37px;margin-top:4px;
width:16px;height:12px'><img width=16 height=12
src="embedded_linux_notes.files/image235.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>类内、子类可访问</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='position:absolute;z-index:389;left:0px;margin-left:22px;margin-top:9px;
width:31px;height:12px'><img width=31 height=12
src="embedded_linux_notes.files/image236.png"></span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>类内可访问</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>枚举与</span><span lang=EN-US>int</span><span
style='font-family:宋体'>类型之间赋值时转换</span></h3>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>枚举可以自动转换为整型，而整型值转换为枚举一定要使用强制类型转换，但使用强制类型转换，<span
style='color:red'>一定要注意</span></span><span lang=EN-US style='color:red'>int</span><span
style='font-family:宋体;color:red'>的值，是否在枚举的范围内</span><span style='font-family:
宋体'>。整型值范围过大，不在范围内强制转换可能会使数据丢失而报错。</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
lang=EN-US><img border=0 width=554 height=149 id="图片 10"
src="embedded_linux_notes.files/image237.jpg"></span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>多态特性</span></h3>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>多态是指同样的消息被不同类型的对象接收时导致不同的行为。所谓消息是指对类的成员函数的调用，不同行为指不同的实现，也就是调用了不同的函数</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>体现：</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><span
style='font-family:宋体'>静态—（编译时）—重载</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:6.0pt'><span
style='font-family:宋体'>动态—（运行时）—重写</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>重写</span></h3>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>在子类中，定义一个与父类完全相同的成员函数</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>重写满足三条件——运行过程中的多态</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>1</span><span style='font-family:宋体'>）类之间满足赋值兼容规则（参数是否对应）</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>2</span><span style='font-family:宋体'>）要声明为虚函数</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>3</span><span style='font-family:宋体'>）要由成员函数调用或通过指针、引用来访问虚函数</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>e.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>虚函数</span></h3>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>虚函数是动态绑定的基础，经过派生之后，在类中可以实现运行过程的多态</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>关键字：</span><span
lang=EN-US>virtual</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>在派生类中，可以不显式给出虚函数的声明，只是对基类中虚函数的重写，此时也可以添加</span><span
lang=EN-US>virtual</span><span style='font-family:宋体'>关键字，如</span><span
lang=EN-US>MachCompetitor</span><span style='font-family:宋体'>类中的</span><span
lang=EN-US>thinkFist()</span><span style='font-family:宋体'>函数。此时派生类中的虚函数便<span
style='background:yellow'>覆盖</span>了基类的虚函数，同时，虚函数还会隐藏基类中同名函数的所有其他重载形式。</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:red'>注：用派生类对象的指针仍然可以调用基类中被派生类覆盖的成员函数，方法是使用“</span><span
lang=EN-US style='color:red'>::</span><span style='font-family:宋体;color:red'>”进行限定。如：基类名</span><span
lang=EN-US style='color:red'>::</span><span style='font-family:宋体;color:red'>函数名（）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注意：在重写继承来的虚函数时，如果函数有默认形参值，不要重新定义不同的值。原因：虽然虚函数是动态绑定的，但默认形参时静态绑定的。也就是说，通过一个指向派生类对象的基类指针（简单说，一个指向子类的父类指针），可以访问到派生类的虚函数，但默认的形参值却只能来自基类的定义。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>创建机器人选手——</span><span lang=EN-US>MachCompetitor::Competitor</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US><img border=0 width=535 height=191 id="图片 13"
src="embedded_linux_notes.files/image238.png"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>随机数</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='position:absolute;z-index:392;left:0px;margin-left:234px;margin-top:
183px;width:76px;height:3px'><img width=76 height=3
src="embedded_linux_notes.files/image239.png"></span><span style='position:
absolute;z-index:391;left:0px;margin-left:87px;margin-top:86px;width:118px;
height:4px'><img width=118 height=4
src="embedded_linux_notes.files/image240.png"></span><span lang=EN-US><img
border=0 width=554 height=198 id="图片 16"
src="embedded_linux_notes.files/image241.jpg"></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>注：</span><span lang=EN-US>C++</span><span
style='font-family:宋体'>中，函数、变量的使用都要在一定的域中，全局域可以不加说明</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>rand()</span><span style='font-family:宋体'>随机函数与随机种子</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>创建裁判类——</span><span lang=EN-US>Judge::Human</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US><img border=0 width=553 height=332 id="图片 19"
src="embedded_linux_notes.files/image242.jpg"></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>在不能使用引用时，可以使用指针。？？？</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>类的说明——技巧</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US><img border=0 width=289 height=121 id="图片 22"
src="embedded_linux_notes.files/image243.png"></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>当前类定义中只使用了</span><span
lang=EN-US>Competitor</span><span style='font-family:宋体'>的指针形式，所以此处只需要做类的说明，而不需要类的定义</span><span
lang=EN-US>(</span><span style='font-family:宋体'>包含头文件</span><span lang=EN-US>)</span><span
style='font-family:宋体'>，但需要在</span><span lang=EN-US>.cpp</span><span
style='font-family:宋体'>文件中进行头文件包含</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>优点：当</span><span
lang=EN-US>Competitor</span><span style='font-family:宋体'>作任何修改时，当前文件都不需要重新编译，提高整个项目的编译速度。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>容器类</span></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=584
 style='width:437.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=114 style='width:85.2pt;border:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>容器类</span></p>
  </td>
  <td width=114 style='width:85.2pt;border:solid black 1.0pt;border-left:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>中文名</span></p>
  </td>
  <td width=149 style='width:111.45pt;border:solid black 1.0pt;border-left:
  none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>存储形式</span></p>
  </td>
  <td width=208 style='width:155.9pt;border:solid black 1.0pt;border-left:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>用途</span></p>
  </td>
 </tr>
 <tr>
  <td width=114 style='width:85.2pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>vector</span></p>
  </td>
  <td width=114 style='width:85.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>向量</span></p>
  </td>
  <td width=149 style='width:111.45pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>相当于数组</span></p>
  </td>
  <td width=208 style='width:155.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>顺序存储或随机或顺序读写</span></p>
  </td>
 </tr>
 <tr>
  <td width=114 style='width:85.2pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>list</span></p>
  </td>
  <td width=114 style='width:85.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>列表</span></p>
  </td>
  <td width=149 style='width:111.45pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>链表</span></p>
  </td>
  <td width=208 style='width:155.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>随机存储，顺序读写</span></p>
  </td>
 </tr>
 <tr>
  <td width=114 style='width:85.2pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>map</span></p>
  </td>
  <td width=114 style='width:85.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>映射</span></p>
  </td>
  <td width=149 style='width:111.45pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>指针数组</span><span lang=EN-US>+</span><span
  style='font-family:宋体'>动态分配内存</span></p>
  </td>
  <td width=208 style='width:155.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>以上二者折中</span></p>
  </td>
 </tr>
</table>

<h4><span style='font-family:宋体'>向量与列表的声明：</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vector&lt;T&gt;&nbsp;
</span><span style='font-family:宋体'>对象名</span><span lang=EN-US>(n);&nbsp; //</span><span
style='font-family:宋体'>声明一个存储</span><span lang=EN-US>n</span><span
style='font-family:宋体'>个</span><span lang=EN-US>T</span><span style='font-family:
宋体'>类型的对象</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如：</span><span lang=EN-US>vertor&lt;int&gt;&nbsp;
vint(8);&nbsp; //</span><span style='font-family:宋体'>分配</span><span lang=EN-US>8</span><span
style='font-family:宋体'>个</span><span lang=EN-US>int</span><span
style='font-family:宋体'>存储空间</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vector&lt;Date&gt;
vDate;&nbsp;&nbsp; //</span><span style='font-family:宋体'>只实例化容器对象，不分配存储内存</span></p>

<h4><span style='font-family:宋体'>映射声明</span></h4>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US>Map&lt;K,&nbsp;
T&gt;&nbsp; </span><span style='font-family:宋体'>对象名</span><span lang=EN-US>(n);
</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>//K</span><span style='font-family:宋体'>表示键——（特点）唯一，相当于数组下标；</span><span
lang=EN-US>T</span><span style='font-family:宋体'>代表类型，相当于数组元素类型</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>如：</span><span lang=EN-US>map&lt;string,&nbsp;
Date&gt;&nbsp; m;</span></p>

<h4><span style='font-family:宋体'>列表使用</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>示例：方法一</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; list&lt;int&gt;
vList;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vList.push_back(2);
//</span><span style='font-family:宋体'>想列表中添加数据</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vList.push_back(5);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vList.push_back(7);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>方法二：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; list&lt;int&gt;::iterator
it; //</span><span style='font-family:宋体'>声明一个迭代器</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; it
= vList.begin(); //</span><span style='font-family:宋体'>将迭代器指向容器首元素</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(it
!= vList.end())</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout&lt;&lt;*it;&nbsp;
//*it</span><span style='font-family:宋体'>取迭代器所指向的元素值</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *it++</span><span
style='font-family:宋体'>；</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h4><span style='font-family:宋体'>向量使用</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>向量可以使用列表方法访问，同时也可以使用下列方法访问</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vector&nbsp;
&lt;int&gt; vVector(8); //8</span><span style='font-family:宋体'>用于指定向量长度</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vVector[0]
= 8; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vVector[1]
= 4;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vVector[2]
= 9;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>向量如果实例化时，没有指定向量长度，那么不能使用以上方法为向量存入数据，只能使用</span><span
lang=EN-US>push_back</span><span style='font-family:宋体'>和</span><span
lang=EN-US>push_</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection17 style='layout-grid:15.6pt'>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>简单算法——求模运算</span></h2>

<h3><span lang=EN-US>1</span><span style='font-family:宋体'>）模型：</span></h3>

<p class=MsoNormal><img width=172 height=125
src="embedded_linux_notes.files/image244.png" align=left hspace=68><span
style='font-family:宋体;background:#D9D9D9'>胜——等于</span><span lang=EN-US
style='background:#D9D9D9'>1</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:394;left:0px;
margin-left:-86px;margin-top:6px;width:85px;height:22px'><img width=85
height=22 src="embedded_linux_notes.files/image245.png"></span><span
style='font-family:宋体;background:#D9D9D9'>败——非</span><span lang=EN-US
style='background:#D9D9D9'>1</span><span style='font-family:宋体;background:#D9D9D9'>或</span><span
lang=EN-US style='background:#D9D9D9'>0</span></p>

<p class=MsoNormal><span style='font-family:宋体;background:#D9D9D9'>平——等于</span><span
lang=EN-US style='background:#D9D9D9'>0<br clear=all>
</span></p>

<h3><span lang=EN-US>2</span><span style='font-family:宋体'>）目的</span></h3>

<p class=MsoNormal><span class=3Char><span lang=EN-US style='font-size:14.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=3Char><span style='font-size:14.0pt;font-family:宋体'>（</span></span><span
class=3Char><span style='font-size:14.0pt;font-family:宋体;font-weight:normal'>甲</span></span><span
class=3Char><span lang=EN-US style='font-size:14.0pt;font-weight:normal'>-</span></span><span
class=3Char><span style='font-size:14.0pt;font-family:宋体;font-weight:normal'>乙）：甲胜？乙胜；</span></span></p>

<h3><span lang=EN-US>3</span><span style='font-family:宋体'>）数据构造——<span
style='color:#0070C0'>甲胜</span></span></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=584
 style='width:437.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=44 valign=top style='width:32.9pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;font-family:宋体'>甲</span></p>
  </td>
  <td width=58 valign=top style='width:43.4pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;font-family:宋体'>乙</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;font-family:宋体'>甲</span><span
  lang=EN-US style='font-size:10.0pt'>-</span><span style='font-size:10.0pt;
  font-family:宋体'>乙</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border:solid black 1.0pt;
  border-left:none;background:#DDD9C3;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;font-family:宋体'>甲</span><span
  lang=EN-US style='font-size:10.0pt'>-</span><span style='font-size:10.0pt;
  font-family:宋体'>乙</span><span lang=EN-US style='font-size:10.0pt'>+2</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;font-family:宋体'>甲</span><span
  lang=EN-US style='font-size:10.0pt'>-</span><span style='font-size:10.0pt;
  font-family:宋体'>乙</span><span lang=EN-US style='font-size:10.0pt'>+3</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;font-family:宋体'>（甲</span><span
  lang=EN-US style='font-size:10.0pt'>-</span><span style='font-size:10.0pt;
  font-family:宋体'>乙</span><span lang=EN-US style='font-size:10.0pt'>+3</span><span
  style='font-size:10.0pt;font-family:宋体'>）</span><span lang=EN-US
  style='font-size:10.0pt'>%3</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;font-family:宋体'>乙</span><span
  lang=EN-US style='font-size:10.0pt'>-</span><span style='font-size:10.0pt;
  font-family:宋体'>甲</span><span lang=EN-US style='font-size:10.0pt'>+3</span></p>
  </td>
  <td width=104 valign=top style='width:77.95pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-size:10.0pt;font-family:宋体'>（乙</span><span
  lang=EN-US style='font-size:10.0pt'>-</span><span style='font-size:10.0pt;
  font-family:宋体'>甲</span><span lang=EN-US style='font-size:10.0pt'>+3</span><span
  style='font-size:10.0pt;font-family:宋体'>）</span><span lang=EN-US
  style='font-size:10.0pt'>%3</span></p>
  </td>
 </tr>
 <tr>
  <td width=44 rowspan=3 valign=top style='width:32.9pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>石头</span></p>
  </td>
  <td width=58 valign=top style='width:43.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>石头</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;background:
  #DDD9C3;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>3</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>3</span></p>
  </td>
  <td width=104 valign=top style='width:77.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
 </tr>
 <tr>
  <td width=58 valign=top style='width:43.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;background:
  #00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>剪刀</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;background:
  #00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>-1</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;background:
  #00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>1</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
  <td width=104 valign=top style='width:77.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:yellow'>1</span></p>
  </td>
 </tr>
 <tr>
  <td width=58 valign=top style='width:43.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>布</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>-2</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;background:
  #DDD9C3;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>1</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>1</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>5</span></p>
  </td>
  <td width=104 valign=top style='width:77.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
 </tr>
 <tr>
  <td width=44 rowspan=3 valign=top style='width:32.9pt;border-top:none;
  border-left:solid black 1.0pt;border-bottom:solid windowtext 1.0pt;
  border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>剪刀</span></p>
  </td>
  <td width=58 valign=top style='width:43.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>石头</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>1</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;background:
  #DDD9C3;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>3</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>1</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=104 valign=top style='width:77.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
 </tr>
 <tr>
  <td width=58 valign=top style='width:43.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>剪刀</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;background:
  #DDD9C3;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>3</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>3</span></p>
  </td>
  <td width=104 valign=top style='width:77.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
 </tr>
 <tr>
  <td width=58 valign=top style='width:43.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>布</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>-1</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>1</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
  <td width=104 valign=top style='width:77.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='background:yellow'>1</span></p>
  </td>
 </tr>
 <tr style='height:7.5pt'>
  <td width=44 rowspan=3 valign=top style='width:32.9pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>布</span></p>
  </td>
  <td width=58 valign=top style='width:43.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span style='font-family:宋体'>石头</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>5</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US>1</span></p>
  </td>
  <td width=104 valign=top style='width:77.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#00B0F0;padding:0cm 5.4pt 0cm 5.4pt;height:7.5pt'>
  <p class=MsoNormal><span lang=EN-US style='background:yellow'>1</span></p>
  </td>
 </tr>
 <tr style='height:7.35pt'>
  <td width=58 valign=top style='width:43.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span style='font-family:宋体'>剪刀</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span lang=EN-US>1</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#DDD9C3;padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span lang=EN-US>3</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span lang=EN-US>4</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span lang=EN-US>1</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=104 valign=top style='width:77.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:7.35pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
 </tr>
 <tr style='height:9.0pt'>
  <td width=58 valign=top style='width:43.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:9.0pt'>
  <p class=MsoNormal><span style='font-family:宋体'>布</span></p>
  </td>
  <td width=57 valign=top style='width:42.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;background:
  #DDD9C3;padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>2</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>3</span></p>
  </td>
  <td width=104 valign=top style='width:78.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
  <td width=66 valign=top style='width:49.6pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>3</span></p>
  </td>
  <td width=104 valign=top style='width:77.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>0</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-family:宋体'>将甲、乙两选手的比赛结果进行数据构造</span></p>

<p class=MsoNormal><span style='font-family:宋体'>甲：</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 align=left
 style='margin-left:26.7pt;border-collapse:collapse;border:none;margin-left:
 6.75pt;margin-right:6.75pt'>
 <tr>
  <td width=38 valign=top style='width:1.0cm;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>胜</span></p>
  </td>
  <td width=38 valign=top style='width:1.0cm;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>-1</span></p>
  </td>
  <td width=38 valign=top style='width:1.0cm;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>-1</span></p>
  </td>
  <td width=38 valign=top style='width:1.0cm;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>2</span></p>
  </td>
 </tr>
 <tr>
  <td width=38 valign=top style='width:1.0cm;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>败</span></p>
  </td>
  <td width=38 valign=top style='width:1.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>-2</span></p>
  </td>
  <td width=38 valign=top style='width:1.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>1</span></p>
  </td>
  <td width=38 valign=top style='width:1.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>1</span></p>
  </td>
 </tr>
 <tr>
  <td width=38 valign=top style='width:1.0cm;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-family:宋体'>平</span></p>
  </td>
  <td width=38 valign=top style='width:1.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>0</span></p>
  </td>
  <td width=38 valign=top style='width:1.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>0</span></p>
  </td>
  <td width=38 valign=top style='width:1.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>0</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-family:宋体'>胜时为</span><span lang=EN-US>1<br
clear=all>
</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>因此，使用取模运算，可以实现，取模运算的结果有两种：一种为</span><span lang=EN-US>0</span><span
style='font-family:宋体'>，</span> <span style='font-family:宋体'>一种小于被取模的数</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>附：</span></h2>

<h3 style='margin-left:22.5pt;text-indent:-22.5pt'><span lang=EN-US>1）</span><span
style='font-family:宋体'>静态共有成员函数</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>在类定义中说明为</span><span lang=EN-US>static</span><span
style='font-family:宋体'>，但在类外做函数定义时，不能再说明为</span><span lang=EN-US>static</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>静态共有成员函数可以直接通过域运算符来访问，即不需要实例化对象</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>c.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>在静态成员函数中，只能使用静态成员变量（静态成员变量对所有对象共享）</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>d.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>静态成员一定要在类外进行初始化</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>e.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>静态成员函数与静态成员变量，常常应用于整个程序调用的一些数据的存储与提取。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:22.5pt;text-indent:-22.5pt'><span lang=EN-US>2）</span><span
style='font-family:宋体'>内联函数</span></h3>

<p class=MsoNormal><span style='font-family:宋体'>定义：关键字</span><span lang=EN-US>inline</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inline&nbsp;
</span><span style='font-family:宋体'>类型说明符</span> <span style='font-family:宋体'>函数名（含类型说明的形参表）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>语句序列</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>}</span></p>

<p class=MsoNormal><span style='font-family:宋体'>内部机制：编译时，将内联函数以相应代码代替，与宏类似</span></p>

<p class=MsoNormal><span style='font-family:宋体'>作用：减少频繁调用小子程序的运行时间开销</span></p>

<p class=MsoNormal><span style='font-family:宋体'>内联函数与宏的区别：</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>内联函数是函数，宏不是</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>内联函数中不能有复杂的控制语句，如</span><span
lang=EN-US>for</span><span style='font-family:宋体'>，</span><span lang=EN-US>switch-case</span><span
style='font-family:宋体'>等，适用于</span><span lang=EN-US>1~5</span><span
style='font-family:宋体'>行的小函数</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>十八、</span><span lang=EN-US>QT</span><span
style='font-family:宋体'>开发</span> <span style='font-family:宋体'>—</span><span
lang=EN-US> 4</span></h1>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>安装</span><span lang=EN-US>Qt</span><span
style='font-family:宋体'>开发工具</span><span lang=EN-US>qtcreator</span></h2>

<h3><span lang=EN-US>1</span><span style='font-family:宋体'>）安装</span></h3>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>下载</span><span lang=EN-US>qt-sdk-linux-x86-opensource-2010.04.bin</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>赋予</span><span lang=EN-US>qt-sdk-linux-x86-opensource-2010.04.bin</span><span
style='font-family:宋体'>包可执行权限</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US style='color:#00B0F0'>c.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>执行该文件</span> <span lang=EN-US
style='color:#00B0F0'>./ qt-sdk-linux-x86-opensource-2010.04.bin</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:22.5pt;text-indent:-22.5pt'><span lang=EN-US>3）</span><span
style='font-family:宋体'>汉化</span></h3>

<p class=MsoListParagraph style='margin-left:40.5pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>下载汉化包</span><span lang=EN-US>qtcreator_zh_CN.qm.tar.gz</span></p>

<p class=MsoListParagraph style='margin-left:40.5pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>解压到</span><span lang=EN-US>Qt</span><span
style='font-family:宋体'>集成开发环境多语言转换目录</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
lang=EN-US>/opt/qtsdk/share/qtcreator/translations/</span></p>

<h3 style='margin-left:22.5pt;text-indent:-22.5pt'><span lang=EN-US>4）</span><span
style='font-family:宋体'>第三方字体</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>第一次编译中出现<span
style='background:yellow'>字体库错误</span>，手动添加第三方字体库</span><span lang=EN-US>fontconfig-2.7.3</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>过程：</span><span
lang=EN-US>&nbsp;&nbsp; <span style='color:#00B0F0'>#./configure</span></span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>#make</span></span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>#make&nbsp; install</span></span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Qt</span><span style='font-family:宋体'>创建项目</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>类名首字母必须大写</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Qt</span><span style='font-family:宋体'>类</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Qapplication</span><span style='font-family:宋体'>类</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>信号和槽</span></h2>

<h3><span lang=EN-US>a. </span><span style='font-family:宋体'>什么是信号、槽</span></h3>

<h4 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>信号</span></h4>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>当对象改变其状态时，将产生对象。信号就由该对象发射</span><span
lang=EN-US> (emit) </span><span style='font-family:宋体'>出去，而且对象只负责发送信号，它不知道另一端是谁在接收这个信号。这样就做到了真正的信息封装，能确保对象被当作一个真正的软件组件来使用。</span></p>

<h4><span lang=EN-US>2</span><span style='font-family:宋体'>）槽</span></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>用于接收信号，而且槽只是普通的对象成员函数。一个槽并不知道是否有任何信号与自己相连接。而且对象并不了解具体的通信机制。</span></p>

<h3><span lang=EN-US>b. </span><span style='font-family:宋体'>信号和槽的连接</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) </span><span
style='font-family:宋体'>信号和槽编辑器</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）控件右键转到槽</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span
style='font-family:宋体'>）</span><span lang=EN-US>Qobject::connect</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:47.95pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=85 valign=top style='width:63.8pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>信号</span></p>
  </td>
  <td width=57 rowspan=4 valign=top style='width:42.5pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt;layout-flow:vertical-ideographic'>
  <p class=MsoNormal style='margin-top:0cm;margin-right:5.65pt;margin-bottom:
  0cm;margin-left:5.65pt;margin-bottom:.0001pt'><span style='font-family:宋体'>连接</span></p>
  </td>
  <td width=95 valign=top style='width:70.9pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>信号</span></p>
  </td>
  <td width=268 valign=top style='width:200.95pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>一个信号发射，另一信号跟着发射</span></p>
  </td>
 </tr>
 <tr>
  <td width=85 valign=top style='width:63.8pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>信号</span></p>
  </td>
  <td width=95 valign=top style='width:70.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>槽</span></p>
  </td>
  <td width=268 valign=top style='width:200.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=85 valign=top style='width:63.8pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>一个信号</span></p>
  </td>
  <td width=95 valign=top style='width:70.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>多个槽</span></p>
  </td>
  <td width=268 valign=top style='width:200.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>调用顺序与连接顺序无关</span></p>
  </td>
 </tr>
 <tr>
  <td width=85 valign=top style='width:63.8pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>多个槽</span></p>
  </td>
  <td width=95 valign=top style='width:70.9pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>一个槽</span></p>
  </td>
  <td width=268 valign=top style='width:200.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>c. </span><span style='font-family:宋体'>自定义信号和槽</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>当</span><span lang=EN-US>Qt</span><span
style='font-family:宋体'>类想主动向类外传递数据时，需要自定义信号来实现。</span></p>

<h3><span lang=EN-US>d. Q_OBJECT</span></h3>

<h4><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MOC</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:9.5pt;font-family:宋体;color:#333333;background:white'>元对象编译器（</span><span
lang=EN-US style='font-size:9.5pt;font-family:"Arial","sans-serif";color:#333333;
background:white'>moc</span><span style='font-size:9.5pt;font-family:宋体;
color:#333333;background:white'>）解析一个</span><span lang=EN-US style='font-size:
9.5pt;font-family:"Arial","sans-serif";color:#333333;background:white'>C++</span><span
style='font-size:9.5pt;font-family:宋体;color:#333333;background:white'>文件中的类声明并且生成初始化元对象的</span><span
lang=EN-US style='font-size:9.5pt;font-family:"Arial","sans-serif";color:#333333;
background:white'>C++</span><span style='font-size:9.5pt;font-family:宋体;
color:#333333;background:white'>代码。元对象包括所有信号和槽函数的名称，还有这些函数的指针。</span></p>

<h4><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UIC</span></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>处理</span><span
lang=EN-US>ui</span><span style='font-family:宋体'>图形中的</span><span lang=EN-US>XML</span><span
style='font-family:宋体'>代码，生成</span><span lang=EN-US>”ui_xxxxx.h”</span></p>

<h4><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RCC</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>资源文件编译器，将文件转化为数据与程序编译到一起，随可执行文件一同发布。好处——资源文件不容易被篡改</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Qt</span><span style='font-family:宋体'>语言乱码</span></h2>

<p class=MsoNormal><span style='font-family:宋体'>中文乱码解决：</span></p>

<p class=MsoNormal><span lang=EN-US>Main.cpp </span><span style='font-family:
宋体'>中添加</span><span lang=EN-US>&nbsp; #include &lt;QTextCodec&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QtextCodec::setCodecForFr(QtextCodec::codecForName(“utf8”));</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>出现乱码的原因：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String</span><span
style='font-family:宋体'>的内部默认编码时</span><span lang=EN-US>unicode</span><span
style='font-family:宋体'>，而我们编译器当前的字符编码，可能是</span><span lang=EN-US>GBK</span><span
style='font-family:宋体'>或</span><span lang=EN-US>UTF-8</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>查找对话框</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>事件处理</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>图片查看</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>ClickMe</span><span style='font-family:宋体'>游戏——事件处理</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>10. </span><span style='font-family:宋体'>五子棋</span> <span
style='font-family:宋体'>——</span><span lang=EN-US> TCP</span><span
style='font-family:宋体'>通信</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>使用网络通信的项目，必须在项目文件中添加：</span><span lang=EN-US
style='color:red'>QT&nbsp; +=&nbsp; network</span></p>

<h3><span lang=EN-US>a. </span><span style='font-family:宋体'>游戏界面</span></h3>

<h4><span lang=EN-US>1) Qpinter&nbsp; </span><span style='font-family:宋体'>—</span>
<span style='font-family:宋体'>绘制器</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>棋盘、棋子</span></p>

<h4><span lang=EN-US>2</span><span style='font-family:宋体'>）容器</span> <span
style='font-family:宋体'>—</span> <span style='font-family:宋体'>向量</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>使用迭代器遍历向量</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>b. QTcpSocket</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>封装数据通信套接字</span></p>

<h3><span lang=EN-US>c. QTcpServer</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>封装监听套接字</span></p>

<p class=MsoNormal><span style='font-family:宋体'>网络通信部分：</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>1）</span><span style='font-family:宋体'>网络数据类型是否分类</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>聊天信息</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>用户信息</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:-18.0pt'><span
lang=EN-US>c.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>棋子坐标</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>2）</span><span style='font-family:宋体'>通信协议制定</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
style='font-family:宋体'>数据包长度（</span><span lang=EN-US>quint16</span><span
style='font-family:宋体'>）</span><span lang=EN-US> + </span><span
style='font-family:宋体'>数据类型（</span><span lang=EN-US>quint8</span><span
style='font-family:宋体'>）</span><span lang=EN-US> + </span><span
style='font-family:宋体'>数据</span></p>

<h3><span lang=EN-US>d. IP</span><span style='font-family:宋体'>地址转换</span></h3>

<h2><span lang=EN-US>11</span><span style='font-family:宋体'>．数据库</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span style='font-family:宋体'>附：</span></h3>

<p class=MsoNormal><span lang=EN-US>Qt</span><span style='font-family:宋体'>中父窗口析构，子类也将一同被析构</span></p>

<p class=MsoNormal><span style='font-family:宋体'>在设计器中，按钮等上添加</span><span
lang=EN-US>&amp;A </span><span style='font-family:宋体'>相当于快捷方式</span><span
lang=EN-US>Alt + A</span><span style='font-family:宋体'>。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>资源文件——可支持任意类型的文件</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>附：常用类说明</span></h2>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>1）<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Qstring</span><span style='font-family:宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：主要针对字符串的处理，如后追加（</span><span
lang=EN-US>append</span><span style='font-family:宋体'>）、前添加（</span><span
lang=EN-US>prepend</span><span style='font-family:宋体'>）比较（</span><span
lang=EN-US>compare</span><span style='font-family:宋体'>）、替换、整型转字符串、</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>静态共有成员函数：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>比较：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>int&nbsp;&nbsp; compare
( const QString &amp; s1, const QString &amp; s2, Qt::CaseSensitivity cs )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>转格式编码：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QString fromAscii
( const char * str, int size = -1 )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QString fromUtf8
( const char * str, int size = -1 )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>基于本地平台？？？？？</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>int&nbsp;&nbsp; localeAwareCompare
( const QString &amp; s1, const QString &amp; s2 )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>整型转字符串：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QString number (
long n, int base = 10 )</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>2）<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Qlabel</span><span style='font-family:宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：</span><span
lang=EN-US>QLabel</span><span style='font-family:宋体'>提供了一个文本或图像的显示的标签，可以设置它的属性，如位置（</span><span
lang=EN-US>alignment</span><span style='font-family:宋体'>）、文本（</span><span
lang=EN-US>text</span><span style='font-family:宋体'>）、图片（</span><span
lang=EN-US>picture</span><span style='font-family:宋体'>、</span><span lang=EN-US>pixmap</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>静态共有函数：无</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>3）<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Qimage</span><span style='font-family:宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：</span><span
lang=EN-US>QImage</span><span style='font-family:宋体'>的类提供独立于硬件的图像显示，它允许直接访问的像素数据，并可以作为一个绘制设备。</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QImage</span><span
style='font-family:宋体'>则是为</span><span lang=EN-US>I/O</span><span
style='font-family:宋体'>，为图片像素访问以及修改而设计的。如果你</span> <span style='font-family:
宋体'>想访问图片的像素或是修改图片像素，则需要使用</span><span lang=EN-US>QImage</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>静态共有函数：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QImage fromData
( const uchar * data, int size, const char * format = 0 )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QMatrix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
trueMatrix ( const QMatrix &amp; matrix, int width, int height )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QTransform&nbsp; trueMatrix
( const QTransform &amp; matrix, int width, int height )</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><a name="OLE_LINK4"></a><a
name="OLE_LINK3"><span lang=EN-US>4）<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Qpixmap</span></a><span style='font-family:宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：</span><span
lang=EN-US>QPixmap</span><span style='font-family:宋体'>是专门为绘图而生，当需要绘制图片时你需要使用</span><span
lang=EN-US>Qpixmap</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>静态共有函数：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>自动获取个平台的深度（浓度）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>int&nbsp;&nbsp; defaultDepth
()</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QPixmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fromImage
( const QImage &amp; image, Qt::ImageConversionFlags flags = Qt::AutoColor )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QPixmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; grabWidget
( QWidget * widget, const QRect &amp; rectangle )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QTransform&nbsp; trueMatrix
( const QTransform &amp; matrix, int width, int height )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QMatrix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; trueMatrix
( const QMatrix &amp; m, int w, int h )</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><a name="OLE_LINK2"></a><a
name="OLE_LINK1"><span lang=EN-US>5）<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>QlineEdit</span></a><span style='font-family:
宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：窗口中一行的编辑</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>静态共有函数：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>6）<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>QComboBox</span><span style='font-family:宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：组合按钮和弹跳列表</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>静态共有函数：无</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>7）<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Q<a name="OLE_LINK6"></a><a name="OLE_LINK5">SpinBox</a></span><span
style='font-family:宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：旋转窗口部件</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>静态共有函数：无</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>8）<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>QMessageBox</span><span style='font-family:宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：消息提示窗口类</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>静态共有函数：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; about
( QWidget * parent, const QString &amp; title, const QString &amp; text )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aboutQt
( QWidget * parent, const QString &amp; title = QString() )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>StandardButton&nbsp; critical
( QWidget * parent, const QString &amp; title, const QString &amp; text,
StandardButtons buttons = Ok, StandardButton defaultButton = NoButton )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>StandardButton&nbsp; information
( QWidget * parent, const QString &amp; title, const QString &amp; text,
StandardButtons buttons = Ok, StandardButton defaultButton = NoButton )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>StandardButton&nbsp; question
( QWidget * parent, const QString &amp; title, const QString &amp; text,
StandardButtons buttons = Ok, StandardButton defaultButton = NoButton )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>StandardButton&nbsp; warning
( QWidget * parent, const QString &amp; title, const QString &amp; text,
StandardButtons buttons = Ok, StandardButton defaultButton = NoButton )</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>9）<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>QfileDialog</span><span style='font-family:宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：提供一对话框，供用户选择文件或目录</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>静态共有函数：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QString getExistingDirectory
( QWidget * parent = 0, const QString &amp; caption = QString(), const QString
&amp; dir = QString(), Options options = ShowDirsOnly )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QString getOpenFileName
( QWidget * parent = 0, const QString &amp; caption = QString(), const QString
&amp; dir = QString(), const QString &amp; filter = QString(), QString * selectedFilter
= 0, Options options = 0 )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QStringList&nbsp; getOpenFileNames
( QWidget * parent = 0, const QString &amp; caption = QString(), const QString
&amp; dir = QString(), const QString &amp; filter = QString(), QString *
selectedFilter = 0, Options options = 0 )</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>QString getSaveFileName
( QWidget * parent = 0, const QString &amp; caption = QString(), const QString
&amp; dir = QString(), const QString &amp; filter = QString(), QString *
selectedFilter = 0, Options options = 0 )</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>10）<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span lang=EN-US>Qmatrix</span><span
style='font-family:宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：将</span><span
lang=EN-US>2D</span><span style='font-family:宋体'>图像生成一个坐标系统，进行操作，多用于映射处理，如旋转</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>静态共有成员：无</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>11）<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span lang=EN-US>Qaction</span><span
style='font-family:宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：实现菜单项、实现工具按钮</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>信号：</span>
<span style='font-family:宋体'>点击——</span><span lang=EN-US>toggled(bool)</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>选中——</span><span lang=EN-US>activated()</span></p>

<h2 style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US>12）<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span lang=EN-US>QStyledItemDelegate</span><span
style='font-family:宋体'>类</span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>功能：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection18 style='layout-grid:15.6pt'>

<h1><span style='font-family:宋体'>十九、嵌入式系统构建</span></h1>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:47.95pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=85 valign=top style='width:63.75pt;border:solid black 1.0pt;
  border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>bootloader</span></p>
  </td>
  <td width=28 valign=top style='width:21.3pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FDE9D9;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='position:absolute;z-index:395;left:0px;
  margin-left:2px;margin-top:18px;width:16px;height:37px'><img width=16
  height=37 src="embedded_linux_notes.files/image246.png"></span></p>
  </td>
  <td width=85 valign=top style='width:63.8pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>kernel</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>rootfs</span></p>
  </td>
  <td width=152 valign=top style='width:114.25pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>userfs</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u-boot</span><span
style='font-family:宋体'>环境变量</span> <span style='font-family:宋体'>与部分启动界面</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：</span><span lang=EN-US>PC</span><span
style='font-family:宋体'>机中的引导程序为</span><span lang=EN-US>BIOS+ntloader</span></p>

<h2><span lang=EN-US>1</span><span style='font-family:宋体'>、搭建开发环境</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>常用编译器有：</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:40.85pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=161 valign=top style='width:120.5pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>arm-linux-gcc-</span><span
  style='font-family:宋体'>版本号</span></p>
  </td>
  <td width=164 rowspan=2 valign=top style='width:122.7pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>安装直接解压，路径</span></p>
  <p class=MsoNormal><span style='font-family:宋体'>添加环境变量</span></p>
  </td>
  <td width=120 valign=top style='width:89.9pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>/</span></p>
  </td>
 </tr>
 <tr>
  <td width=161 valign=top style='width:120.5pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>cross-</span><span style='font-family:
  宋体'>版本号</span></p>
  </td>
  <td width=120 valign=top style='width:89.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>/usr/local/arm</span></p>
  </td>
 </tr>
</table>

<h3 style='margin-left:39.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>安装</span><span lang=EN-US>arm-linux-gcc</span><span
style='font-family:宋体'>编译器</span></h3>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>1）</span><span style='font-family:宋体'>解压</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>#tar zxvf arm-linux-gcc-4.4.3.tar.gz -C /</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>2）</span><span style='font-family:宋体'>配置环境变量</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
style='font-family:宋体'>打开</span><span lang=EN-US>#vi&nbsp; /etc/profile</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
style='font-family:宋体'>添加：</span><span lang=EN-US style='color:#00B050'>export
set PATH=$PATH:/opt/FriendlyARM/toolschain/4.4.3/bin</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>3）</span><span style='font-family:宋体'>测试</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>#arm-linux-gcc test.c</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
style='font-family:宋体'>使用</span><span lang=EN-US>file&nbsp; a.out</span><span
style='font-family:宋体'>，查看是不是</span><span lang=EN-US>ARM</span><span
style='font-family:宋体'>架构</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#00B0F0'>#file a.out </span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>a.out: ELF 32-bit LSB executable, ARM, version 1 (SYSV), for
GNU/Linux 2.6.32, dynamically linked (uses shared libs), not stripped</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>4）</span><span style='font-family:宋体'>可能出现错误</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#00B0F0'>#arm-linux-gcc a.c</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>/opt/FriendlyARM/toolschain/4.4.3/libexec/gcc/arm-none-linux-gnueabi/4.4.3/cc1:
/usr/lib/libstdc++.so.6: version `GLIBCXX_3.4.9' not found (required by
/opt/FriendlyARM/toolschain/4.4.3/lib/libppl_c.so.2)</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US>/opt/FriendlyARM/toolschain/4.4.3/libexec/gcc/arm-none-linux-gnueabi/4.4.3/cc1:
/usr/lib/libstdc++.so.6: version `GLIBCXX_3.4.9' not found (required by
/opt/FriendlyARM/toolschain/4.4.3/lib/libppl.so.7)</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
style='font-family:宋体'>原因</span></b><span style='font-family:宋体'>：库版本过低，没有</span><span
lang=EN-US>GLIBCXX_3.4.9</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>#strings /usr/lib/libstdc++.so.6 | grep
GLIBCXX</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>GLIBCXX_3.4</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>GLIBCXX_3.4.1</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>GLIBCXX_3.4.2</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>GLIBCXX_3.4.3</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>GLIBCXX_3.4.4</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>GLIBCXX_3.4.5</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>GLIBCXX_3.4.6</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>GLIBCXX_3.4.7</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US>GLIBCXX_3.4.8</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:3.0pt'><span
lang=EN-US>GLIBCXX_FORCE_NEW</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
style='font-family:宋体'>解决方法</span></b><span style='font-family:宋体'>：使用</span><span
lang=EN-US>libstdc++.so.6.0.10</span><span style='font-family:宋体'>代替</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
style='font-family:宋体'>在</span><span lang=EN-US style='color:red'>/usr/lib/</span><span
style='font-family:宋体'>下</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>#ln –sf &nbsp;libstdc++.so.6&nbsp;
libstdc++.so.6.0.10</span></p>

<h3 style='margin-left:39.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>编译</span><span lang=EN-US>u-boot</span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>机器码——与内核中的机器码必须一致，系统才可启动（可以自定义，但必须一致）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>修改开发板相关配置文件</span><span lang=EN-US style='color:#00B050'>include/configs/mini2440.h</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //uboot</span><span
style='font-family:宋体;color:#00B050'>启动后，内核加载的延时</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>139#define
CONFIG_BOOTDELAY&nbsp;&nbsp;&nbsp; 1</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#00B050'>//Linux</span><span style='font-family:宋体;color:#00B050'>内核引导参数</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>140 #define
CONFIG_BOOTARGS&nbsp;&nbsp;&nbsp;&nbsp; &quot;noinitrd console=ttySAC0,115200 </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B050'>不使用初始启动镜像</span><span lang=EN-US
style='color:#00B050'>&nbsp; </span><span style='font-family:宋体;color:#00B050'>标准输入输出定向到串口</span><span
lang=EN-US style='color:#00B050'>0</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>init=/linuxrc
root=/dev/nfs nfsroot=192.168.11.11:/work/embedded/rootfs </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;</span><span
style='font-family:宋体;color:#00B050'>指定根文件系统</span><span lang=EN-US
style='color:#00B050'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体;color:#00B050'>使用绝对路径</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>ip=192.168.11.22:192.168.11.11:192.168.11.11:255.255.255.0:micro2440.arm9.net</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp; </span><span
lang=EN-US style='color:#00B050'>&nbsp;</span><span style='font-family:宋体;
color:#00B050'>开发板</span><span lang=EN-US style='color:#00B050'>IP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体;color:#00B050'>网关</span><span lang=EN-US
style='color:#00B050'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
DNSIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#00B050'>子网掩码</span><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#00B050'>主机名</span><span style='color:#00B050'> </span></p>

<p class=MsoNormal style='text-indent:6.0pt'><span lang=EN-US style='color:
red'>:eth0:off&quot;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#00B050'>//MAC</span><span style='font-family:宋体;color:#00B050'>地址</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>141 #define
CONFIG_ETHADDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
08:08:11:18:12:27</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#00B050'>//</span><span style='font-family:宋体;color:#00B050'>子网掩码</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>142 #define
CONFIG_NETMASK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
255.255.255.0</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体;color:#00B050'>开发板</span><span lang=EN-US
style='color:#00B050'>IP</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>143 #define
CONFIG_IPADDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 192.168.11.22</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体;color:#00B050'>主机</span><span lang=EN-US
style='color:#00B050'>IP</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>144 #define
CONFIG_SERVERIP&nbsp;&nbsp;&nbsp;&nbsp; 192.168.11.11</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体;color:#00B050'>主机网关</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>145 #define
CONFIG_GATEWAYIP&nbsp;&nbsp;&nbsp; 192.168.11.11</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>146 #define
CONFIG_OVERWRITE_ETHADDR_ONCE</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>147 </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>148 /*#define
CONFIG_BOOTFILE&nbsp;&nbsp; &quot;elinos-lart&quot; */ </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>149 #define
CONFIG_BOOTCOMMAND&nbsp; &quot;tftp 0x30007fc0 uImage \; bootm&quot;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#00B050'>&nbsp;</span><span style='font-family:宋体;
color:#00B050'>命令</span><span lang=EN-US style='color:#00B050'>1&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体;color:#00B050'>表命令结束</span><span lang=EN-US
style='color:#00B050'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体;color:#00B050'>命令</span><span lang=EN-US style='color:#00B050'>2</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#00B050'>//bootm </span><span style='font-family:宋体;color:#00B050'>通过</span><span
lang=EN-US style='color:#00B050'>uImage</span><span style='font-family:宋体;
color:#00B050'>引导</span><span lang=EN-US style='color:#00B050'>Linux</span><span
style='font-family:宋体;color:#00B050'>操作系统</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>注</span></b><span
style='font-family:宋体'>：<span style='color:#002060'>当使用</span></span><span
lang=EN-US style='color:#002060'>zImage</span><span style='font-family:宋体;
color:#002060'>引导时，将丢失</span><span lang=EN-US style='color:#002060'>CONFIG_BOOTCOMMAND</span><span
style='font-family:宋体;color:#002060'>配置参数</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#002060'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal><b><span style='font-family:宋体;color:#002060'>编译命令</span></b><span
style='font-family:宋体'>：</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>#make &nbsp;ARCH=arm &nbsp;CROSS_COMPILE=arm-linux-
&nbsp;mini2440_config</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>交叉编译器前缀</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>配置文件</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>#make &nbsp;ARCH=arm &nbsp;CROSS_COMPILE=arm-linux-
&nbsp;all</span></p>

<h3 style='margin-left:39.0pt;text-indent:-18.0pt'><span lang=EN-US>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>所需服务的搭建</span><span lang=EN-US>tftp</span><span
style='font-family:宋体'>、</span><span lang=EN-US>nfs</span><span
style='font-family:宋体'>服务</span></h3>

<h4 style='margin-left:22.5pt;text-indent:-22.5pt'><span lang=EN-US>1）</span><span
lang=EN-US>tftp</span><span style='font-family:宋体'>服务的配置</span></h4>

<p class=MsoNormal><span lang=EN-US>tftp</span><span style='font-family:宋体'>——简单的文本传输协议，用于给开发板共享内核以及引导程序重新固化时。</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>修改配置文件</span><span lang=EN-US
style='color:#00B050'>/etc/xinetd.d/tftp</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>service tftp</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>{</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
socket_type&nbsp;&nbsp;&nbsp;&nbsp; = dgram&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>网络类型</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
protocol&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = udp </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
wait&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = yes </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
user&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= root</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
/usr/sbin/in.tftpd</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
server_args&nbsp;&nbsp;&nbsp;&nbsp; = -s /tftpboot&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#-s </span><span style='font-family:宋体;
color:#0070C0'>路径</span><span lang=EN-US style='color:#0070C0'>&nbsp; </span><span
style='font-family:宋体;color:#0070C0'>用于指定服务器共享目录</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; <span
style='background:yellow'>disable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
= no</span>&nbsp; </span><span lang=EN-US style='color:#0070C0'>&nbsp;#</span><span
style='font-family:宋体;color:#0070C0'>是否禁用此服务</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
per_source&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 11</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
cps&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 100 2 </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = IPv4</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>}</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>重启服务：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>#service xinetd.d restart</span></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>测试是否成功：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-42.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>安装</span><span lang=EN-US>tftp</span><span
style='font-family:宋体'>客户端，通过系统光盘安装</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#00B0F0'>#mount /dev/cdrom /media/</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt'><span lang=EN-US
style='color:#00B0F0'>#rpm -ivh /media/Server/tftp-0.49-2.i386.rpm</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-42.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>使用</span><span lang=EN-US>tftp</span><span
style='font-family:宋体'>命令下载文件测试</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#00B0F0'>#tftp 192.168.11.11</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#00B0F0'>tftp&gt; get test</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b><span style='font-family:宋体;
color:red'>注：所有用于</span><span lang=EN-US style='color:red'>tftp</span></b><b><span
style='font-family:宋体;color:red'>下载的文件对所有用户都必须至少有可读权限（即</span><span lang=EN-US
style='color:red'>444</span></b><b><span style='font-family:宋体;color:red'>），否则无法下载。</span></b></p>

<h4 style='margin-left:22.5pt;text-indent:-22.5pt'><span lang=EN-US>2）</span><span
lang=EN-US>nfs</span><span style='font-family:宋体'>服务的配置</span></h4>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
lang=EN-US>nfs</span><span style='font-family:宋体'>——网络文件系统，用于为开发板共享文件系统，延长</span><span
lang=EN-US>flash</span><span style='font-family:宋体'>寿命，提高开发效率。</span></p>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>打开配置文件</span><span lang=EN-US
style='color:#00B050'>/etc/exports</span><span lang=EN-US> </span><span
style='font-family:宋体'>（默认为空文件）</span></p>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
style='font-family:宋体'>添加</span><span lang=EN-US>&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:19.5pt'><span
lang=EN-US style='color:red'>&nbsp;/work/embedded/rootfs
*(rw,sync,no_root_squash)</span></p>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
style='font-family:宋体'>书写格式：</span></p>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>共享目录</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>共享的目标名或</span><span lang=EN-US>IP</span><span
style='font-family:宋体'>（共享参数列表）</span></p>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体;background:yellow'>每行都是一个共享目录的配置</span></p>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rw </span><span
style='font-family:宋体'>—</span> <span style='font-family:宋体'>读写</span><span
lang=EN-US>&nbsp;&nbsp; sync </span><span style='font-family:宋体'>—</span><span
lang=EN-US> C/S</span><span style='font-family:宋体'>数据，同步更新</span></p>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; no_root_squash </span><span
style='font-family:宋体'>—</span> <span style='font-family:宋体'>不压制</span><span
lang=EN-US>root</span><span style='font-family:宋体'>权限</span></p>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
style='font-family:宋体'>注：参数之间用逗号分隔，并且逗号两端不能有空格</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>重启服务</span></p>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>#service portmap start</span></p>

<p class=MsoListParagraph style='margin-left:22.5pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;#service
nfs restart</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>测试服务</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-63.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>挂载共享文件系统</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>#mount 192.168.11.11:/work/embedded/rootfs/
/media/</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-63.0pt'><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>查看共享目录与挂载目录中，文件是否同步</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Bootleader</span><span style='font-family:宋体'>引导程序——</span><span
lang=EN-US>u-boot</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>搭建完开发环境后，对</span><span lang=EN-US>u-boot</span><span
style='font-family:宋体'>进行设置，基本操作命令：</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>通过</span><span lang=EN-US>tftp</span><span
style='font-family:宋体'>将文件下载到开发板内存</span></h3>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:3.0pt'><span
lang=EN-US style='color:#00B0F0'>tftp&nbsp; </span><span style='font-family:
宋体;color:#00B0F0'>内存地址</span><span lang=EN-US style='color:#00B0F0'>&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>文件名</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>注</span></b><span
style='font-family:宋体'>：地址为一个可用的内存地址，用于临时存放</span><span lang=EN-US>u-boot</span><span
style='font-family:宋体'>文件，一般选用</span><span lang=EN-US>0x30008000</span><span
style='font-family:宋体'>，我们以明确知道可以的内存地址</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Nand flash</span><span style='font-family:宋体'>操作命令</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1）</span><span style='font-family:宋体'>擦除</span><span lang=EN-US>flash</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>nand&nbsp; erase&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>起始地址</span><span lang=EN-US
style='color:#00B0F0'>&nbsp; </span><span style='font-family:宋体;color:#00B0F0'>长度（单位字节）</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><b><span
style='font-family:宋体;background:yellow'>注</span></b><span style='font-family:
宋体;background:yellow'>：所以长度单位数值均按字节</span><span lang=EN-US style='background:
yellow'>,</span><span style='font-family:宋体;background:yellow'>使用十六进制数值表示，由于</span><span
lang=EN-US style='background:yellow'>nand flash</span><span style='font-family:
宋体;background:yellow'>按页存储，所以长度必须是页的整数倍，页大小为</span><span lang=EN-US
style='background:yellow'>64KB</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>如：</span><span lang=EN-US style='color:#0070C0'>nand
erase 0x30008000 200000&nbsp;&nbsp; //</span><span style='font-family:宋体;
color:#0070C0'>擦除</span><span lang=EN-US style='color:#0070C0'>0x30008000</span><span
style='font-family:宋体;color:#0070C0'>后</span><span lang=EN-US style='color:
#0070C0'>2M</span><span style='font-family:宋体;color:#0070C0'>的空间</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:3.0pt'><span
lang=EN-US>2MB=2048KB=2048*2048Byte=0x200000Byte</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:3.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2）</span><span style='font-family:宋体'>烧写</span><span lang=EN-US>flash</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>nand&nbsp; write </span><span
style='font-family:宋体;color:#00B0F0'>内存地址</span><span lang=EN-US
style='color:#00B0F0'>&nbsp; flash</span><span style='font-family:宋体;
color:#00B0F0'>起始地址</span><span lang=EN-US style='color:#00B0F0'>&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>长度</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3）</span><span style='font-family:宋体'>从</span><span lang=EN-US>nand
flash</span><span style='font-family:宋体'>中读取数据到内存</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>nand&nbsp; read&nbsp; </span><span
style='font-family:宋体;color:#00B0F0'>内存地址</span><span lang=EN-US
style='color:#00B0F0'>&nbsp; flash</span><span style='font-family:宋体;
color:#00B0F0'>起始地址</span><span style='color:#00B0F0'> </span><span
style='font-family:宋体;color:#00B0F0'>长度</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>关于环境变量</span> <span style='font-family:宋体'>——</span><span
lang=EN-US> u-boot</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1）</span><span style='font-family:宋体'>显示环境变量</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>printenv&nbsp; [</span><span style='font-family:
宋体;color:#00B0F0'>变量名</span><span lang=EN-US style='color:#00B0F0'>]</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2）</span><span style='font-family:宋体'>设置环境变量</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>setenv&nbsp; </span><span style='font-family:
宋体;color:#00B0F0'>变量名</span><span lang=EN-US style='color:#00B0F0'> [</span><span
style='font-family:宋体;color:#00B0F0'>值</span><span lang=EN-US style='color:
#00B0F0'>]</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>例：</span><span lang=EN-US>setenv ipaddr 192.168.11.22</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><b><span
style='font-family:宋体;color:red'>注</span></b><span style='font-family:宋体;
color:#0070C0'>：所设置的环境变量中，有多个值中间由空格或分号隔开时，使用单引号将其括起来。如</span><span lang=EN-US
style='color:#0070C0'>setenv bootcmd 'nand read 0x30008000 0x200000
0x400000;bootm'</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3）</span><span style='font-family:宋体'>保存环境变量</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>saveenv</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>关于引导命令</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='color:#00B0F0'>1）</span><span lang=EN-US style='color:#00B0F0'>bootm</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>使用</span><span lang=EN-US>uImage</span><span
style='font-family:宋体'>引导</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='color:#00B0F0'>2）</span><span lang=EN-US style='color:#00B0F0'>go
</span><span style='font-family:宋体;color:#00B0F0'>内存地址</span><span
style='color:#00B0F0'> </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>使用</span><span lang=EN-US>zImage</span><span
style='font-family:宋体'>引导</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>e.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>主要环境变量</span></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:26.7pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=161 valign=top style='width:120.45pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>bootargs</span></p>
  </td>
  <td width=350 valign=top style='width:262.25pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>引导参数</span></p>
  </td>
 </tr>
 <tr>
  <td width=161 valign=top style='width:120.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>bootcmd</span></p>
  </td>
  <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>引导命令</span></p>
  </td>
 </tr>
 <tr>
  <td width=161 valign=top style='width:120.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>bootdelay</span></p>
  </td>
  <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>延时时间（引导程序与加载内核之间的时差）</span></p>
  </td>
 </tr>
 <tr>
  <td width=161 valign=top style='width:120.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>ipaddr</span></p>
  </td>
  <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>开发板</span><span lang=EN-US>IP</span></p>
  </td>
 </tr>
 <tr>
  <td width=161 valign=top style='width:120.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>serverip</span></p>
  </td>
  <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>宿主机</span><span lang=EN-US>IP</span></p>
  </td>
 </tr>
 <tr>
  <td width=161 valign=top style='width:120.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>gateway</span></p>
  </td>
  <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>网关</span><span lang=EN-US>IP</span></p>
  </td>
 </tr>
 <tr>
  <td width=161 valign=top style='width:120.45pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>netmask</span></p>
  </td>
  <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>子网掩码</span></p>
  </td>
 </tr>
 <tr style='height:6.75pt'>
  <td width=161 valign=top style='width:120.45pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span lang=EN-US>eth0addr</span></p>
  </td>
  <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:6.75pt'>
  <p class=MsoNormal><span style='font-family:宋体'>网卡地址</span></p>
  </td>
 </tr>
 <tr style='height:9.0pt'>
  <td width=161 valign=top style='width:120.45pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span lang=EN-US>baudrate</span></p>
  </td>
  <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:9.0pt'>
  <p class=MsoNormal><span style='font-family:宋体'>波特率</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>（</span><span lang=EN-US>run</span><span
style='font-family:宋体'>，</span><span lang=EN-US>autoscr---</span><span
style='font-family:宋体'>不是所有</span><span lang=EN-US>uboot</span><span
style='font-family:宋体'>必带）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>f.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>自动加载配置信息（</span><span lang=EN-US>autoscr</span><span
style='font-family:宋体'>）</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>将脚本镜像下载内存</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
tftp 0x30008000 example.img</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>运行脚步</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
autoscr&nbsp; 0x30008000</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>4. </span><span
style='font-family:宋体'>脚本的生成</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>工具：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mkimage</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>位置：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
uboot/tools/</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>命令：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mkimage -A ARM -O linux -T script -C none -a 0 -e 0 -n&quot;example
script&quot; -d /home/zhangli/example.script example.img</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>参数解析：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
-A</span><span style='font-family:宋体'>，指定目标映像的体系结构，本实验中是</span><span
lang=EN-US>ARM</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
-O</span><span style='font-family:宋体'>，指定目标映像的操作系统，本实验中是</span><span
lang=EN-US>Linux</span><span style='font-family:宋体'>；</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
-T</span><span style='font-family:宋体'>，指定目标映像的类型，本实验中是脚本；</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
-C</span><span style='font-family:宋体'>，指定目标映像的压缩类型，脚本不需要压缩，</span><span
lang=EN-US>none</span><span style='font-family:宋体'>；</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
-a</span><span style='font-family:宋体'>，设置</span><span lang=EN-US>U-Boot</span><span
style='font-family:宋体'>的加载地址（</span><span lang=EN-US>loadaddress</span><span
style='font-family:宋体'>），本实验中设为</span><span lang=EN-US>0</span><span
style='font-family:宋体'>；</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
-e</span><span style='font-family:宋体'>，设置</span><span lang=EN-US>U-Boot</span><span
style='font-family:宋体'>映像的入口点（</span><span lang=EN-US>entry point</span><span
style='font-family:宋体'>）地址，设为</span><span lang=EN-US>0</span><span
style='font-family:宋体'>，即从脚本的起始地方开</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>始执行；</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
-n</span><span style='font-family:宋体'>，设置映像的名称；</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;
-d</span><span style='font-family:宋体'>，制作映像的脚本文件</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>g.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>开发板</span><span lang=EN-US>nand</span><span
style='font-family:宋体'>下载引导</span></h3>

<p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:宋体'>）修改</span><span
lang=EN-US>uboot</span><span style='font-family:宋体'>环境</span><span lang=EN-US>bootargs</span><span
style='font-family:宋体'>、</span><span lang=EN-US>bootcmd</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#00B0F0'>setenv bootargs 'root=/dev/mtdblock2 noinitrd
console=ttySAC0,115200'</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp; &nbsp;&nbsp; setenv
bootcmd 'nand read 0x30008000 0x200000 0x400000;bootm'</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参数解析：（参考编译</span><span lang=EN-US>u-boot</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（光盘自带文件系统已存在，自制文件系统暂时未测）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>2</span><span style='font-family:宋体'>）生成</span><span
lang=EN-US>zImage</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>make </span><span style='font-family:宋体;
color:#00B0F0'>或</span><span lang=EN-US style='color:#00B0F0'>makezImage</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3）</span><span style='font-family:宋体'>添加内核启动信息</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>16:23 [root@linfeng
boot]#mkimage -n 'linux-2.6' -A arm -O linux -T kernel -C none -a 0x30008000 -e
0x30008040 -d zImage zImage.img</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>工具：</span><span lang=EN-US style='color:red'>mkimage</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>参数解析：</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>-A</span><span
style='font-family:宋体'>指定</span><span lang=EN-US>cpu</span><span
style='font-family:宋体'>体系结构</span><span lang=EN-US>&nbsp;<br>
-O</span><span style='font-family:宋体'>指定是什么操作系统</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;<br>
-T</span><span style='font-family:宋体'>指定映像类型，如</span><span lang=EN-US>standalone</span><span
style='font-family:宋体'>、</span><span lang=EN-US>kernel</span><span
style='font-family:宋体'>、</span><span lang=EN-US>ramdisk</span><span
style='font-family:宋体'>、</span><span lang=EN-US>multi</span><span
style='font-family:宋体'>、</span><span lang=EN-US>firmware</span><span
style='font-family:宋体'>、</span><span lang=EN-US>script</span><span
style='font-family:宋体'>、</span><span lang=EN-US>filesystem</span><span
style='font-family:宋体'>等</span><span lang=EN-US>&nbsp;<br>
-C</span><span style='font-family:宋体'>指定映像压缩方式，如</span><span lang=EN-US>none(</span><span
style='font-family:宋体'>不压缩</span><span lang=EN-US>)</span><span
style='font-family:宋体'>、</span><span lang=EN-US>gzip</span><span
style='font-family:宋体'>、</span><span lang=EN-US>bzip2</span><span
style='font-family:宋体'>。这里不对</span><span lang=EN-US>uImage</span><span
style='font-family:宋体'>进行压缩</span><span lang=EN-US>&nbsp;<br>
-a</span><span style='font-family:宋体'>指定映象在内存中的加载地址，映象下载到内存中时，要按照用</span><span
lang=EN-US>MKIMAGE</span><span style='font-family:宋体'>制作映象时，这个参数所指定的地址值来下载</span><span
lang=EN-US>&nbsp;&nbsp;<br>
-e </span><span style='font-family:宋体'>指定映象运行的入口点地址，这个地址就是</span><span
lang=EN-US>-a</span><span style='font-family:宋体'>参数指定的值加上</span><span
lang=EN-US>0x40</span><span style='font-family:宋体'>（因为前面有个</span><span
lang=EN-US>MKIMAGE</span><span style='font-family:宋体'>添加的</span><span
lang=EN-US>0x40</span><span style='font-family:宋体'>个字节的头）</span><span
lang=EN-US>&nbsp;<br>
-n </span><span style='font-family:宋体'>指定映象名</span><span lang=EN-US>&nbsp;&nbsp;<br>
-d </span><span style='font-family:宋体'>指定制作映象的源文件</span><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>4</span><span style='font-family:宋体'>）内核镜像分析</span></p>

<p class=MsoNormal><span lang=EN-US style='background:yellow'>uImage</span><span
style='font-family:宋体;background:yellow'>与</span><span lang=EN-US
style='background:yellow'>zImage</span><span style='font-family:宋体;background:
yellow'>的区别：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>这两个都是内核，</span><span lang=EN-US>zImage</span><span
style='font-family:宋体'>是真正的内核，在内存中的地址</span><span lang=EN-US>0x30008000</span><span
style='font-family:宋体'>；而</span><span lang=EN-US>uImage</span><span
style='font-family:宋体'>是包含</span><span lang=EN-US>64</span><span
style='font-family:宋体'>字节头的内核，在头中存放着</span><span lang=EN-US>bootargs</span><span
style='font-family:宋体'>环境变量，在内存中的地址</span><span lang=EN-US>0x30007fc0</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:437;left:0px;
margin-left:74px;margin-top:2px;width:151px;height:19px'><img width=151
height=19 src="embedded_linux_notes.files/image247.png"></span><span
style='position:absolute;z-index:434;left:0px;margin-left:74px;margin-top:19px;
width:155px;height:36px'><img width=155 height=36
src="embedded_linux_notes.files/image248.png" alt="文本框: 64字节头"></span><span
style='position:absolute;z-index:433;left:0px;margin-left:74px;margin-top:19px;
width:418px;height:36px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=418 height=36 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:433'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    zImage</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x40</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=69 height=6></td>
  <td width=12></td>
  <td width=137></td>
  <td width=12></td>
 </tr>
 <tr>
  <td height=30></td>
  <td align=left valign=top><img width=12 height=30
  src="embedded_linux_notes.files/image249.png"></td>
  <td></td>
  <td align=left valign=top><img width=12 height=30
  src="embedded_linux_notes.files/image249.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='font-family:宋体'>低地址</span><span lang=EN-US>0&nbsp;&nbsp;
0x30007fc0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0x30008000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体'>高地址</span></p>

<p class=MsoNormal><b><span style='font-family:宋体;color:red'>注</span></b><span
style='font-family:宋体'>：<span style='color:#002060'>当使用</span></span><span
lang=EN-US style='color:#002060'>zImage</span><span style='font-family:宋体;
color:#002060'>引导时，将丢失</span><span lang=EN-US style='color:#002060'>CONFIG_BOOTCOMMAND</span><span
style='font-family:宋体;color:#002060'>配置参数，使用</span><span lang=EN-US
style='color:#002060'>uboot</span><span style='font-family:宋体;color:#002060'>编译时的默认配置参数。</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>h.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>可能报错信息</span></h3>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>内核不断重启</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><b><span
style='font-family:宋体'>出错信息</span></b><span style='font-family:宋体'>：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#C00000'>test:starting
1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#C00000'>data
abort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#C00000'>pc :
[&lt;30008008&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lr :
[&lt;31f98ba4&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#C00000'>sp : 31f5ba94&nbsp; ip :
30008000&nbsp;&nbsp;&nbsp;&nbsp; fp :
31f5bca4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#C00000'>r10: 00000000&nbsp; r9 :
00000001&nbsp;&nbsp;&nbsp;&nbsp; r8 : 31f5bfdc&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#C00000'>r7 : 00000000&nbsp; r6 :
31fcbd1c&nbsp;&nbsp;&nbsp;&nbsp; r5 : 31f5c83d&nbsp; r4 :
00000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#C00000'>r3 : 31f5bfb8&nbsp; r2 :
30000100&nbsp;&nbsp;&nbsp;&nbsp; r1 : 000000c1&nbsp; r0 :
00000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#C00000'>Flags: nZCv&nbsp; IRQs off&nbsp; FIQs
off&nbsp; Mode
SVC_32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:#C00000'>Resetting CPU
...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>原因分析：</span></b></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>内核启动入口地址错误，使用</span><span lang=EN-US>make uImage</span><span
style='font-family:宋体'>生成的</span><span lang=EN-US>uImage</span><span
style='font-family:宋体'>内核镜像的内核启动地址</span><span lang=EN-US>0x30007fc0</span><span
style='font-family:宋体'>，使用以上“</span><span lang=EN-US>nand read 0x30008000
0x200000 0x400000;bootm</span><span style='font-family:宋体'>”引导启动出错。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>解决方法：</span></b></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.</span><span
style='font-family:宋体'>使用</span><span lang=EN-US>mkimage</span><span
style='font-family:宋体'>修改真正内核</span><span lang=EN-US>zImage</span><span
style='font-family:宋体'>镜像启动入口地址为</span><span lang=EN-US>0x30008040</span><span
style='font-family:宋体'>，添加</span><span lang=EN-US>64</span><span
style='font-family:宋体'>字节的头</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.</span><span
style='font-family:宋体'>修改</span><span lang=EN-US>bootcmd</span><span
style='font-family:宋体'>变量的内核引导地址</span><span lang=EN-US>nand read 0x30007fc0
0x200000 0x400000</span><span style='font-family:宋体'>（未测）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>总结：</span></b></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>内核镜像启动入口地址</span><span lang=EN-US>0x30008000</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>使用</span><span lang=EN-US>uImage</span><span
style='font-family:宋体'>镜像启动，引导地址减</span><span lang=EN-US>64</span><span
style='font-family:宋体'>字节（它本身包含了</span><span lang=EN-US>bootargs</span><span
style='font-family:宋体'>）</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>使用</span><span lang=EN-US>zImage</span><span
style='font-family:宋体'>镜像启动，</span><span lang=EN-US>zImage</span><span
style='font-family:宋体'>添加</span><span lang=EN-US>64</span><span
style='font-family:宋体'>字节的头（</span><span lang=EN-US>bootargs</span><span
style='font-family:宋体'>），引导地址加</span><span lang=EN-US>64</span><span
style='font-family:宋体'>字节</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=EN-US>tftp</span><span style='font-family:宋体'>下载错误</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>出错信息：</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:#C00000'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TFTP
error: 'Permission denied' (0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>出错分析：</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>上网百度各自的原因，这里只记录我遇到的一次。使用</span><span lang=EN-US>tftp</span><span
style='font-family:宋体'>可以下载</span><span lang=EN-US>uboot</span><span
style='font-family:宋体'>和内核镜像。只是对文件系统镜像下载出错，可能文件权限不够，赋予所有权限</span><span
lang=EN-US>777</span><span style='font-family:宋体'>还是不好使。</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>文件系统镜像权限：</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#0070C0'>-rw------- 1 root root 19421952 05-17 14:46 root.img</span></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tftpboot</span><span
style='font-family:宋体'>里面文件权限：</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style='color:#0070C0'>drwxr-xr-x
4 root root&nbsp;&nbsp;&nbsp;&nbsp; 4096 2014-09-25 linux-install</span></span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>-rw------- 1 root root 19421952 05-17 14:46
root.img</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>-rw-r--r-- 1 root
root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 02-05 13:38 test</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>-rwxr-xr-x 1 root root&nbsp;&nbsp; 260300
12-15 23:10 u-boot.bin</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>-rwxr-xr-x 1 root root&nbsp; 2269732 05-17
13:15 uImage</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt'><span lang=EN-US
style='color:#0070C0'>-rw-r--r-- 1 root root&nbsp; 2268944 05-14 16:23
zImage.img</span></p>

<p class=MsoNormal><span style='font-family:宋体'>对比两种文件权限，所有可以进行下载的文件都有可读权限，修改文件系统镜像权限：</span><span
lang=EN-US>chmod 644 root.img</span><span style='font-family:宋体'>可以进行下载，因此<span
style='background:yellow'>所有用于</span></span><span lang=EN-US style='background:
yellow'>tftp</span><span style='font-family:宋体;background:yellow'>下载的文件都必须至少用有所有用户的可读权限</span><span
style='font-family:宋体'>。</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>编译</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>内核</span></h2>

<h3><span lang=EN-US>a.</span><span style='font-family:宋体'>下载内核源码</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>去</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>官网下载所需版本的内核源码</span><span lang=EN-US>linux-2.6.32.2.tar.gz</span></p>

<h3><span lang=EN-US>b. </span><span style='font-family:宋体'>解压内核源码</span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#00B0F0'>#tar zxvf linux-2.6.32.2.tar.gz</span></p>

<h3><span lang=EN-US>c. Linux</span><span style='font-family:宋体'>内核目录结构</span></h3>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B0F0'>#tree -L 1</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US>.</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- COPYING</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- CREDITS</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- Documentation</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- Kbuild</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- MAINTAINERS</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- Makefile</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- Module.symvers</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- README</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- REPORTING-BUGS</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- System.map</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- arch&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>板级支持依赖（开发板、处理器架构）</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- block&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>块设备驱动</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- crypto</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- drivers&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>设备驱动</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- firmware</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- fs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>文件系统</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- include &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>内核头文件目录之一</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- init&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>内核初始化代码</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- ipc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>进程通信代码</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- kernel&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>内核核心代码</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- lib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>内核库函数</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- mm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>内存管理代码</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- modules.order</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- net&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>网络协议代码</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- samples</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- scripts</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- security</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- sound&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>音频设备驱动代码</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- tools</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- usr</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- virt</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>|-- vmlinux</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>`-- vmlinux.o</span></p>

<h3><span lang=EN-US>d. </span><span style='font-family:宋体'>修改</span><span
lang=EN-US>Micro440</span><span style='font-family:宋体'>板级支持配置文件</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>参考标准的</span><span lang=EN-US>mach-<span
style='background:yellow'>smdk</span>2440.c</span><span style='font-family:
宋体'>进行修改</span></p>

<p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:宋体'>）使用</span><span
lang=EN-US>smdk2440</span><span style='font-family:宋体'>启动配置文件替换</span><span
lang=EN-US>mini2440</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>#cd &nbsp;arch/arm/mach-s3c2440/</span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#00B0F0'>#cp &nbsp;mach-smdk2440.c &nbsp;mach-mini2440.c</span></p>

<p class=MsoNormal><span lang=EN-US>2</span><span style='font-family:宋体'>）修改机器名称</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:red'>MACHINE_START(MINI2440, &quot;Micro2440 development
board&quot;)</span></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4）</span><span style='font-family:宋体'>将系统时钟修改为系统时钟（</span><span
lang=EN-US>12M</span><span style='font-family:宋体'>）</span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
style='color:red'>static void __init smdk2440_map_io(void)</span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
style='color:red'>{</span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; s3c24xx_init_io(smdk2440_iodesc,
ARRAY_SIZE(smdk2440_iodesc));</span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; <span style='background:yellow'>s3c24xx_init_clocks(12000000);</span></span></p>

<p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;s3c24xx_init_uarts(smdk2440_uartcfgs,</span></p>

<p class=MsoListParagraph style='text-indent:204.0pt'><span lang=EN-US
style='color:red'>ARRAY_SIZE(smdk2440_uartcfgs));</span></p>

<p class=MsoListParagraph style='text-indent:27.0pt'><span lang=EN-US
style='color:red'>}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>5）</span><span style='font-family:宋体'>删除</span><span lang=EN-US>smdk_machine_init()</span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
style='color:red'>static void __init smdk2440_machine_init(void)</span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
style='color:red'>{</span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; s3c24xx_fb_set_platdata(&amp;smdk2440_fb_info);</span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; s3c_i2c0_set_platdata(NULL);</span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; platform_add_devices(smdk2440_devices,</span></p>

<p class=MsoListParagraph style='text-indent:186.0pt'><span lang=EN-US
style='color:red'>ARRAY_SIZE(smdk2440_devices));</span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; <s><span style='background:yellow'>smdk_machine_init();</span></s></span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
style='color:red'>}</span></p>

<h3><span lang=EN-US>e. </span><span style='font-family:宋体'>编译内核</span></h3>

<p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:宋体'>）修改内核根目录的</span><span
lang=EN-US>Makefile</span><span style='font-family:宋体'>文件</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>ARCH&nbsp;&nbsp; = arm</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>CROSS_COMPILE&nbsp;&nbsp; = arm-linux-</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>注：末尾直接回车，不能留有空格</span></p>

<p class=MsoNormal><span lang=EN-US>2</span><span style='font-family:宋体'>）导入原来的</span><span
lang=EN-US>mini2440</span><span style='font-family:宋体'>配置</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>#make &nbsp;mini2440_defconfig</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:12.05pt'><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：</span><span
lang=EN-US>.config</span><span style='font-family:宋体'>是</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>内核默认配置文件，将</span><span lang=EN-US>mini2440</span><span
style='font-family:宋体'>配置文件拷贝为</span><span lang=EN-US>.confog</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:12.0pt'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>3</span><span style='font-family:宋体'>）编译</span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US
style='color:#00B0F0'>#make&nbsp; uImage</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>6）</span><span style='font-family:宋体'>出现错误</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-63.0pt'><b><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>1st.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><span style='font-family:宋体'>错误提示：找不到</span><span lang=EN-US>mkimage
–u-boot images will not be built</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
style='font-family:宋体'>解决方法：将</span><span lang=EN-US>u-boot/tools</span><span
style='font-family:宋体'>下的</span><span lang=EN-US>mkimage</span><span
style='font-family:宋体'>复制到交叉编译器的</span><span lang=EN-US>bin</span><span
style='font-family:宋体'>目录下</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-63.0pt'><b><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>2nd.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-63.0pt'><b><span
lang=EN-US><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>3rd.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><span lang=EN-US>.</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>内核配置原理</span></h2>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>#make&nbsp; menuconfig</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>文件</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>.config</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>配置文件，通过</span><span lang=EN-US>make</span><span
style='font-family:宋体'>生成编译规则</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>格式：</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style='color:red'>#</span></span><span
style='font-family:宋体;color:red'>注释</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CONFIG_xxx=y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>//</span><span style='font-family:宋体;
color:#0070C0'>编入内核——不可移除</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CONFIG_xxx=xxx&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; </span><span lang=EN-US style='color:#0070C0'>//</span><span
style='font-family:宋体;color:#0070C0'>内核源码中添加宏定义</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span lang=EN-US style='color:#0070C0'>&nbsp;</span><span
style='font-family:宋体;color:#0070C0'>宏名</span><span style='color:#0070C0'> </span><span
style='font-family:宋体;color:#0070C0'>宏值</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CONFIG_xxx=m&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; </span><span lang=EN-US style='color:#0070C0'>//</span><span
style='font-family:宋体;color:#0070C0'>编译为模块——可移除</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Kconfig</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>格式：</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style='color:red'>config&nbsp;
</span></span><span style='font-family:宋体;color:red'>配置项名称（大写，下划线连接）</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>定义一个配置项。如：</span><span lang=EN-US style='color:#0070C0'>config
DM9000</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='position:absolute;z-index:414;left:0px;margin-left:281px;margin-top:
9px;width:18px;height:136px'><img width=18 height=136
src="embedded_linux_notes.files/image250.png"></span><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tristate&nbsp;
</span><span style='font-family:宋体;color:red'>模块</span><span lang=EN-US
style='color:red'>/</span><span style='font-family:宋体;color:red'>内核</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#0070C0'>或</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bool&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体;color:red'>内核</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#0070C0'>或</span><span lang=EN-US style='color:
#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体;color:#0070C0'>选其一</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体;color:red'>整数</span><span style='font-family:
宋体;color:#0070C0'>——用户输入</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:#0070C0'>或</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;color:red'>字符串</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; depend
on xxx || xxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>//</span><span style='font-family:宋体;
color:#0070C0'>依赖表达式</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; select
xxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>//</span><span style='font-family:宋体;
color:#0070C0'>关联选中</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; help</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *</span><span
style='font-family:宋体;color:red'>帮助信息</span><span lang=EN-US style='color:red'>*</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Makefile</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>格式：</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style='color:red'>obj-y</span></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; obj-m</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; obj-&nbsp;&nbsp;
</span><span lang=EN-US style='color:#0070C0'>&nbsp; //</span><span
style='font-family:宋体;color:#0070C0'>不编译</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Linux</span><span style='font-family:宋体'>驱动程序</span></h2>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>通用设备驱动</span></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:62.1pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=387 colspan=2 valign=top style='width:290.6pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='font-family:宋体'>驱动程序</span></p>
  </td>
 </tr>
 <tr style='height:26.25pt'>
  <td width=180 valign=top style='width:134.7pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:26.25pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='font-family:宋体'>代码</span></p>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='font-family:宋体'>（通用）</span></p>
  </td>
  <td width=208 valign=top style='width:155.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:26.25pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='font-family:宋体'>参数</span></p>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  0cm'><span style='font-family:宋体'>（各异）</span></p>
  </td>
 </tr>
 <tr style='height:4.7pt'>
  <td width=180 valign=top style='width:134.7pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:4.7pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  24.0pt'><span lang=EN-US>drivers/</span></p>
  </td>
  <td width=208 valign=top style='width:155.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:4.7pt'>
  <p class=MsoListParagraph align=center style='text-align:center;text-indent:
  24.0pt'><span lang=EN-US>arch/</span></p>
  </td>
 </tr>
</table>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection19 style='layout-grid:15.6pt'>

<h1><span style='font-family:宋体'>二十、移植</span><span lang=EN-US>nand flash</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Flash</span><span
style='font-family:宋体'>——内核中，分区</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Nand
flash</span><span style='font-family:宋体'>——</span><span lang=EN-US>MTD</span><span
style='font-family:宋体'>内存技术设备</span></p>

<h2><span lang=EN-US>1. Linux-2.6.32.2 </span><span style='font-family:宋体'>内核所支持的</span><span
lang=EN-US> Nand Flash </span><span style='font-family:宋体'>类型</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:black'>Linux2.6.32.2 </span></span><span style='font-family:宋体;
color:black'>已</span><span style='color:black'> </span><span style='font-family:
宋体;color:black'>经</span><span style='color:black'> </span><span
style='font-family:宋体;color:black'>自</span><span style='color:black'> </span><span
style='font-family:宋体;color:black'>带</span><span style='color:black'> </span><span
style='font-family:宋体;color:black'>了</span><span style='color:black'> </span><span
style='font-family:宋体;color:black'>大</span><span style='color:black'> </span><span
style='font-family:宋体;color:black'>部</span><span style='color:black'> </span><span
style='font-family:宋体;color:black'>分</span><span lang=EN-US style='color:black'>
Nand Flash </span><span style='font-family:宋体;color:black'>驱</span><span
style='color:black'> </span><span style='font-family:宋体;color:black'>动</span><span
style='color:black'> </span><span style='font-family:宋体;color:black'>，</span><span
style='color:black'> </span><span style='font-family:宋体;color:black'>在</span><span
lang=EN-US style='color:black'> linux-2.6.32.2/drivers/mtd/nand/nand_ids.c </span><span
style='font-family:宋体;color:black'>文件中，定义了所支持的各种</span><span lang=EN-US
style='color:black'> Nand Flash </span><span style='font-family:宋体;color:black'>类</span><span
style='color:black'> </span><span style='font-family:宋体;color:black'>型</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=554 height=387
src="embedded_linux_notes.files/image251.jpg"></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection20 style='layout-grid:15.6pt'>

<h2><span lang=EN-US>2. MTD</span><span style='font-family:宋体'>系统层次</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MTD</span><span
style='font-family:宋体'>——</span><span lang=EN-US>Memory Technology Device (</span><span
style='font-family:宋体'>内存技术设备</span><span lang=EN-US>)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=278 height=18></td>
  <td width=111></td>
  <td width=9></td>
  <td width=103></td>
 </tr>
 <tr>
  <td height=68></td>
  <td rowspan=2 align=left valign=top><img width=111 height=126
  src="embedded_linux_notes.files/image252.png"></td>
  <td></td>
  <td align=left valign=top><img width=103 height=68
  src="embedded_linux_notes.files/image253.png"></td>
 </tr>
 <tr>
  <td height=58></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>设备号</span><span lang=EN-US>90&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>设备号</span><span lang=EN-US>31</span></p>

<p class=MsoNormal><span style='position:relative;z-index:401'><span
style='left:0px;position:absolute;left:159px;top:-1px;width:342px;height:216px'><img
width=342 height=216 src="embedded_linux_notes.files/image254.png"></span></span><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal style='text-indent:21.0pt'><b><span style='font-family:宋体'>注</span></b><span
style='font-family:宋体'>：</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>MTD</span><span
style='font-family:宋体'>原始设备层两部分</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>一、</span><span lang=EN-US>MTD</span><span
style='font-family:宋体'>原始设备通用代码</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;background:yellow'>二、各个特定的</span><span lang=EN-US
style='background:yellow'>Flash</span><span style='font-family:宋体;background:
yellow'>数据——分区</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>Flash</span><span
style='font-family:宋体'>硬件驱动层</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>负责</span><span lang=EN-US>Flash</span><span
style='font-family:宋体'>硬件设备的读、写、擦除</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>NOR Flash</span><span
style='font-family:宋体'>驱动</span> <span lang=EN-US>drivers/mtd/chips/</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>Nand Flash</span><span
style='font-family:宋体'>驱动</span><span lang=EN-US>drivers/mtd/nand/3. nand flash
</span><span style='font-family:宋体'>分区</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Nand
flash</span><span style='font-family:宋体'>大小</span><span lang=EN-US>256M</span><span
style='font-family:宋体'>，预分区数</span><span lang=EN-US>4</span><span
style='font-family:宋体'>个</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>分区代码：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#002060'>arch/arm/mach-s3c2440/mach-mini2440.c</span></span></p>

<h3><span lang=EN-US>a. </span><span style='font-family:宋体'>一个结构体变量定义一个分区</span></h3>

<p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:宋体'>）结构体定义</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>文件：</span><span lang=EN-US style='color:#00B050'>include/linux/mtd/partitions.h</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>struct mtd_partition {</span></span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char
*name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* identifier string */</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint64_t
size;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* partition size
*/</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint64_t
offset;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* offset within the master
MTD space */</span></p>

<p class=MsoNormal style='margin-left:18.75pt;text-indent:23.25pt'><span
lang=EN-US style='color:#00B0F0'>uint32_t
mask_flags;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* master MTD flags to
mask out for this</span></p>

<p class=MsoNormal style='margin-left:186.75pt;text-indent:23.25pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;partition */</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#00B0F0'>struct nand_ecclayout *ecclayout;&nbsp;&nbsp;
/* out of band layout for this partition </span></p>

<p class=MsoNormal style='margin-left:210.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#00B0F0'>(NAND only)*/</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#00B0F0'>};</span></p>

<p class=MsoNormal><span lang=EN-US>2</span><span style='font-family:宋体'>）</span><span
lang=EN-US>4</span><span style='font-family:宋体'>个分区</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:red'>static struct mtd_partition micro2440_nand_partitions[] = { </span></span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [0]
= { </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .name = &quot;bootloader&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .size = 0x200000,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .offset = 0,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [1]
= { </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .name = &quot;kernel&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .size = 0x600000,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .offset = 0x200000,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [2]
= { </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .name = &quot;rootfs&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .size = 0x4000000,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .offset = 0x800000,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [3]
= { </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .name = &quot;userfs&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .size = 0xb800000,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; .offset = 0x4800000,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;
</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US
style='color:red'>};</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>多块</span><span lang=EN-US>nand flash</span><span
style='font-family:宋体'>芯片</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>1</span><span style='font-family:宋体'>）结构体定义</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>文件：</span><span lang=EN-US style='color:#00B050'>arch/arm/plat-s3c/include/plat/nand.h</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>struct s3c2410_nand_set {</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; unsigned
int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disable_ecc:1;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; unsigned
int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flash_bbt:1;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nr_chips;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nr_partitions;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;
char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *name;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *nr_map;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; struct
mtd_partition&nbsp;&nbsp;&nbsp; *partitions;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; struct
nand_ecclayout&nbsp;&nbsp; *ecc_layout;</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><span
lang=EN-US style='color:#00B0F0'>};</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体;background:yellow'>注：一个结构体对于一个</span><span lang=EN-US
style='background:yellow'>nand flash</span><span style='font-family:宋体;
background:yellow'>芯片</span></p>

<p class=MsoNormal><span lang=EN-US>2</span><span style='font-family:宋体'>）一块</span><span
lang=EN-US>nand flash</span><span style='font-family:宋体'>芯片</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:red'>static struct s3c2410_nand_set micro2440_nand_sets[] = { </span></span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [0]
= { </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;.name = &quot;NAND_Flash&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;.nr_chips = 1,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;.nr_partitions =
ARRAY_SIZE(micro2440_nand_partitions),</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;.partitions =
micro2440_nand_partitions,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;},&nbsp;
</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>};</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b><span style='font-family:宋体'>注：</span></b><span
lang=EN-US>ARRAY_SIZE</span><span style='font-family:宋体'>（）宏定义，计算数组大小</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>nand flash</span><span style='font-family:宋体'>芯片时序</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>时序设置，可根据芯片手册与实际测试</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>结构体定义</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>文件：</span><span lang=EN-US style='color:#00B050'>arch/arm/plat-s3c/include/plat/nand.h</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>struct s3c2410_platform_nand {</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; /* timing information for
controller, all times in nanoseconds */</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; int tacls;&nbsp; /* time
for active CLE/ALE to nWE/nOE */</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; int twrph0; /* active time
for nWE/nOE */</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; int twrph1; /* time for
release CLE/ALE from nWE/nOE inactive */</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; unsigned
int&nbsp;&nbsp;&nbsp; ignore_unset_ecc:1;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nr_sets;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp; struct s3c2410_nand_set
*sets;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;
void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
(*select_chip)(struct s3c2410_nand_set *,</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
int chip);</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><span
lang=EN-US style='color:#00B0F0'>};</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>分区时序设置</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>static struct s3c2410_platform_nand
micro2440_nand_platform = { </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .tacls = 20, </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .twrph0 = 30, </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .twrph1 = 20, </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .nr_sets =
ARRAY_SIZE(micro2440_nand_sets),</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .sets = micro2440_nand_sets,</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .ignore_unset_ecc = 1,</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><span
lang=EN-US style='color:red'>};</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>注册设备到内核</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1）</span><span style='font-family:宋体'>结构体定义</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>文件：</span><span lang=EN-US style='color:#00B050'>arch/arm/plat-s3c/dev-nand.c</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>struct platform_device s3c_device_nand = { </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;
.name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
&quot;s3c2410-nand&quot;,</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;
.id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -1, </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;
.num_resources&nbsp;&nbsp;&nbsp; = ARRAY_SIZE(s3c_nand_resource),</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B0F0'>&nbsp;&nbsp;&nbsp;
.resource&nbsp;&nbsp;&nbsp;&nbsp; = s3c_nand_resource,</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><span
lang=EN-US style='color:#00B0F0'>};</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2）</span><span style='font-family:宋体'>注册</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>static struct platform_device *smdk2440_devices[]
__initdata = {</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &amp;s3c_device_usb,</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &amp;s3c_device_lcd,</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &amp;s3c_device_wdt,</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &amp;s3c_device_i2c0,</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &amp;s3c_device_iis,</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; <span style='background:yellow'>&amp;s3c_device_nand,</span></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; &amp;s3c_device_dm9k,</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><span
lang=EN-US style='color:red'>};</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>e.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>添加</span><span lang=EN-US>nand flash</span><span
style='font-family:宋体'>到</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>内核设备表</span></h3>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>struct platform_device</span><span style='font-family:宋体'>结构的</span><span
lang=EN-US>dev</span><span style='font-family:宋体'>成员的</span><span lang=EN-US>platfrom_data</span><span
style='font-family:宋体'>指针用于指向设备参数结构</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>static void __init smdk2440_machine_init(void)</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>{</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;
s3c24xx_fb_set_platdata(&amp;smdk2440_fb_info);</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;
s3c_i2c0_set_platdata(NULL);</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp; <span style='background:
yellow'>s3c_device_nand.dev.platform_data = &amp;micro2440_nand_platform;</span></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;
platform_add_devices(smdk2440_devices, </span></p>

<p class=MsoListParagraph style='margin-left:207.0pt;text-indent:3.0pt'><span
lang=EN-US style='color:red'>ARRAY_SIZE(smdk2440_devices));</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><span
lang=EN-US style='color:red'>}</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体;background:lime'>注：在</span><span
lang=EN-US style='background:lime'>Linux</span></b><b><span style='font-family:
宋体;background:lime'>内核中使用自定义变量时，必须</span><span lang=EN-US style='background:
lime'>static</span></b><b><span style='font-family:宋体;background:lime'>进行修饰，避免出现全局变量，防止内核污染</span></b></p>

<h2><span lang=EN-US>4. </span><span style='font-family:宋体'>常见错误</span></h2>

<h3><span lang=EN-US>a. FTL header not found</span></h3>

<p class=MsoNormal><span style='font-family:宋体'>解决方法：在内核配置选项中，关闭</span><span
lang=EN-US>FTL</span><span style='font-family:宋体'>下连续</span><span lang=EN-US>4</span><span
style='font-family:宋体'>个选项</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=554 height=391
src="embedded_linux_notes.files/image255.jpg"></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection21 style='layout-grid:15.6pt'>

<h1><span style='font-family:宋体'>二十一、移植</span><span lang=EN-US>dm9000</span><span
style='font-family:宋体'>网卡</span></h1>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>设备资源</span></h2>

<p class=MsoNormal><span lang=EN-US><img border=0 width=540 height=518
src="embedded_linux_notes.files/image256.png"></span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>nGCS4&nbsp;&nbsp;
</span><span style='font-family:宋体'>片选——基址</span><span lang=EN-US
style='color:#0070C0'>0x2000 0000</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>16</span><span
style='font-family:宋体'>位网卡——</span><span lang=EN-US>IO</span><span
style='font-family:宋体'>基址—</span><span lang=EN-US>0x300</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;background:yellow'>地址端口—</span><span lang=EN-US
style='background:yellow'>0x300&nbsp; + 0x00</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;background:yellow'>数据端口—</span><span lang=EN-US
style='background:yellow'>0x300&nbsp; + 0x04</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='background:yellow'>EINT&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体;background:yellow'>中断——中断号</span><span lang=EN-US style='background:yellow'>IRQ_EINT7&nbsp;
</span><span style='font-family:宋体;background:yellow'>（上升沿）</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>相关基址：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DM9000</span><span
style='font-family:宋体'>网卡设备在内存中的地址</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US><img border=0
width=554 height=442 id="图片 8" src="embedded_linux_notes.files/image257.jpg"></span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>设备资源初始化</span></h2>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>Linux-2..6.32.2</span><span
style='font-family:宋体'>已经自带了完善的</span><span lang=EN-US>DM9000</span><span
style='font-family:宋体'>网卡驱动驱动</span><span lang=EN-US>(</span><span
style='font-family:宋体'>源代码位置：</span><span lang=EN-US>linux-2.6.32.2/ drivers/net/dm9000.c)</span><span
style='font-family:宋体'>，它也是一个平台设备，因此在目标平台初始化代码中，只要填写好相应的结构表即可，具体步骤如下：</span></p>

<p class=MsoNormal><span style='font-family:宋体'>头文件：</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red;background:#D9D9D9'>#include
&lt;linux/ioport.h&gt;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red;background:#D9D9D9'>#include
&lt;linux/dm9000.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>结构表：</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>//</span><span
style='font-family:宋体;color:#0070C0'>定义</span><span lang=EN-US
style='color:#0070C0'>DM9000</span><span style='font-family:宋体;color:#0070C0'>在内存中的</span><span
lang=EN-US style='color:#0070C0'>IO</span><span style='font-family:宋体;
color:#0070C0'>基址</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>#define
MACH_MICRO2440_DM9K_BASE (S3C2410_CS4 + 0x300)</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static struct resource
micro2440_dm9k_resources[] = {</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [0]
= {</span><span lang=EN-US style='color:#0070C0'> //</span><span
style='font-family:宋体;color:#0070C0'>地址端口</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .start
= MACH_MICRO2440_DM9K_BASE + 0x00,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .end&nbsp;&nbsp;
= MACH_MICRO2440_DM9K_BASE + 0x03,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .flags&nbsp;
= IORESOURCE_MEM,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [1]
= { </span><span lang=EN-US style='color:#0070C0'>//</span><span
style='font-family:宋体;color:#0070C0'>数据端口</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .start
= MACH_MICRO2440_DM9K_BASE + 0x04,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .end&nbsp;&nbsp;
= MACH_MICRO2440_DM9K_BASE + 0x07,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .flags&nbsp;
= IORESOURCE_MEM,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [2]
= {</span><span lang=EN-US style='color:#0070C0'> //</span><span
style='font-family:宋体;color:#0070C0'>中断源</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .start
= IRQ_EINT7,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .end&nbsp;&nbsp;
= IRQ_EINT7,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .flags
= IORESOURCE_IRQ | IORESOURCE_IRQ_HIGHEDGE,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>};</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static struct
dm9000_plat_data micro2400_dm9k_pdata = {</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .flags
= DM9000_PLATF_16BITONLY |</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;DM9000_PLATF_NO_EEPROM,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //MAC</span><span
style='font-family:宋体;color:#0070C0'>地址</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .dev_addr
= {0x83, 0x89, 0x76, 0x98, 0x89, 0xaa},</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>};</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static struct
platform_device s3c_device_dm9k = {</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .name
= &quot;dm9000&quot;, </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .id
= -1,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .num_resources
= ARRAY_SIZE(micro2440_dm9k_resources),</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .resource
= micro2440_dm9k_resources,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .dev
= {</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .platform_data
= &amp;micro2400_dm9k_pdata,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>};</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>添加</span><span lang=EN-US>DM9000</span><span
style='font-family:宋体'>到设备表</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#365F91'>static struct
platform_device *smdk2440_devices[] __initdata = {</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#365F91'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;s3c_device_usb,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#365F91'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;s3c_device_lcd,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#365F91'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;s3c_device_wdt,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#365F91'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;s3c_device_i2c0,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#365F91'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;s3c_device_iis,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#365F91'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;s3c_device_nand,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#365F91'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:red'>&amp;s3c_device_dm9k,&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US style='color:#365F91'>};</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>调整</span><span lang=EN-US>DM9000</span><span
style='font-family:宋体'>所用到的位宽寄存器</span></h2>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>网卡初始化时，设定</span><span
lang=EN-US>2440</span><span style='font-family:宋体'>处理器，位宽寄存器，片选设备时序控制</span></p>

<p class=MsoNormal><span style='font-family:宋体'>头文件：</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red;background:#D9D9D9'>#if
defined(CONFIG_ARCH_S3C2410)</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red;background:#D9D9D9'>#include
&lt;mach/regs-mem.h&gt;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red;background:#D9D9D9'>#endif</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>dm9000_init(void)</span><span
style='font-family:宋体'>函数中添加：</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>#if
defined(CONFIG_ARCH_S3C2410)</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned
oldval_bwscon = *(volatile unsigned int *)S3C2410_BWSCON;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *(volatile
unsigned int *)S3C2410_BWSCON = (oldval_bwscon &amp; ~(3 &lt;&lt; 16)) |</span></p>

<p class=MsoNormal style='margin-left:105.0pt'><span lang=EN-US
style='color:red'>S3C2410_BWSCON_DW4_16 | S3C2410_BWSCON_WS4 |
S3C2410_BWSCON_ST4;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *((volatile
unsigned int *)S3C2410_BANKCON4) = 0X1F7C;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>#endif</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection22 style='layout-grid:15.6pt'>

<h1><span style='font-family:宋体'>二十二、制作文件系统</span></h1>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>目录</span></h2>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>在</span><span
lang=EN-US>rootfs</span><span style='font-family:宋体'>下，创建以下目录</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US
style='color:#00B0F0'>mkdir&nbsp; bin dev etc home lib mnt opt proc root sbin
sys tmp usr var</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US
style='color:#00B0F0'>mkdir&nbsp; etc/init.d</span></p>

<p class=MsoNormal><span lang=EN-US>tmp</span><span style='font-family:宋体'>文件权限的修改</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>chmod 1777 tmp </span>&nbsp;&nbsp;&nbsp;&nbsp;#1</span><span
style='font-family:宋体'>连置位</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>目的：多用户时，每个用户只能对自己在</span><span
lang=EN-US>tmp</span><span style='font-family:宋体'>中创建、添加的文件有所属权限。</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>可执行命令——</span><span lang=EN-US>busybox</span></h2>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>解压</span> <span style='font-family:宋体'>到</span><span
lang=EN-US> filesystem</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#00B0F0'>tar &nbsp;jxvf &nbsp;busybox-1.20.2.tar.bz2&nbsp; </span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>编译</span></h3>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>1）</span><span lang=EN-US style='color:#00B0F0'>make menuconfig</span><span
lang=EN-US> </span><span style='font-family:宋体'>—</span> <span
style='font-family:宋体'>选择可编译项</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
style='font-family:宋体'>选择原则：<span style='color:red'>选择需要和必须的一些命令</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
</span><span style='font-family:宋体'>必须修改和选择的项：</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>Busybox Setting</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Build Options</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:red'>*Build BusyBox as a static binary (no shared libs)</span></span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ()cross
complier prefix</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>添加交叉编译环境，设置为</span><span lang=EN-US style='color:red'>arm-linux-</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>Coreutils</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; id</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; test</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dd</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mknod</span></p>

<p class=MsoListParagraph style='margin-left:57.0pt;text-indent:6.0pt'><span
lang=EN-US>tty</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
Shells</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:red'>*ash</span></span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Choose
which shell is aliased to ‘sh’ name(ash) </span><span style='font-family:宋体;
color:red'>——</span><span lang=EN-US style='color:red'>&gt;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Choose
which shell is aliased to ‘bash’ name(ash) </span><span style='font-family:
宋体;color:red'>——</span><span lang=EN-US style='color:red'>&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>这两个选项进入后全选</span><b><span lang=EN-US style='color:red'>ash</span></b></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
Linux System </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mdev</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
Console </span><span style='font-family:宋体'>。。。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clear</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reset</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
Editers</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体'>基本全留，可不选</span><span lang=EN-US>patch</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
Save ….//</span><span style='font-family:宋体'>选择默认保存</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US style='color:#00B0F0'>2）</span><span lang=EN-US style='color:#00B0F0'>make</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span style='font-family:宋体'>先修改</span><span
lang=EN-US>Makefile</span><span style='font-family:宋体'>文件</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ARCH
= arm</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CROSS_COMPILE
= arm-linux-</span></p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US style='color:#00B0F0'>3）</span><span lang=EN-US style='color:#00B0F0'>make
install</span></p>

<p class=MsoNormal style='margin-left:15.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>最后生成文件，</span><span lang=EN-US>_install</span><span
style='font-family:宋体'>目录下，将其全部拷贝到</span><span lang=EN-US>rootfs</span><span
style='font-family:宋体'>目录下</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#00B0F0'>cp _install/* ../../rootfs/ -rfap</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>创建共享库</span></h2>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体'>将交叉编译器中的共享库，拷贝到</span><span
lang=EN-US>rootfs/lib</span><span style='font-family:宋体'>目录下。</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>cp /opt/FriendlyARM/toolschain/4.4.3/<span
style='background:yellow'>arm-none-linux-gnueabi</span>/lib/* lib/ </span></span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>删除其中静态库文件</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>rm *.a –f</span></span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>创建基本终端设备</span><span lang=EN-US>console</span></h2>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>如果在嵌入式设备文件系统中，没有</span><span
lang=EN-US>console</span><span style='font-family:宋体'>设备时，内核加载将出现错误：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unable
to open initial console</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>添加</span><span
lang=EN-US>console</span><span style='font-family:宋体'>设备——参考</span><span
lang=EN-US>PC</span><span style='font-family:宋体'>机</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:33.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=250 valign=top style='width:187.75pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>PC</span><span style='font-family:宋体'>机</span></p>
  </td>
  <td width=260 valign=top style='width:195.0pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=510 colspan=2 valign=top style='width:382.75pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>10:59 [root@linfeng ~]#ls -l /dev/console
  </span></p>
  <p class=MsoNormal><span lang=EN-US>crw------- 1 root root <span
  style='background:yellow'>5, 1</span> 12-19 10:54 /dev/console</span></p>
  </td>
 </tr>
 <tr>
  <td width=250 valign=top style='width:187.75pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>开发板文件系统</span></p>
  </td>
  <td width=260 valign=top style='width:195.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:18.75pt'>
  <td width=250 valign=top style='width:187.75pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:solid windowtext 1.0pt;border-right:
  solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:18.75pt'>
  <p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>mknod -m 666
  console c 5 1</span></p>
  </td>
  <td width=260 valign=top style='width:195.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:18.75pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:12.75pt'>
  <td width=510 colspan=2 valign=top style='width:382.75pt;border-top:none;
  border-left:solid windowtext 1.0pt;border-bottom:solid black 1.0pt;
  border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:12.75pt'>
  <p class=MsoNormal><span lang=EN-US>11:05 [root@linfeng rootfs]#ll
  dev/console </span></p>
  <p class=MsoNormal><span lang=EN-US>crw-rw-rw- 1 root root <span
  style='background:yellow'>5, 1</span> 12-18 21:23 dev/console</span></p>
  </td>
 </tr>
</table>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>解决不断提示找不到</span><span lang=EN-US>/dev/tty2</span><span
style='font-family:宋体'>或</span><span lang=EN-US>3</span><span style='font-family:
宋体'>或</span><span lang=EN-US>4</span><span style='font-family:宋体'>等情况</span></h2>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>同四，添加</span><span
lang=EN-US>ttyn</span><span style='font-family:宋体'>等设备</span></p>

<p class=MsoNormal style='margin-left:30.0pt'><span lang=EN-US
style='color:#00B0F0'>mknod -m 666 tty2 c 4 2 </span></p>

<p class=MsoNormal style='margin-left:30.0pt'><span lang=EN-US
style='color:#00B0F0'>mknod -m 666 tty3 c 4 3 </span></p>

<p class=MsoNormal style='margin-left:30.0pt'><span lang=EN-US
style='color:#00B0F0'>mknod -m 666 tty4 c 4 4</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>配置文件</span></h2>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Linux</span><span style='font-family:宋体'>启动脚本</span></h3>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:3.0pt'><span
lang=EN-US style='color:red'>/etc/init.d/rcS</span></p>

<p class=MsoNormal style='margin-left:18.0pt'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=2 height=14></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=567 height=336 src="embedded_linux_notes.files/image258.png"
  alt="圆角矩形:   1 #!/bin/sh&#13;&#10;  2 &#13;&#10;  3 PATH=/sbin:/bin:/usr/bin:/usr/sbin:/opt/bin&#13;&#10;  4 runlevel=S&#13;&#10;  5 prevlevel=N&#13;&#10;  6 umask 0022&#13;&#10;  7 export PATH runlevel prevlevel&#13;&#10;  8 mount -a&#13;&#10;  9 echo /sbin/mdev &gt; /proc/sys/kernel/hotplug&#13;&#10; 10 mdev -s&#13;&#10; 11 hostname micro2440&#13;&#10; 12 ifconfig lo 127.0.0.1&#13;&#10; 13 ifconfig eth0 192.168.11.22&#13;&#10;"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>设置文件系统信息——</span><span lang=EN-US>mount</span></h3>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>/etc/fstab</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[</span><span style='font-family:宋体'>参考配置文件</span><span lang=EN-US>]</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=14 height=8></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=539 height=114 src="embedded_linux_notes.files/image259.png"
  alt="圆角矩形:   1 proc    /proc  proc   defaults   0   0&#13;&#10;  2 none   /tmp   ramfs  defaults    0   0&#13;&#10;  3 sysfs   /sys    sysfs  defaults    0   0&#13;&#10;  4 mdev  /dev    ramfs  defaults    0   0&#13;&#10;"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：</span><span lang=EN-US>none </span><span
style='font-family:宋体'>——</span> <span style='font-family:宋体'>空挂载点</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ramfs
</span><span style='font-family:宋体'>——</span> <span style='font-family:宋体'>挂载到内存（用于</span><span
lang=EN-US>tmp</span><span style='font-family:宋体'>临时文件，重启后里面文件将消失）</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:6.0pt'><span
lang=EN-US>mdev </span><span style='font-family:宋体'>——</span> <span lang=EN-US>&nbsp;mdev</span><span
style='font-family:宋体'>是</span><span lang=EN-US>busybox</span><span
style='font-family:宋体'>自带的一个简化版的</span><span lang=EN-US>udev</span><span
style='font-family:宋体'>，<span style='background:yellow'>作用是在系统启动和热插拔或动态加载驱动程序时，自动产生驱动程序所需的节点文件</span>，在文件系统中的</span><span
lang=EN-US>/dev</span><span style='font-family:宋体'>目录下的设备节点都是由</span><span
lang=EN-US>mdev</span><span style='font-family:宋体'>创建的</span><span lang=EN-US>mdev</span><span
style='font-family:宋体'>扫描</span><span lang=EN-US>/sys/class</span><span
style='font-family:宋体'>和</span><span lang=EN-US>/sys/block</span><span
style='font-family:宋体'>中所有的类设备目录，如果在目录中含有名为</span><span lang=EN-US>&quot;dev&quot;</span><span
style='font-family:宋体'>的文件，且文件中包含的是设备号，则</span><span lang=EN-US>mdev</span><span
style='font-family:宋体'>就利用这些信息为这个设备在</span><span lang=EN-US>/dev</span><span
style='font-family:宋体'>下创建设备节点用法</span></p>

<p class=MsoNormal style='margin-left:63.0pt'><span style='font-family:宋体;
color:#0070C0'>执行</span><span lang=EN-US style='color:#0070C0'>mdev</span><span
style='font-family:宋体;color:#0070C0'>前要挂载</span><span lang=EN-US
style='color:#0070C0'> /sys<br>
mount -t tmpfs mdev /dev<br>
mount -t sysfs sysfs /sys</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>网络配置</span></h3>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US
style='color:red'>/etc/host</span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US
style='color:red'>/etc/resolv.conf</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：这两个文件从主机复制过来，只需改相关配置参数</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>用户管理及一些必要文件</span></h3>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>touch&nbsp; /etc/mdev.conf&nbsp;
/etc/net.conf&nbsp; /etc/mime.types</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>mime.type</span><span
style='font-family:宋体'>——统一文件类型</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>用户管理，从主机拷贝</span><span
lang=EN-US>group</span><span style='font-family:宋体'>、</span><span lang=EN-US>passwd</span><span
style='font-family:宋体'>、</span><span lang=EN-US>shadow</span><span
style='font-family:宋体'>文件，其中保留</span><span lang=EN-US>root</span><span
style='font-family:宋体'>，</span><span lang=EN-US>bin, daemom,nobody</span><span
style='font-family:宋体'>及普通用户，其余各行全删掉</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>e.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>shell</span><span style='font-family:宋体'>配置</span></h3>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>/etc/profile</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=16 height=9></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=485 height=185 src="embedded_linux_notes.files/image260.png"
  alt="圆角矩形:    #!/bin/sh&#13;&#10;   &#13;&#10;  USER=&quot;id -un&quot;&#13;&#10;  LOGNAEM=$USER&#13;&#10;  HOSTNAME=`/bin/hostname`&#13;&#10;  PS1='[\u@\h \W]\$'&#13;&#10;  export USER LOGNAME HOSTNAME PS1&#13;&#10;"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>f.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>登陆功能</span></h3>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>在</span><span lang=EN-US>/etc/init.d/rcS</span><span
style='font-family:宋体'>中追加</span><span lang=EN-US> login</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h2><span style='font-family:宋体'>附：</span></h2>

<h3><span lang=EN-US>udev</span><span style='font-family:宋体'>和</span><span
lang=EN-US>mdev</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span style='font-family:宋体'>开发板</span><span lang=EN-US>IP</span><span
style='font-family:宋体'>解析</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>到目前为止，开发板中三个阶段一共用到了</span><span lang=EN-US>4</span><span
style='font-family:宋体'>个</span><span lang=EN-US>IP</span><span
style='font-family:宋体'>地址</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=87 valign=top style='width:65.6pt;border-top:windowtext;border-left:
  black;border-bottom:black;border-right:windowtext;border-style:solid;
  border-width:1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>第一阶段</span></p>
  </td>
  <td width=118 valign=top style='width:88.65pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Uboot</span><span style='font-family:
  宋体'>连接时</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;color:#FFC000'>开发板</span></p>
  </td>
  <td width=96 valign=top style='width:71.85pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;color:#31849B'>宿主机</span></p>
  </td>
  <td width=48 valign=top style='width:36.0pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>独立</span></p>
  </td>
  <td width=111 rowspan=3 valign=top style='width:83.5pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>二者可以相同，也可以是不同网络</span></p>
  </td>
 </tr>
 <tr>
  <td width=87 valign=top style='width:65.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>第二阶段</span></p>
  </td>
  <td width=118 valign=top style='width:88.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>文件系统（</span><span lang=EN-US>nfs</span><span
  style='font-family:宋体'>）</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;color:#00B050'>开发板</span></p>
  </td>
  <td width=96 valign=top style='width:71.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;color:#31849B'>宿主机</span></p>
  </td>
  <td width=48 rowspan=2 valign=top style='width:36.0pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>同一</span></p>
  <p class=MsoNormal><span style='font-family:宋体'>网段</span></p>
  </td>
 </tr>
 <tr>
  <td width=87 valign=top style='width:65.6pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>第三阶段</span></p>
  </td>
  <td width=118 valign=top style='width:88.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Kernel</span><span style='font-family:
  宋体'>（</span><span lang=EN-US>tftp</span><span style='font-family:宋体'>）</span></p>
  </td>
  <td width=76 valign=top style='width:2.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;color:#0070C0'>开发板</span></p>
  </td>
  <td width=96 valign=top style='width:71.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;color:#31849B'>宿主机</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>二十三、驱动</span><span lang=EN-US>LED </span><span
style='font-family:宋体'>——</span> <span style='font-family:宋体'>混杂设备</span></h1>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>资源</span></h2>

<p class=MsoNormal><span lang=EN-US><img border=0 width=554 height=241 id="图片 7"
src="embedded_linux_notes.files/image261.jpg"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GPB5</span><span
style='font-family:宋体'>、</span><span lang=EN-US>6</span><span style='font-family:
宋体'>、</span><span lang=EN-US>7</span><span style='font-family:宋体'>、</span><span
lang=EN-US>8</span><span style='font-family:宋体'>引脚功能选择：输出模式</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>外接低电平时，有效——</span><span lang=EN-US>LED</span><span
style='font-family:宋体'>灯亮，具体各引脚的功能和输入输出，参考芯片手册</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='color:red'>static unsigned long leds_table[] = { </span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; S3C2410_GPB(5),</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; S3C2410_GPB(6),</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; S3C2410_GPB(7),</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; S3C2410_GPB(8),</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='color:red'>};</span></p>

<h2><span lang=EN-US>2</span><span style='font-family:宋体'>．添加源文件到内核</span></h2>

<h3><span lang=EN-US>a.</span><span style='font-family:宋体'>修改对应的</span><span
lang=EN-US>Kconfig</span><span style='font-family:宋体'>文件，加入配置菜单项</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>位置：</span><span lang=EN-US style='color:#0070C0'>drivers/misc/Kconfig</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:red'>config <span style='background:yellow'>MICRO2440_LEDS</span></span></span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bool
“Micro2440 leds support”&nbsp; </span><span lang=EN-US style='color:#0070C0'>#</span><span
style='font-family:宋体;color:#0070C0'>菜单项名称</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; depends
on ARM&nbsp; </span><span lang=EN-US style='color:#0070C0'>&nbsp;#</span><span
style='font-family:宋体;color:#0070C0'>依赖于</span><span lang=EN-US
style='color:#0070C0'>ARM</span><span style='font-family:宋体;color:#0070C0'>驱动</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; default
y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>#</span><span style='font-family:宋体;
color:#0070C0'>默认编写到内核</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---help---&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span lang=EN-US style='color:#0070C0'>&nbsp;#</span><span
style='font-family:宋体;color:#0070C0'>帮助信息</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
Micro2440 leds drivers </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>b.</span><span style='font-family:宋体'>修改</span><span
lang=EN-US>Makefile</span><span style='font-family:宋体'>文件，加入源文件编译规则</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>位置：</span><span lang=EN-US style='color:#0070C0'>drivers/misc/Makefile</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><span
style='color:red'>obj-$(CONFIG_</span></b><span style='color:red;background:
yellow'>MICRO2440_LEDS</span><b><span style='color:red'>)&nbsp; +=</span></b><span
style='color:red'>&nbsp; micro2440_leds.o</span></span></p>

<h3><span lang=EN-US>c.</span><span style='font-family:宋体'>添加</span><span
lang=EN-US>micro2440_leds.c</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>位置：</span><span lang=EN-US style='color:#0070C0'>drivers/misc/micro2440_leds.c</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>一般驱动程序，必备语句</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#0070C0'>//</span></span><span style='font-family:宋体;color:#0070C0'>两个必须头文件</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #include
&lt;linux/kernel.h&gt; </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #include
&lt;linux/module.h&gt;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体;color:#0070C0'>返回值</span><span lang=EN-US
style='color:#0070C0'> int&nbsp; </span><span style='font-family:宋体;color:#0070C0'>无参数</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static
int __int micro2440_leds_init(void)</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printk(“xxxxxxxxxxx\n”);
</span><span lang=EN-US style='color:#0070C0'>//</span><span style='font-family:
宋体;color:#0070C0'>打印输出用法与</span><span lang=EN-US style='color:#0070C0'>printf</span><span
style='font-family:宋体;color:#0070C0'>一样</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
0;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>}</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#0070C0'>//</span><span style='font-family:宋体;color:#0070C0'>返回值</span><span
lang=EN-US style='color:#0070C0'> void </span><span style='font-family:宋体;
color:#0070C0'>无参数</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>static void __exit micro2440_leds_init(void)</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>{</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printk(xxxxxxxxxxx\n);</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>}</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#0070C0'>/* </span><span style='font-family:宋体;color:#0070C0'>宏定义</span><span
lang=EN-US style='color:#0070C0'>*/</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#0070C0'>// 1.</span><span style='font-family:宋体;color:#0070C0'>指定模块插入内核时的初始化函数（主要是获取一些资源及初始化）</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>module_init(<span style='background:yellow'>micro2440_init</span>);
&nbsp;</span><span lang=EN-US style='color:#0070C0'>&nbsp;//</span><span
style='font-family:宋体;color:#0070C0'>函数指针</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#0070C0'>// 2.</span><span style='font-family:宋体;color:#0070C0'>指定模块从内核移除或退出时，对一些资源的释放和还原</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>module_exit(<span style='background:yellow'>micro2440_exit</span>);</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#0070C0'>//</span><span style='font-family:宋体;color:#0070C0'>对该驱动的简单描述</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>MODULE_DESCRIPTION(“micro2440&nbsp; leds&nbsp; driver”);</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#0070C0'>//</span><span style='font-family:宋体;color:#0070C0'>作者信息</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>MODULE_AUTHOR(“shaowangquan@gmail.com”);</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#0070C0'>//</span><span style='font-family:宋体;color:#0070C0'>选择协议</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>MODULE_LICENSE(“GPL”);</span></p>

<h2><span lang=EN-US>3.</span><span style='font-family:宋体'>编写驱动程序</span></h2>

<h3><span lang=EN-US>1</span><span style='font-family:宋体'>）定义程序功能函数</span></h3>

<p class=MsoNormal><span style='font-family:宋体'>文件：</span><span lang=EN-US>&lt;linux/fs.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>结构体：</span><span lang=EN-US>file_operation</span><span
style='font-family:宋体'>——</span><span lang=EN-US>1482</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>struct
file_operations {</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
struct module *owner;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
loff_t (*llseek) (struct file *, loff_t, int);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
ssize_t (*read) (struct file *, char __user *, size_t, loff_t *);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
ssize_t (*write) (struct file *, const char __user *, size_t, loff_t *);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
ssize_t (*aio_read) (struct kiocb *, const struct iovec *, unsigned long,
loff_t);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
ssize_t (*aio_write) (struct kiocb *, const struct iovec *, unsigned long,
loff_t);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
int (*readdir) (struct file *, void *, filldir_t);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
unsigned int (*poll) (struct file *, struct poll_table_struct *);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
int (*ioctl) (struct inode *, struct file *, unsigned int, unsigned long);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
long (*unlocked_ioctl) (struct file *, unsigned int, unsigned long);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
long (*compat_ioctl) (struct file *, unsigned int, unsigned long);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
int (*mmap) (struct file *, struct vm_area_struct *);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
int (*open) (struct inode *, struct file *);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
int (*flush) (struct file *, fl_owner_t id); </span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
int (*release) (struct inode *, struct file *);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
int (*fsync) (struct file *, struct dentry *, int datasync);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
int (*aio_fsync) (struct kiocb *, int datasync);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
int (*fasync) (int, struct file *, int);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
int (*lock) (struct file *, int, struct file_lock *);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;
ssize_t (*sendpage) (struct file *, struct page *, int, size_t, loff_t *, int);</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>定义五个函数：</span><span lang=EN-US>read</span><span
style='font-family:宋体'>、</span><span lang=EN-US>write</span><span
style='font-family:宋体'>、</span><span lang=EN-US>open</span><span
style='font-family:宋体'>、</span><span lang=EN-US>close</span><span
style='font-family:宋体'>、</span><span lang=EN-US>ioctl</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static int
micro2440_leds_ioctl(struct inode *, struct file *, </span></p>

<p class=MsoNormal style='margin-left:168.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:red'>unsigned int, unsigned long);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static int
micro2440_leds_release(struct inode *, struct file *); </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static int
micro2440_leds_open(struct inode *, struct file *); </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static ssize_t
micro2440_leds_read(struct file *, char __user *, size_t, loff_t *); </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static ssize_t
micro2440_leds_write(struct file *, const char __user *, size_t, loff_t *);</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>声明</span><span lang=EN-US>file_operation</span><span
style='font-family:宋体'>结构体变量</span></p>

<p class=MsoListParagraph style='margin-left:43.5pt;text-indent:0cm'><span
style='font-family:宋体'>注：使用结构体变量时，若不加修改可用</span><span lang=EN-US>const</span><span
style='font-family:宋体'>修饰</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static const struct
file_operations micro2440_leds_fops = { </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .owner
= <span style='background:yellow'>THIS_MODULE,</span> </span><span lang=EN-US
style='color:#0070C0'>//</span><span style='font-family:宋体;color:#0070C0'>若该设备存在父设备，将写父设备模块驱动名</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .ioctl
= micro2440_leds_ioctl,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.release = micro2440_leds_release,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .open
= micro2440_leds_open,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .read
= micro2440_leds_read,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .write
= micro2440_leds_write,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>};</span></p>

<h3><span lang=EN-US>2</span><span style='font-family:宋体'>）将该设备添加混杂设备中</span></h3>

<p class=MsoNormal><span style='font-family:宋体'>文件：</span><span lang=EN-US>&lt;linux/miscdevice.h&gt;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>结构体：</span><span lang=EN-US>miscdevice
</span><span style='font-family:宋体'>——</span><span lang=EN-US> 37</span></p>

<p class=MsoNormal style='text-indent:12.0pt'><span lang=EN-US
style='color:#00B050'>#define <span style='background:yellow'>MISC_DYNAMIC_MINOR</span>&nbsp;
255</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>struct miscdevice&nbsp; {</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>&nbsp;&nbsp;&nbsp; int minor;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体;color:#00B050'>次设备号</span><span lang=EN-US
style='color:#00B050'>&nbsp; </span><span style='font-family:宋体;color:#00B050'>主设备号</span><span
lang=EN-US style='color:#00B050'> major</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>&nbsp;&nbsp;&nbsp; const char *name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体;color:#00B050'>设备名</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>&nbsp;&nbsp;&nbsp; const struct file_operations *fops;</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>&nbsp;&nbsp;&nbsp; struct list_head list;</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>&nbsp;&nbsp;&nbsp; struct device *parent;</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>&nbsp;&nbsp;&nbsp; struct device *this_device;</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>&nbsp;&nbsp;&nbsp; const char *nodename;</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>&nbsp;&nbsp;&nbsp; mode_t mode;</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>};</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:#00B050'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:red'>static struct miscdevice micro2440_leds_miscdevice = {</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; .minor = <span style='background:yellow'>MISC_DYNAMIC_MINOR,</span></span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; .name = MICRO2440_LEDS_NAME,</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; .fops = &amp;micro2440_leds_fops,</span></p>

<p class=MsoNormal style='margin-left:12.0pt'><span lang=EN-US
style='color:red'>};</span></p>

<h3><span lang=EN-US>3</span><span style='font-family:宋体'>）注册混杂设备</span></h3>

<p class=MsoNormal><span lang=EN-US style='color:red'>static int __init
micro2440_leds_init(void)</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>{</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; int
ret;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; ret = <span
style='background:yellow'>misc_register(&amp;micro2440_leds_miscdevice);</span>&nbsp;
</span><span lang=EN-US style='color:#0070C0'>//</span><span style='font-family:
宋体;color:#0070C0'>注册设备</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
printk(&quot;\n\n\nMicro2440 \&quot;leds\&quot; driver loaded
success\n\n&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; if(ret
&lt; 0)</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
{&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
printk(&quot;\n\n\nMicro2440 \&quot;leds\&quot; driver loaded fail\n\n&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
}&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; return
0;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>}</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static void __exit
micro2440_leds_exit(void)</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>{</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; int
ret;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; ret
=&nbsp; <span style='background:yellow'>misc_deregister(&amp;micro2440_leds_miscdevice);</span>&nbsp;
</span><span lang=EN-US style='color:#0070C0'>//</span><span style='font-family:
宋体;color:#0070C0'>解除设备</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; if(ret
&lt; 0)</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
{&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
printk(&quot;\n\n\nMicro2440 \&quot;leds\&quot; driver deregister fail &quot;);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
}&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>}</span></p>

<p class=MsoNormal><span style='font-family:宋体'>注：</span><span lang=EN-US>misc_register()</span><span
style='font-family:宋体'>和</span><span lang=EN-US>misc_deregister()</span><span
style='font-family:宋体'>函数</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>返回值：大于等于</span><span lang=EN-US>0 </span><span
style='font-family:宋体'>——</span> <span style='font-family:宋体'>成功</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
style='font-family:宋体'>小于</span><span lang=EN-US>0 </span><span
style='font-family:宋体'>——</span> <span style='font-family:宋体'>失败</span></p>

<h3><span lang=EN-US>4</span><span style='font-family:宋体'>）功能实现</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>详细代码：</span><span lang=EN-US style='color:#00B0F0'>drivers/misc/micro2440_leds.c</span></p>

<h3><span lang=EN-US>5</span><span style='font-family:宋体'>）</span><span
lang=EN-US>GPIO</span><span style='font-family:宋体'>引脚操作</span></h3>

<p class=MsoNormal><span lang=EN-US>GPIO</span><span style='font-family:宋体'>引脚值宏定义：</span><span
lang=EN-US style='color:#00B0F0'>arch/arm/mach-s3c2410/include/mach/regs-gpio.h</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US
style='color:#00B050'>#define S3C2410_GPB5_nXBACK&nbsp; (0x02 &lt;&lt; 10)</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US
style='color:#00B050'>#define S3C2443_GPB5_XBACK&nbsp;&nbsp; (0x03 &lt;&lt; 10)</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US
style='color:#00B050'>#define S3C2400_GPB5_DATA21&nbsp; (0x02 &lt;&lt; 10)</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US
style='color:#00B050'>#define S3C2400_GPB5_nCTS1&nbsp;&nbsp; (0x03 &lt;&lt; 10)</span></p>

<p class=MsoNormal><span style='font-family:宋体'>应用：</span><span lang=EN-US
style='color:red'>S3C2410_GPB(5),</span></p>

<p class=MsoNormal><span style='font-family:宋体'>操作：</span><span lang=EN-US
style='color:#00B0F0'>arch/arm/mach-s3c2410/include/mach/gpio-fns.h</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>设置引脚电平值</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>/* s3c2410_gpio_getpull</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;* Read the state of the pull-up on a
given pin</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;* return:</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*&nbsp; &lt; 0 =&gt; error code</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*&nbsp;&nbsp;&nbsp; 0 =&gt; enabled</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*&nbsp;&nbsp;&nbsp; 1 =&gt; disabled</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:#0070C0'>*/</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:red'>extern void s3c2410_gpio_setpin(unsigned int pin,
unsigned int to);</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style='color:#0070C0'>&nbsp;&nbsp;</span></span><span style='font-family:
宋体;color:#0070C0'>引脚值</span><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体;color:#0070C0'>电平值</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>获取引脚电平值</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>extern unsigned int s3c2410_gpio_getpin(unsigned int pin);</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>设置</span><span lang=EN-US>GPIO</span><span
style='font-family:宋体'>引脚功能</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>/* s3c2410_gpio_cfgpin</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;* set the configuration of the given pin
to the value passed.</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;* eg:</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;* s3c2410_gpio_cfgpin(S3C2410_GPA(0), </span></p>

<p class=MsoListParagraph style='margin-left:165.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>S3C2410_GPA0_ADDR0);</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;* s3c2410_gpio_cfgpin(S3C2410_GPE(8),</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S3C2410_GPE8_SDDAT1);</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:#0070C0'>*/</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>extern void s3c2410_gpio_cfgpin(unsigned int pin,
unsigned int function);</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>获取当前</span><span lang=EN-US>GPIO</span><span
style='font-family:宋体'>引脚功能</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:red'>&nbsp;extern unsigned int
s3c2410_gpio_getcfg(unsigned int pin);</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>引脚上拉</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>/* s3c2410_gpio_pullup</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;* configure the pull-up control on the
given pin</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;* to = 1 =&gt; disable the pull-up</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 =&gt;
enable the pull-up</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;* eg;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*&nbsp;&nbsp;
s3c2410_gpio_pullup(S3C2410_GPB(0), 0);</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;*&nbsp;&nbsp;
s3c2410_gpio_pullup(S3C2410_GPE(8), 0);</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:#0070C0'>*/</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>extern void s3c2410_gpio_pullup(unsigned int pin, unsigned
int to);</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<h3><span lang=EN-US>6</span><span style='font-family:宋体'>）空间转换——用户空间</span><span
lang=EN-US> | </span><span style='font-family:宋体'>内核空间</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>用户空间与内核空间数据，暂说不明白<span style='background:red'>？？？</span></span>
</p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=4 height=9></td>
 </tr>
 <tr>
  <td></td>
  <td width=284 height=261 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:415'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>Application</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:417;left:0px;
margin-left:106px;margin-top:0px;width:182px;height:59px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=182 height=59 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:417'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal style='text-indent:36.0pt'><span lang=EN-US>C library</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; User
space </span><span style='font-family:宋体'>（用户模式）</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=4 height=7></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=384 height=216 src="embedded_linux_notes.files/image092.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span style='position:absolute;z-index:430;left:0px;
margin-left:261px;margin-top:14px;width:47px;height:35px'><img width=47
height=35 src="embedded_linux_notes.files/image093.png"></span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>虚拟文件系统</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=16 height=6></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=257 height=41 src="embedded_linux_notes.files/image094.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kernel
space </span><span style='font-family:宋体'>（内核模式）</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:431;left:0px;
margin-left:261px;margin-top:12px;width:46px;height:21px'><img width=46
height=21 src="embedded_linux_notes.files/image095.png"></span><span
style='position:absolute;z-index:424;left:0px;margin-left:201px;margin-top:
17px;width:66px;height:35px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=35 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:424'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>drive</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:423;left:0px;margin-left:81px;
margin-top:17px;width:66px;height:35px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=35 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:423'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>drive</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:422;left:0px;margin-left:16px;
margin-top:17px;width:66px;height:35px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=35 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:422'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>drive</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>驱动</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='position:absolute;z-index:432;left:0px;
margin-left:261px;margin-top:6px;width:46px;height:22px'><img width=46
height=22 src="embedded_linux_notes.files/image096.png"></span><span
style='position:absolute;z-index:425;left:0px;margin-left:16px;margin-top:11px;
width:66px;height:36px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=36 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:425'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>device</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:426;left:0px;margin-left:81px;
margin-top:11px;width:66px;height:36px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=36 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:426'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>device</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span style='position:absolute;z-index:427;left:0px;margin-left:201px;
margin-top:11px;width:66px;height:36px'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=66 height=36 bgcolor=white style='border:.75pt solid black;
  vertical-align:top;background:white'><span style='position:absolute;
  left:0pt;z-index:427'>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div style='padding:4.35pt 7.95pt 4.35pt 7.95pt'>
    <p class=MsoNormal><span lang=EN-US>device</span></p>
    <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  </span>&nbsp;</td>
 </tr>
</table>

</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>设备</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=267 height=14></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=57 height=23 src="embedded_linux_notes.files/image097.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Hardware
platform[</span><span style='font-family:宋体'>硬件平台</span><span lang=EN-US>]</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>函数：</span><span lang=EN-US
style='color:#00B0F0'>include/linux/uaccess.h</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>内核空间到用户空间</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>copy_to_user(char __user* to, const char *from, size_t len)</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>用户空间到内核空间</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>copy_from_user(char *to, const char __user* from, size_t len)</span></p>

<h3><span lang=EN-US>7) ioctl</span><span style='font-family:宋体'>操作命令控制</span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>LED</span><span
style='font-family:宋体'>驱动中的</span><span lang=EN-US>ioctl</span><span
style='font-family:宋体'>控制命令：</span><span lang=EN-US style='color:#00B0F0'>include/linux/micro2440_leds.h</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
style='font-family:宋体'>参考：</span><span lang=EN-US style='color:#00B0F0'>include/asm-generic/ioctl.h</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=EN-US>ioctl</span><span style='font-family:宋体'>设置</span></p>

<p class=MsoListParagraph style='margin-left:57.3pt;text-indent:-36.0pt'><span
lang=EN-US style='color:#00B0F0'>i、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>幻数：</span><span lang=EN-US
style='color:#00B0F0'>Documentation/ioctl/ioctl-number.txt</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B050'>Code&nbsp;&nbsp;&nbsp; Seq#&nbsp;&nbsp;&nbsp;
Include File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Comments</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B050'>=================================================</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B050'>0x00&nbsp;&nbsp;&nbsp; 00-1F&nbsp;&nbsp;
linux/fs.h&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; conflict!</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:#00B050'>0x00&nbsp;&nbsp;&nbsp; 00-1F&nbsp;&nbsp;
scsi/scsi_ioctl.h&nbsp;&nbsp; conflict!</span></p>

<p class=MsoListParagraph style='margin-left:39.6pt;text-indent:5.7pt'><span
lang=EN-US style='color:#00B050'>0x00&nbsp;&nbsp;&nbsp; 00-1F&nbsp;&nbsp;
linux/fb.h&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; conflict!</span></p>

<p class=MsoListParagraph style='margin-left:39.6pt;text-indent:5.7pt'><span
lang=EN-US style='color:#00B050'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.25pt;text-indent:21.0pt'><span
lang=EN-US style='color:#00B050;background:aqua'>0xF5 </span><span lang=EN-US
style='color:#00B050;background:yellow'>&nbsp;&nbsp;&nbsp;00-0F&nbsp;&nbsp;
linux/micro2440_leds.h&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leds</span></p>

<p class=MsoListParagraph style='margin-left:39.6pt;text-indent:5.7pt'><span
lang=EN-US style='color:#00B050;background:yellow'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;mailto:shaowangquan@gmail&gt;</span><span lang=EN-US style='color:#00B050'>
</span></p>

<p class=MsoListParagraph style='margin-left:39.6pt;text-indent:5.7pt'><span
lang=EN-US style='color:#0070C0'>Type&nbsp; </span><span style='font-family:
宋体;color:#0070C0'>命令数范围</span><span lang=EN-US style='color:#0070C0'>&nbsp; </span><span
style='font-family:宋体;color:#0070C0'>作用范围</span></p>

<p class=MsoListParagraph style='margin-left:57.3pt;text-indent:-36.0pt'><span
lang=EN-US>ii、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>控制命令</span></p>

<p class=MsoListParagraph style='margin-left:57.3pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:45.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>_IO&nbsp;&nbsp;&nbsp; an ioctl with no
parameters</span></p>

<p class=MsoListParagraph style='margin-left:45.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>_IOW&nbsp;&nbsp; an ioctl with write
parameters (copy_from_user)</span></p>

<p class=MsoListParagraph style='margin-left:45.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>_IOR&nbsp;&nbsp; an ioctl with read
parameters&nbsp; (copy_to_user)</span></p>

<p class=MsoListParagraph style='margin-left:45.25pt;text-indent:0cm'><span
lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp; _IOWR&nbsp; an ioctl with
both write and read parameters.</span></p>

<p class=MsoListParagraph style='margin-left:57.3pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>#define LEDS_IOCTL_TYPE &nbsp;<span
style='background:aqua'>0xF5</span></span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>//none data</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>#define LEDS_ALL_ON&nbsp;&nbsp;&nbsp;
_IO(LEDS_IOCTL_TYPE, 0)</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>#define LEDS_ALL_OFF&nbsp;&nbsp; _IO(LEDS_IOCTL_TYPE,
1)</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>#define LEDS_ALL_CHA&nbsp;&nbsp;
_IO(LEDS_IOCTL_TYPE, <span style='background:teal'>2</span>)</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>//</span><span style='font-family:宋体;
color:#0070C0'>在</span><span lang=EN-US style='color:#0070C0'>seq</span><span
style='font-family:宋体;color:#0070C0'>范围内的任意数</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>//write data</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>#define LEDS_SET_ONE&nbsp;&nbsp;
_IOW(LEDS_IOCTL_TYPE, 3,</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct
leds_stat)</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>//read data</span></p>

<p class=MsoListParagraph style='margin-left:21.25pt;text-indent:20.75pt'><span
lang=EN-US style='color:red'>#define LEDS_GET_ONE&nbsp;&nbsp;
_IOWR(LEDS_IOCTL_TYPE, 4, </span></p>

<p class=MsoListParagraph style='margin-left:252.1pt;text-indent:20.9pt'><span
lang=EN-US style='color:red'>struct leds_stat)</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体;color:#0070C0'>数据类型</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体;color:black'>注</span></b><span style='font-family:宋体'>：</span><i><span
lang=EN-US>ioctl</span></i><i><span style='font-family:宋体'>第三参数为命令参数的内存地址</span></i></p>

<h2><span style='font-family:宋体'>附：</span></h2>

<h3><span style='font-family:宋体'>编写驱动流程</span></h3>

<p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:宋体'>）判断设备类型，选择合适的驱动程序方式</span></p>

<p class=MsoNormal><span lang=EN-US>2</span><span style='font-family:宋体'>）添加驱动程序文件到内核（测试是否成功）</span></p>

<p class=MsoNormal><span lang=EN-US>3</span><span style='font-family:宋体'>）编写驱动模块的主体结构</span></p>

<p class=MsoNormal><span lang=EN-US>4</span><span style='font-family:宋体'>）针对所需外设编写驱动</span></p>

<h3><span style='font-family:宋体'>编写驱动的一般原则：</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>通常一般我们编写字符设备，存储块设备驱动使用操作系统现成的，在编写过程中应注意：</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>1）</span><span style='font-family:宋体'>内核污染</span> <span
style='font-family:宋体'>（变量、函数多使用</span><span lang=EN-US>static</span><span
style='font-family:宋体'>修饰）</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>2）</span><span style='font-family:宋体'>内存资源</span> <span
style='font-family:宋体'>（内核常驻内存，应合理使用内存）</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>3）</span><span style='font-family:宋体'>执行效率</span></p>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US>4）</span><span style='font-family:宋体'>代码可移植性</span></p>

<h3><span style='font-family:宋体'>驱动的分类</span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>按设备分为：字符设备、块设备</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>按驱动程序分：混杂设备驱动、总线设备驱动</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>混杂设备：</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>位置：</span><span lang=EN-US>drivers/misc</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;background:yellow'>主设备号都为</span><span lang=EN-US
style='background:yellow'>10</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>二十四、驱动按键——</span> <span style='font-family:
宋体'>字符设备</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>以</span><span class=1Char><span style='font-size:16.0pt;
font-family:宋体'>总线设备</span></span><span style='font-family:宋体'>的方式，编写驱动程序</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B050'>drivers/char/micro2440_buttons.c</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>主要步骤：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>创建总线设备</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>注册设备</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>——</span><span lang=EN-US>&nbsp; </span><span
style='font-family:宋体'>将设备挂在总线上</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>A.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>使用该方式编写驱动的好处<span style='background:
red'>？？？</span></span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>B.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体'>在什么情况下可以使用总线设备方式编写驱动<span
style='background:red'>？？？</span></span></p>

<p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt'><span
lang=EN-US>C.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>1</span><span style='font-family:宋体'>．</span><span
lang=EN-US>__init</span><span style='font-family:宋体'>——初始化</span></h2>

<h3><span lang=EN-US>1) </span><span style='font-family:宋体'>创建总线</span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#00B0F0'>#include &lt;linux/device.h&gt;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>static struct class *buttons_class;</span><span lang=EN-US
style='color:#0070C0'> //</span><span style='font-family:宋体;color:#0070C0'>声明一总线指针</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#0070C0'>//</span><span style='font-family:宋体;color:#0070C0'>创建一总线设备</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>buttons_class = class_create(THIS_MODULE,
MICRO2440_CLASS_NAME);</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>2</span><span style='font-family:宋体'>）向内核注册字符设备</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>#include &lt;linux/fs.h&gt;</span></span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>static int buttons_major;&nbsp; </span><span lang=EN-US
style='color:#0070C0'>//</span><span style='font-family:宋体;color:#0070C0'>主设备号</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //0</span><span
style='font-family:宋体;color:#0070C0'>——系统自动分配主设备号</span></p>

<p class=MsoNormal style='margin-left:222.0pt;text-indent:-198.0pt'><span
lang=EN-US style='color:red'>buttons_major = register_chrdev(0, &quot;MICRO2440_DEVICE_NAME&quot;,
&amp;micro2440_buttons_fops);</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>if(buttons_major &lt; 0)</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>{</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class_destroy(buttons_class);</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printk(&quot;\nRegister
device &quot;MICRO2440_DEVICE_NAME&quot; Error\n&quot;);</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>}</span></p>

<h3><span lang=EN-US>3)</span><span style='font-family:宋体'>将设备挂载到总线上</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#0070C0'>//</span></span><span style='font-family:宋体;color:#0070C0'>设置<span
style='background:yellow'>子设备号</span>，</span><span lang=EN-US style='color:
#0070C0'>0~255</span><span style='font-family:宋体;color:#0070C0'>之间的任意数</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>buttons_major = MKDEV(buttons_major, 0);</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; device_create(buttons_class,
NULL, buttons_major, </span></p>

<p class=MsoNormal style='margin-left:84.0pt'><span lang=EN-US
style='color:red'>NULL, MICRO2440_DEVICE_NAME);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体;background:yellow'>多个同类设备时，可使用</span><span lang=EN-US
style='background:yellow'>for</span><span style='font-family:宋体;background:
yellow'>循环连续挂载</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:red'>for(i = 0; i &lt; 10; i++)</span></span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buttons_major
= MKDEV(buttons_major, i);</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; device_create(buttons_class,
NULL, buttons_major, </span></p>

<p class=MsoNormal style='margin-left:105.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:red'>NULL, “buttons%02d”, i);</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:red'>}</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>__exit</span><span style='font-family:宋体'>——结束</span></h2>

<h3><span lang=EN-US>1</span><span style='font-family:宋体'>）解除字符设备注册</span></h3>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:18.0pt'><span
lang=EN-US style='color:red'>device_destroy(buttons_class, buttons_major);</span></p>

<h3><span lang=EN-US>2</span><span style='font-family:宋体'>）消除设备（解除设备与总线的挂载关联）</span></h3>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:18.0pt'><span
lang=EN-US style='color:red'>unregister_chrdev(buttons_major,
MICRO2440_DEVICE_NAME);</span></p>

<h3><span lang=EN-US>3</span><span style='font-family:宋体'>）消除总线</span></h3>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:18.0pt'><span
lang=EN-US style='color:red'>class_destroy(buttons_class);</span></p>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:18.0pt'><span
lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printk(&quot;\n
&quot;MICRO2440_DEVICE_NAME&quot; device unregister successed\n&quot;);</span></span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>按键驱动</span></h2>

<h3><span lang=EN-US>1</span><span style='font-family:宋体'>）资源</span></h3>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection23 style='layout-grid:15.6pt'>

<p class=MsoNormal><span lang=EN-US><img border=0 width=282 height=188
src="embedded_linux_notes.files/image262.jpg"><img border=0 width=266
height=195 id="图片 4" src="embedded_linux_notes.files/image263.png"></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:auto'>
</span>

<div class=WordSection24 style='layout-grid:15.6pt'>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#0070C0'>EINT8&nbsp;&nbsp; </span><span style='font-family:宋体;
color:#0070C0'>——</span><span lang=EN-US style='color:#0070C0'>&nbsp;
GPIO0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
EINT14&nbsp; </span><span style='font-family:宋体;color:#0070C0'>——</span><span
lang=EN-US style='color:#0070C0'>&nbsp; GPIO6</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#0070C0'>EINT11&nbsp; </span><span style='font-family:宋体;
color:#0070C0'>——</span><span lang=EN-US style='color:#0070C0'>&nbsp;
GPIO3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
EINT15&nbsp; </span><span style='font-family:宋体;color:#0070C0'>——</span><span
lang=EN-US style='color:#0070C0'>&nbsp; GPIO7</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#0070C0'>EINT13&nbsp; </span><span style='font-family:宋体;
color:#0070C0'>——</span><span lang=EN-US style='color:#0070C0'>&nbsp;
GPIO5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
EINT19&nbsp; </span><span style='font-family:宋体;color:#0070C0'>——</span><span
lang=EN-US style='color:#0070C0'>&nbsp; GPIO11</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#0070C0'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><b><span style='font-size:14.0pt;
font-family:宋体'>资源表：</span></b></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=556
 style='width:416.9pt;margin-left:18.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=75 valign=top style='width:56.3pt;border-top:black;border-left:
  black;border-bottom:windowtext;border-right:windowtext;border-style:solid;
  border-width:1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>名称</span></p>
  </td>
  <td width=154 valign=top style='width:115.4pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>gpio</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>irq</span><span
  style='font-family:宋体'>（中断号）</span></p>
  </td>
  <td width=138 valign=top style='width:103.45pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>value</span></p>
  </td>
 </tr>
 <tr>
  <td width=75 valign=top style='width:56.3pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>宏定义</span></p>
  </td>
  <td width=154 valign=top style='width:115.4pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>S3C2410_GPG(0)</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>IRQ_EINT8</span></p>
  </td>
  <td width=138 valign=top style='width:103.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>‘A’</span></p>
  </td>
 </tr>
 <tr>
  <td width=75 valign=top style='width:56.3pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体'>类型</span></p>
  </td>
  <td width=154 valign=top style='width:115.4pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>unsigned
  long</span></p>
  </td>
  <td width=189 valign=top style='width:5.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>unsigned
  long</span></p>
  </td>
  <td width=138 valign=top style='width:103.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US>unsigned
  char</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:18.0pt'><b><span style='font-size:14.0pt;
font-family:宋体'>定义资源结构体数组：</span></b></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static struct buttons_resources {</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; unsigned long gpio;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; unsigned long irq;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; unsigned char value;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>}buttons_table[] = { </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; { S3C2410_GPG(0),&nbsp;
S3C2410_GPG0_EINT8,&nbsp; 'A' },</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; { S3C2410_GPG(3),&nbsp;
S3C2410_GPG3_EINT11, 'B' },</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; { S3C2410_GPG(5),&nbsp;
S3C2410_GPG5_EINT13, 'C' },</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; { S3C2410_GPG(6),&nbsp;
S3C2410_GPG6_EINT14, 'D' },</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; { S3C2410_GPG(7),&nbsp;
S3C2410_GPG7_EINT15, 'E' },</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp; { S3C2410_GPG(11), S3C2410_GPG11_EINT19,
'F' },</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>};</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>2</span><span style='font-family:宋体'>）功能</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static unsigned char key_value;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static ssize_t micro2440_buttons_<span style='background:
yellow'>read</span> (struct file *, </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char
__user *, size_t, loff_t *);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static int micro2440_buttons_<span style='background:yellow'>open</span>
(struct inode *, struct file *);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static int micro2440_buttons_<span style='background:yellow'>release</span>
(struct inode *, struct file *);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static unsigned int micro2440_buttons_<span style='background:
yellow'>poll</span>(struct file *, </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct
poll_table_struct *);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static const struct file_operations fops = {</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .owner = THIS_MODULE,</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .read&nbsp; =
micro2440_buttons_read,</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .open&nbsp; =
micro2440_buttons_open,</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .release =
micro2440_buttons_release,</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .poll&nbsp; =
micro2440_buttons_poll,</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>};</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>3</span><span style='font-family:宋体'>）实现</span></h3>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#0070C0'>//</span><span style='font-family:宋体;color:#0070C0'>用于实现<span
style='background:#D9D9D9'>阻塞</span>的链表头</span><span lang=EN-US
style='color:#0070C0'>,</span><span style='font-family:宋体;color:#0070C0'>声明语句</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static DECLARE_WAIT_QUEUE_HEAD(micro2440_buttons_wait);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#0070C0'>//</span><span style='font-family:宋体;color:#0070C0'>阻塞作用<span
style='background:red'>？？？</span></span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static unsigned int micro2440_buttons_poll(struct file *
file, </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct
poll_table_struct *wait)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>{</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(key_value != 0)
return 1;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>//</span><span style='font-family:宋体;
color:#0070C0'>如果没有数据</span><span lang=EN-US style='color:#0070C0'>,</span><span
style='font-family:宋体;color:#0070C0'>进入阻塞状态</span><span lang=EN-US
style='color:#0070C0'>,</span><span style='font-family:宋体;color:#0070C0'>直到被唤醒为止</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; poll_wait(file,
&amp;micro2440_buttons_wait, wait);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>}</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#0070C0'>//</span><span style='font-family:宋体;color:#0070C0'>中断服务函数，当产生中断时会被内核自动调用</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#0070C0'>//irq_num</span><span style='font-family:宋体;color:#0070C0'>中断号</span><span
lang=EN-US style='color:#0070C0'>,dev_id</span><span style='font-family:宋体;
color:#0070C0'>中断参数，由用户在申请中断时自定义</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static irqreturn_t micro2440_buttons_interrupt(int irq_num,
void *dev_id)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>{</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const struct
buttons_resources *presource = </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (struct
buttons_resources *)dev_id;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; key_value =
presource-&gt;key;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(s3c2410_gpio_getpin(presource-&gt;gpio))</span><span
lang=EN-US style='color:#0070C0'>//</span><span style='font-family:宋体;
color:#0070C0'>释放为真</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; key_value
|= 0x80;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>//</span><span style='font-family:宋体;
color:#0070C0'>唤醒阻塞</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wake_up_interruptible(&amp;micro2440_buttons_wait);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>}</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static ssize_t micro2440_buttons_read (struct file * file, </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char
__user * buf, size_t len, loff_t * off)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>{</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(len &lt;
sizeof(key_value)) return -1;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(0 == key_value)
return 0;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; copy_to_user(buf,
&amp;key_value, sizeof(key_value));</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; key_value = 0;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
sizeof(key_value);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>}</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static int micro2440_buttons_open (struct inode * inode,
struct file * file)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>{</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>//</span><span style='font-family:宋体;
color:#0070C0'>申请中断</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int i;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i = 0; i &lt;
ARRAY_SIZE(buttons_table); i++)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s3c2410_gpio_pullup(buttons_table[i].gpio,
1);/</span><span lang=EN-US style='color:#0070C0'>/</span><span
style='font-family:宋体;color:#0070C0'>禁止中断引脚上拉<span style='background:red'>？</span></span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>//</span><span style='font-family:宋体;
color:#0070C0'>向内核申请中断，申请失败时返回非</span><span lang=EN-US style='color:#0070C0'>0</span><span
style='font-family:宋体;color:#0070C0'>值</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体;color:#0070C0'>参数分别为</span><span lang=EN-US
style='color:#0070C0'>(</span><span style='font-family:宋体;color:#0070C0'>中断号</span><span
lang=EN-US style='color:#0070C0'>, </span><span style='font-family:宋体;
color:#0070C0'>中断服务函数的指针</span><span lang=EN-US style='color:#0070C0'>, </span><span
style='font-family:宋体;color:#0070C0'>中断边沿选择</span><span lang=EN-US
style='color:#0070C0'>,</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体;color:#0070C0'>共用中断指针</span><span
lang=EN-US style='color:#0070C0'>, </span><span style='font-family:宋体;
color:#0070C0'>中断时为中断服务函数传递的参数</span><span lang=EN-US style='color:#0070C0'>)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(request_irq(buttons_table[i].irq,
micro2440_buttons_interrupt, </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IRQ_TYPE_EDGE_BOTH,
NULL, <span style='background:yellow'>(void*)(buttons_table + i)</span>))</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(i &lt;
ARRAY_SIZE(buttons_table))&nbsp;&nbsp;&nbsp; </span><span lang=EN-US
style='color:#0070C0'>//</span><span style='font-family:宋体;color:#0070C0'>有个别的中断没有申请成功</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i--;
i &gt;= 0; i--)</span><span lang=EN-US style='color:#0070C0'>//</span><span
style='font-family:宋体;color:#0070C0'>将已经成功申请到的中断释放</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disable_irq(buttons_table[i].irq);</span><span
lang=EN-US style='color:#0070C0'>//</span><span style='font-family:宋体;
color:#0070C0'>屏蔽中断</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span
style='font-family:宋体;color:#0070C0'>中断号</span><span lang=EN-US
style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体;color:#0070C0'>中断参数</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; free_irq(buttons_table[i].irq,
buttons_table + i);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
-EBUSY;</span><span lang=EN-US style='color:#0070C0'>//</span><span
style='font-family:宋体;color:#0070C0'>设备忙的出错号</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; key_value = 0;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>}</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>static int micro2440_buttons_release (struct inode * inode,
struct file * file)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>{</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int i;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i = 0; i &gt;=
ARRAY_SIZE(buttons_table); i++)</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disable_irq(buttons_table[i].irq);/</span><span
lang=EN-US style='color:#0070C0'>/</span><span style='font-family:宋体;
color:#0070C0'>屏蔽中断</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>//</span><span style='font-family:宋体;
color:#0070C0'>中断号</span><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-family:宋体;color:#0070C0'>中断参数</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; free_irq(buttons_table[i].irq,
buttons_table + i);</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>}</span></p>

<h3><span lang=EN-US>4</span><span style='font-family:宋体'>）中断操作</span></h3>

<h4><span lang=EN-US>a.</span><span style='font-family:宋体'>申请中断</span></h4>

<p class=MsoNormal><span style='font-family:宋体'>？</span></p>

<h4><span lang=EN-US>b.</span><span style='font-family:宋体'>中断服务</span></h4>

<p class=MsoNormal><span style='font-family:宋体'>？</span></p>

<h3><span lang=EN-US>5</span><span style='font-family:宋体'>）测试报错处理</span></h3>

<p class=MsoNormal><span lang=EN-US>------------[ cut here
]------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>WARNING: at kernel/irq/manage.c:858
__free_irq+0x80/0x15c()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US>Trying to free already-free IRQ
2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US>Modules linked
in:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US>[&lt;c002e9c0&gt;]
(unwind_backtrace+0x0/0xd8) from [&lt;c003c0b0&gt;] (warn_slowpath_co)</span></p>

<p class=MsoNormal><span lang=EN-US>[&lt;c003c0b0&gt;]
(warn_slowpath_common+0x44/0x5c) from [&lt;c003c100&gt;] (warn_slowpa)</span></p>

<p class=MsoNormal><span lang=EN-US>[&lt;c003c100&gt;]
(warn_slowpath_fmt+0x24/0x30) from [&lt;c0061f3c&gt;] (__free_irq+0x8)</span></p>

<p class=MsoNormal><span lang=EN-US>[&lt;c0061f3c&gt;] (__free_irq+0x80/0x15c)
from [&lt;c0062054&gt;] (free_irq+0x3c/0x60)&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>[&lt;c0062054&gt;] (free_irq+0x3c/0x60)
from [&lt;c01a2844&gt;] (micro2440_buttons_open+)</span></p>

<p class=MsoNormal><span lang=EN-US>[&lt;c01a2844&gt;]
(micro2440_buttons_open+0x84/0xa0) from [&lt;c00905a4&gt;] (chrdev_op)</span></p>

<p class=MsoNormal><span lang=EN-US>[&lt;c00905a4&gt;]
(chrdev_open+0x130/0x14c) from [&lt;c008c2e0&gt;] (__dentry_open+0x14)</span></p>

<p class=MsoNormal><span lang=EN-US>[&lt;c008c2e0&gt;]
(__dentry_open+0x14c/0x25c) from [&lt;c008c4b8&gt;] (nameidata_to_fil)</span></p>

<p class=MsoNormal><span lang=EN-US>[&lt;c008c4b8&gt;]
(nameidata_to_filp+0x44/0x58) from [&lt;c009864c&gt;] (do_filp_open+0)</span></p>

<p class=MsoNormal><span lang=EN-US>[&lt;c009864c&gt;]
(do_filp_open+0x434/0x814) from [&lt;c008c07c&gt;] (do_sys_open+0x58/)</span></p>

<p class=MsoNormal><span lang=EN-US>[&lt;c008c07c&gt;] (do_sys_open+0x58/0x144)
from [&lt;c0029ea0&gt;] (ret_fast_syscall+0x)</span></p>

<p class=MsoNormal><span lang=EN-US>---[ end trace 28725850d5ed94d9
]---&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US>Open Device: /dev/buttons: Device or
resource
busy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US>xxxxxxxxxxxxxxxxxxx-------&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>原因</span></b><span
style='font-family:宋体'>：在</span><span lang=EN-US>open</span><span
style='font-family:宋体'>函数中进行中断申请时，参数类型不一致</span> </p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>if(request_irq(buttons_table[i].irq,
micro2440_buttons_interrupt, </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IRQ_TYPE_EDGE_BOTH,
NULL, buttons_table + i))</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>中断申请函数</span><span lang=EN-US>&nbsp;
&lt;linux/interrupt.h&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B050'>extern int request_irq(unsigned int, irq_handler_t
handler,</span></span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
unsigned long, const char *, <span style='background:yellow'>void *</span>);</span></p>

<p class=MsoNormal><b><span style='font-family:宋体'>解决方法：</span></b></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#00B050'> </span><span lang=EN-US style='color:red'>if(request_irq(buttons_table[i].irq,
micro2440_buttons_interrupt, </span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IRQ_TYPE_EDGE_BOTH,
NULL, <span style='background:yellow'>(void*)(buttons_table + i)</span>))</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B050'>&nbsp;</span></p>

<h1><span style='font-family:宋体'>二十五、移植显示屏驱动</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Linux</span><span
style='font-family:宋体'>内核自带驱动程序：</span><span lang=EN-US style='color:#00B0F0'>drivers/video</span></p>

<p class=MsoNormal><span style='font-family:宋体'>配置内核支持</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>#make menuconfig</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Device
Drivers&nbsp; ---&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Graphics
support&nbsp; ---&gt;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;*&gt;
Support for frame buffer devices&nbsp; ---&gt;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;*&gt;&nbsp;&nbsp;
S3C2410 LCD framebuffer support&nbsp; </span></p>

<p class=MsoNormal><span style='font-family:宋体'>修改设备参数：</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>/* LCD driver info */</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static struct
s3c2410fb_display smdk2440_lcd_cfg __initdata = {</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.lcdcon5&nbsp;&nbsp;&nbsp; = S3C2410_LCDCON5_FRM565 |</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
S3C2410_LCDCON5_INVVLINE |</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
S3C2410_LCDCON5_INVVFRAME |</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
S3C2410_LCDCON5_PWREN |</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
S3C2410_LCDCON5_HWSWP,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = S3C2410_LCDCON1_TFT,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.width&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 320,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.height&nbsp;&nbsp;&nbsp; &nbsp;= 240,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.pixclock&nbsp;&nbsp; = 170000, /* HCLK 60 MHz, divisor 10 */</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.xres&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 320,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.yres&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 240,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.bpp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 16, </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.left_margin&nbsp;&nbsp;&nbsp; = 0x03,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.right_margin&nbsp;&nbsp; = 0x06,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.hsync_len&nbsp; = 0x01,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.upper_margin&nbsp;&nbsp; = 0x0A,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.lower_margin&nbsp;&nbsp; = 0x01,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.vsync_len&nbsp; = 0x01,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>};</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static struct
s3c2410fb_mach_info smdk2440_fb_info __initdata = {</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.displays&nbsp;&nbsp; = &amp;smdk2440_lcd_cfg,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.num_displays&nbsp;&nbsp; = 1,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.default_display = 0,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp; </span><span
lang=EN-US style='color:#0070C0'>&nbsp;/*#if 0</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp; //
currently setup by downloader </span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
.gpccon&nbsp;&nbsp;&nbsp;&nbsp; = 0xaa940659,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
.gpccon_mask&nbsp;&nbsp;&nbsp; = 0xffffffff,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
.gpcup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 0x0000ffff,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
.gpcup_mask = 0xffffffff,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
.gpdcon&nbsp;&nbsp;&nbsp;&nbsp; = 0xaa84aaa0,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
.gpdcon_mask&nbsp;&nbsp;&nbsp; = 0xffffffff,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
.gpdup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 0x0000faff,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
.gpdup_mask = 0xffffffff,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp; &nbsp;//#endif</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
.lpcsel&nbsp;&nbsp;&nbsp;&nbsp; = ((0xCE6) &amp; ~7) | 1&lt;&lt;4,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp; */</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.gpccon&nbsp;&nbsp;&nbsp;&nbsp; = 0xaa955699,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.gpccon_mask&nbsp;&nbsp;&nbsp; = 0xffc003cc,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.gpcup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 0x0000ffff,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.gpcup_mask = 0xffffffff,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.gpdcon&nbsp;&nbsp;&nbsp;&nbsp; = 0xaa95aaa1,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.gpdcon_mask&nbsp;&nbsp;&nbsp; = 0xffc0fff0,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .gpdup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
= 0x0000faff,</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US
style='color:red'>.gpdup_mask = 0xffffffff,</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US
style='color:red'>.lpcsel&nbsp;&nbsp;&nbsp;&nbsp; = 0xf82,</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US
style='color:red'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>};</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span style='font-family:宋体'>参数修改？？？？</span></p>

<p class=MsoNormal style='text-indent:23.25pt'><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>二十六、驱动触摸屏及</span><span lang=EN-US>LCD</span><span
style='font-family:宋体'>背光</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>添加驱动文件到：</span><span lang=EN-US>drivers/input/touchscreen</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>修改：</span><span lang=EN-US>Kconfig</span><span
style='font-family:宋体'>、</span><span lang=EN-US>Makefile</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>详细代码：</span><span lang=EN-US>drivers/input/touchscreen/micro2440_1wire.c</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>？？？</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（杜老师驱动源码与</span><span lang=EN-US>Linux</span><span
style='font-family:宋体'>再带触摸屏的输出参数不一致，使用触摸屏时需修改</span><span lang=EN-US>input-raw.c</span><span
style='font-family:宋体'>文件）</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b><span style='font-family:宋体;
color:red'>注：</span><span lang=EN-US style='color:red'>qt</span></b><b><span
style='font-family:宋体;color:red'>移植中需修改</span></b></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=28 height=9></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=543 height=486 src="embedded_linux_notes.files/image264.png"
  alt="圆角矩形: static int ts_input_read(struct tslib_module_info *inf,&#13;&#10;			 struct ts_sample *samp, int nr)&#13;&#10;{&#13;&#10;	struct tsdev *ts = inf-&gt;dev;&#13;&#10;	int ret = nr;&#13;&#10;	int total = 0;&#13;&#10;	unsigned int data;&#13;&#10;	while(total &lt; nr)&#13;&#10;	{&#13;&#10;		ret = read(ts-&gt;fd, &amp;data, sizeof(data));&#13;&#10;		if(-1 == ret) return 0;&#13;&#10;		samp-&gt;pressure = data &gt;&gt; 31;&#13;&#10;		samp-&gt;x = (data &gt;&gt;16) &amp; 0x7FFF;&#13;&#10;		samp-&gt;y = data &amp; 0xFFFF;&#13;&#10;		samp++;&#13;&#10;		total++;&#13;&#10;	}&#13;&#10;	return total;&#13;&#10;}&#13;&#10;"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<h1><span style='font-family:宋体'>二十七、驱动蜂鸣器——脉宽调制驱动</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>添加驱动文件到：</span><span lang=EN-US>drivers/char</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>修改：</span><span lang=EN-US>Kconfig</span><span
style='font-family:宋体'>、</span><span lang=EN-US>Makefile</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>详细代码：</span><span lang=EN-US>drivers/char/micro2440_pwm.c</span></p>

<h1><span style='font-family:宋体'>二十八、移植声卡</span></h1>

<h2><span lang=EN-US>1. </span><span style='font-family:宋体'>声卡资源</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>声卡型号：</span><span lang=EN-US>UDA1341TS</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img
border=0 width=202 height=493 id="图片 1"
src="embedded_linux_notes.files/image265.png"></span></p>

<h2><span lang=EN-US>2. </span><span style='font-family:宋体'>修改</span><span
lang=EN-US>BSP</span><span style='font-family:宋体'>支持文件</span><span lang=EN-US>mach-mini2440.c</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>声卡驱动相关文件：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>头文件：</span><span lang=EN-US>include/sound/s3c24xx_uda134x.h</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>驱动代码：</span><span lang=EN-US>sound/soc/s3c24xx/s3c24xx_uda134x.c</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sound/soc/codes/uda134x.c</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Linux</span><span
style='font-family:宋体'>内核已经支持</span><span lang=EN-US>uda134</span><span
style='font-family:宋体'>声卡驱动，只需添加设备参数到</span><span lang=EN-US>BSP</span><span
style='font-family:宋体'>支持文件</span><span lang=EN-US>arch/arm/mach-s3c2440/mach-mini2440.c</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>/*uda134*/</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static struct
s3c24xx_uda134x_platform_data micro2440_uda134x_data = { </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.l3_clk = S3C2410_GPB(4),</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.l3_data = S3C2410_GPB(3),</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
.l3_mode = S3C2410_GPB(2),</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .model
= UDA134X_UDA1341,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>};</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>static struct
platform_device s3c24xx_uda134x = { </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .name
= &quot;s3c24xx_uda134x&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp; .dev =
{ </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.platform_data = &amp;micro2440_uda134x_data,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;
}&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>};</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>static struct
platform_device *smdk2440_devices[] __initdata = {</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
&amp;s3c_device_usb,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
&amp;s3c_device_lcd,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
&amp;s3c_device_wdt,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
&amp;s3c_device_i2c0,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
&amp;s3c_device_iis,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
&amp;s3c_device_nand,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;
&amp;s3c_device_dm9k,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:red;background:yellow'>&amp;s3c24xx_uda134x,</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>};</span></p>

<h2><span lang=EN-US>3. </span><span style='font-family:宋体'>添加声卡到内核</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:3.0pt'><span
lang=EN-US style='color:#00B0F0'>#make menuconfig</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>Device
Drivers&nbsp; ---&gt;</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;*&gt;
Sound card support&nbsp; ---&gt;</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;*&gt;&nbsp;&nbsp;
Advanced Linux Sound Architecture&nbsp; ---&gt;</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
&lt;*&gt;&nbsp;&nbsp; ALSA for SoC audio support&nbsp; ---&gt;&nbsp; </span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -*-&nbsp;&nbsp;
SoC I2S Audio support UDA134X wired to a S3C24XX&nbsp;&nbsp; </span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>测试声卡驱动是否移植成功</span></h2>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#00B0F0'>#cat a.mp3 &gt; /dev/dsp</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>耳机出现响声，说明驱动移植成功</span></p>

<h1><span style='font-family:宋体'>二十九、移植</span><span lang=EN-US>RTC</span><span
style='font-family:宋体'>时钟</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>三十、</span><span lang=EN-US>USB</span><span
style='font-family:宋体'>无线网卡移植</span></h1>

<h2><span lang=EN-US>1. USB</span><span style='font-family:宋体'>接口插入无线网卡</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>终端提示信息：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [root@micro2440
/]#usb 1-1.4: USB disconnect, address
6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>usb 1-1.4: new
full speed USB device using s3c2410-ohci and address
7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>usb 1-1.4:
configuration #1 chosen from 1 choice </span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;</span><span
style='font-family:宋体'>无线网卡型号：</span><span lang=EN-US>TL-WN321G+</span><span
style='font-family:宋体'>（</span><span lang=EN-US>rt73</span><span
style='font-family:宋体'>芯片）</span></p>

<h2><span lang=EN-US>2. </span><span style='font-family:宋体'>添加</span><span
lang=EN-US>TL-WN321G+</span><span style='font-family:宋体'>网卡驱动到内核</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>三十一、</span><span lang=EN-US>QT</span><span
style='font-family:宋体'>移植</span></h1>

<h2><span lang=EN-US>1</span><span style='font-family:宋体'>、</span><span
lang=EN-US>Qt</span><span style='font-family:宋体'>、</span><span lang=EN-US>Qte</span><span
style='font-family:宋体'>的区别</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Qte</span><span
style='font-family:宋体'>相当于</span><span lang=EN-US>Qt + windowSystem</span></p>

<h2><span lang=EN-US>2</span><span style='font-family:宋体'>、</span><span
lang=EN-US>Qt</span><span style='font-family:宋体'>的第三方库</span></h2>

<h2><span lang=EN-US>3</span><span style='font-family:宋体'>、</span><span
lang=EN-US>tslib</span><span style='font-family:宋体'>移植（显示屏）</span></h2>

<h3><span lang=EN-US>a. </span><span style='font-family:宋体'>解压</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>[root@linfeng qt]# tar zxvf tslib-1.4.tar.gz</span></span></p>

<h3><span lang=EN-US>b. </span><span style='font-family:宋体'>执行</span><span
lang=EN-US>/autogen.sh</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>（生成</span><span lang=EN-US>configure</span><span
style='font-family:宋体'>配置脚本）</span></p>

<h3><span lang=EN-US>c. </span><span style='font-family:宋体'>取消部分测试</span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='color:#00B0F0'>echo &quot;ac_cv_func_malloc_0_nonnull=yes&quot; &gt;
tslibconfig.cache</span></p>

<h3><span lang=EN-US>d. </span><span style='font-family:宋体'>配置</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>./configure&nbsp; -prefix=/opt/tslib</span></span></p>

<p class=MsoNormal><span lang=EN-US style='color:#00B0F0'>&nbsp;--host=arm-linux
&nbsp;--cache-file=tslibconfig.cache --enable-inputapi=no</span></p>

<p class=MsoNormal style='text-indent:18.0pt'><b><span style='font-family:宋体'>注</span></b><span
style='font-family:宋体'>：<span style='color:#0070C0'>博创配置</span></span><span
lang=EN-US style='color:#0070C0'>--cache-file=arm-linux.cache</span></p>

<h3><span lang=EN-US>e. </span><span style='font-family:宋体'>编译</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>make</span></p>

<h3><span lang=EN-US>f. </span><span style='font-family:宋体'>安装</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>make install</span></p>

<h3 style='margin-left:18.0pt;text-indent:-18.0pt'><span lang=EN-US>g.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>移植</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>复制文件（</span><span lang=EN-US>bin</span><span
style='font-family:宋体'>、</span><span lang=EN-US>lib</span><span
style='font-family:宋体'>、</span><span lang=EN-US>etc</span><span
style='font-family:宋体'>）到</span><span lang=EN-US>nfs</span><span
style='font-family:宋体'>共享</span><span lang=EN-US>/opt/tslib</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:18.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=568 valign=top style='width:426.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
  style='color:red'>1015&nbsp; ./autogen.sh </span></p>
  <p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
  style='color:red'>1017&nbsp; echo &quot;ac_cv_func_maclloc_0
  nonnvll=yes&quot; &gt; tslibconfig.cache</span></p>
  <p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
  style='color:red'>1019&nbsp; ./configure --prefix=/opt/tslib --host=arm-linux
  --build=x86-linux --cache-file=tslibconfig.cache --enable-inputapi=no</span></p>
  <p class=MsoListParagraph style='text-indent:24.0pt'><span lang=EN-US
  style='color:red'>1020&nbsp; make </span></p>
  <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
  style='color:red'>&nbsp;&nbsp;&nbsp; 1029&nbsp; make install</span></p>
  </td>
 </tr>
</table>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>k. </span><span style='font-family:宋体'>出错——</span><span
lang=EN-US>selected device is not a touchscreen I understand</span></h3>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>（杜老师给的触摸屏驱动和</span><span lang=EN-US>tslib</span><span
style='font-family:宋体'>中</span><span lang=EN-US>input</span><span
style='font-family:宋体'>所支持的触摸屏数据格式不一致）</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体'>原因：</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>驱动的参数和</span><span lang=EN-US>input</span><span
style='font-family:宋体'>设备的参数不一致。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><b><span
style='font-family:宋体'>解决方法：</span></b></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>修改</span><span lang=EN-US>input</span><span
style='font-family:宋体'>设备参数即修改</span><span lang=EN-US>tslib</span><span
style='font-family:宋体'>库文件中的</span><span lang=EN-US>plugins/input-row.c</span><span
style='font-family:宋体'>文件中的</span><span lang=EN-US>ts_input_read</span><span
style='font-family:宋体'>函数使数据格式和驱动一致（触摸屏驱动中），然后编译。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><b><span
style='font-family:宋体'>注</span></b><span style='font-family:宋体'>：查看内核中的触摸屏驱动种类，</span><span
lang=EN-US>input</span><span style='font-family:宋体'>设备头文件可以查看两者的数据结构不同。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><b><span
lang=EN-US>/qt/tslib</span></b></p>

<h2><span lang=EN-US>4</span><span style='font-family:宋体'>、</span><span
lang=EN-US>Qt</span><span style='font-family:宋体'>移植</span></h2>

<p class=MsoNormal><span lang=EN-US>a. </span><span style='font-family:宋体'>解压</span><span
lang=EN-US>qt-everywhere-opensource-src-4.6.3.tar.gz</span></p>

<p class=MsoNormal><span lang=EN-US>b. </span><span style='font-family:宋体'>配置</span><span
lang=EN-US>arm</span><span style='font-family:宋体'>架构下的环境（脚本）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>./config.sh</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>./configure&nbsp; --help</span>&nbsp;&nbsp; #</span><span
style='font-family:宋体'>查看配置参数</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>脚本内容：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#0070C0'>./configure \</span></span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -prefix
<span style='background:yellow'>/opt/qt \</span>&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -debug-and-release
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-qt3support
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -qt-zlib
\ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----qt-zip</span><span style='font-family:
宋体;color:#0070C0'>压缩库</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -qt-libtiff
\&nbsp; ----</span><span style='font-family:宋体;color:#0070C0'>图片格式</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -qt-libpng
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -qt-libmng
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -qt-libjpeg
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -make
libs \</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -nomake
examples \</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -nomake
demos \</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -nomake
docs \</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-cups
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -iconv
\&nbsp;&nbsp; &nbsp;&nbsp; ----</span><span style='font-family:宋体;color:#0070C0'>终端上文字显示库</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -xplatform
qws/linux-arm-g++ \&nbsp;&nbsp; ----</span><span style='font-family:宋体;
color:#0070C0'>使用</span><span lang=EN-US style='color:#0070C0'>qt</span><span
style='font-family:宋体;color:#0070C0'>窗口系统</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -embedded
arm \</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -little-endian
\&nbsp;&nbsp; ----</span><span style='font-family:宋体;color:#0070C0'>小端系统</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -qt-freetype
\&nbsp;&nbsp;&nbsp; ----</span><span style='font-family:宋体;color:#0070C0'>自带字体库</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -depths
16 \&nbsp;&nbsp;&nbsp;&nbsp; ----16</span><span style='font-family:宋体;
color:#0070C0'>位色深</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-dbus
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -qt-sql-sqlite
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -qt-gfx-linuxfb
\&nbsp; ----</span><span style='font-family:宋体;color:#0070C0'>支持显示模式</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-gfx-transformed
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-gfx-qvfb
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-gfx-vnc
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-gfx-multiscreen
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-gfx-directfb
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -qt-kbd-buttons
\ </span><span lang=EN-US style='color:red'>&nbsp;//</span><span
style='font-family:宋体;color:red'>自定义开发板按键，不需要时可注释</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-kbd-tty
\&nbsp;&nbsp; ----</span><span style='font-family:宋体;color:#0070C0'>键盘</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-kbd-linuxinput
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-kbd-qvfb
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-mouse-pc
\&nbsp; ----</span><span style='font-family:宋体;color:#0070C0'>鼠标</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-mouse-linuxtp
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-mouse-linuxinput
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -qt-mouse-tslib
\&nbsp;&nbsp; ----</span><span style='font-family:宋体;color:#0070C0'>显示屏</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -no-mouse-qvfb
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -I/opt/tslib/include
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -L/opt/tslib/lib
\</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -D__ARM_ARCH_5TEJ__&nbsp;&nbsp;&nbsp;&nbsp;
----</span><span style='font-family:宋体;color:#0070C0'>（宏）</span><span
lang=EN-US style='color:#0070C0'>ARM</span><span style='font-family:宋体;
color:#0070C0'>处理器核心</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #-plugin-sql-mysql</span><span
lang=EN-US>&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注：后续用到部分编译项后，在讨论</span></p>

<p class=MsoNormal><span lang=EN-US>c. </span><span style='font-family:宋体'>编译</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#00B0F0'>make</span></p>

<p class=MsoNormal><span lang=EN-US>d. </span><span style='font-family:宋体'>安装</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:#00B0F0'>make install</span></p>

<p class=MsoNormal><span lang=EN-US>e. </span><span style='font-family:宋体'>移植</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>应用程序所需库的移植（根据具体应用程序而定）</span></p>

<h2><span lang=EN-US>5</span><span style='font-family:宋体'>、</span><span
lang=EN-US>Qt</span><span style='font-family:宋体'>程序移植</span></h2>

<p class=MsoNormal><span lang=EN-US>a. </span><span style='font-family:宋体'>配置</span><span
lang=EN-US>ARM</span><span style='font-family:宋体'>下的</span><span lang=EN-US>qt_creator</span></p>

<p class=MsoNormal><span lang=EN-US>b. </span><span style='font-family:宋体'>编译生成可执行文件，复制开发板中运行调试</span></p>

<p class=MsoNormal><span lang=EN-US>c</span><span style='font-family:宋体'>．运行</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:#00B0F0'>./xxxxx&nbsp; -qws</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2 style='margin-left:24.75pt;text-indent:-24.75pt'><span lang=EN-US>7、</span><span
style='font-family:宋体'>移植的大体流程</span></h2>

<p class=MsoListParagraph style='margin-left:24.75pt;text-indent:0cm'><b><span
style='font-family:宋体;color:red'>注：每次</span><span lang=EN-US style='color:red'>qt</span></b><b><span
style='font-family:宋体;color:red'>程序运行时，必须先都触摸屏进行校正</span></b></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>&Oslash;<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>触摸屏驱动的移植</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>通过</span><span lang=EN-US>tslib</span><span
style='font-family:宋体'>编译完的库</span><span lang=EN-US>lib<span style='color:black'>
</span></span><span style='font-family:宋体;color:black'>，</span><span
style='font-family:宋体'>复制到开发板中</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>cp -a tslib1.4-install/lib/*
qt-embedded-linux-opensource-src-4.4.0/lib/ </span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>cp -a tslib1.4-install/include/ts*
qt-embedded-linux-opensource-src-4.4.0/include/</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:#00B0F0'>[root@linfeng bin]# ./ts_calibrate</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>进行触摸屏校正（在</span><span lang=EN-US>qt</span><span
style='font-family:宋体'>移植中，不进行触摸屏的校正应用程序运行后，鼠标不好使）</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>&Oslash;<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>设置环境变量</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>#!/bin/sh</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>#tslib env</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export TSLIBDIR=<span style='background:yellow'>/mnt/nfs/opt/tslib</span></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export TSLIB_CONSOLEDEVICE=none</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export TSLIB_FBDEVICE=/dev/fb0</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export TSLIB_TSDEVICE=/dev/<span
style='background:yellow'>touchscreen-1wire</span></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export TSLIB_PLUGINDIR=$TSLIBDIR/lib/ts</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export TSLIB_CONFFILE=$TSLIBDIR/etc/ts.conf</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export TSLIB_CALIBFILE=$TSLIBDIR/pointercal&nbsp;
</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>#qt env</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export QTDIR=<span style='background:yellow'>/mnt/nfs/opt/qt</span></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export QT_QWS_FONTDIR=$QTDIR/lib/fonts</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export QT_PLUGIN_PATH=$QTDIR/plugins</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export QWS_KEYBOARD=buttons:/dev/buttons</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export QWS_MOUSE_PROTO=tslib:/dev<span
style='background:yellow'>/touchscreen-1wire</span></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>export QT_TSLIBDIR=$TSLIBDIR</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:24.0pt'><span
lang=EN-US style='color:#0070C0'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US style='color:#0070C0'>export
LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$TSLIBDIR/lib:$QTDIR/lib</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><span
lang=EN-US style='font-family:Wingdings'>&Oslash;<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体'>应用程序移植</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
style='font-family:宋体'>对特定的应用，直接复制编译好的应用程序到开发板中，运行根据报出的信息移植所需的各种库。</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm'><b><span
style='font-family:宋体;color:red'>库</span><span lang=EN-US style='color:red'>-----qt</span></b><b><span
style='font-family:宋体;color:red'>库（</span><span lang=EN-US style='color:red'>qte/lib</span></b><b><span
style='font-family:宋体;color:red'>）、交叉编译器库（</span><span lang=EN-US
style='color:red'>arm-linux-gcc</span></b><b><span style='font-family:宋体;
color:red'>）</span></b></p>

<h2 style='margin-left:24.75pt;text-indent:-24.75pt'><span lang=EN-US>8、</span><span
style='font-family:宋体'>常见错误</span></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体;color:black'>触摸屏校正时，运行</span><span
lang=EN-US style='color:black'>./bin/ts_calibrate </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体;color:black'>如果出现如下错误提示：</span><span lang=EN-US
style='color:black'><br>
</span><span lang=EN-US style='color:red'>Couldnt load module pthres<br>
No raw modules loaded.<br>
ts_config: Success</span><span lang=EN-US style='color:black'> </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体;color:black'>则更改</span><span lang=EN-US style='color:
black'> ts.conf </span><span style='font-family:宋体;color:black'>配置文件选择一个输入设备</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:black'>#vi /qte/etc/ts.conf </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:black'># Uncomment if you wish to use the linux input
layer event interface<br>
</span><span lang=EN-US style='color:red'># module_raw input</span><span
lang=EN-US style='color:black'> </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体;color:black'>更改为</span><span style='color:black'> </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:black'># Uncomment if you wish to use the linux input
layer event interface </span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US style='color:red'>module_raw input</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体;color:black'>注：删除</span><span lang=EN-US
style='color:black'>#</span><span style='font-family:宋体;color:black'>时，必须注意</span><span
lang=EN-US style='color:black'>module_raw input</span><span style='font-family:
宋体;color:black'>必须顶格（前面没有空格），否则运行程序时，会报出段错误。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='color:black'>3）</span><span style='font-family:宋体;color:black'>各种库的缺失</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体;color:black'>错误提示：</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='color:red'>error while loading shared libraries: xxxxxxxx: cannot open
shared<br>
object file: No such file or directory</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体'>在相关位置找到后，复制到开发板</span></p>

<h2><span style='font-family:宋体'>附：</span></h2>

<p class=MsoNormal><span style='font-family:宋体'>博创开发板</span><span lang=EN-US>qt</span><span
style='font-family:宋体'>移植</span></p>

<h3><span lang=EN-US>ARM</span><span style='font-family:宋体'>下</span><span
lang=EN-US>Qt</span><span style='font-family:宋体'>编译条件配置：</span></h3>

<p class=MsoNormal><b><span style='font-family:宋体'>博创：</span></b></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>#./configure
-embedded arm -xplatform qws/linux-arm-g++ -depths 16 -little-endian
-qt-mouse-linuxtp -qt-mouse-tslib -I/home/sprife/qt4/for_arm/tslib1.4-install
/include </span><span style='font-family:宋体;color:#0070C0'>–</span><span
lang=EN-US style='color:#0070C0'>L/home/sprife/qt4/for_arm/tslib1.4-install/lib
-prefix /mnt/nfs/Trolltech/qt-embedded-4.4.0</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;</span></p>

<p class=MsoNormal><b><span lang=EN-US>Micro2440</span></b><b><span
style='font-family:宋体'>：</span></b></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>#!/bin/sh</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>./configure \</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;-prefix
<span style='background:yellow'>/opt/qt \</span></span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-opensource \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-confirm-license \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-release -shared \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-embedded arm \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-xplatform qws/linux-arm-g++ \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-depths 16,18,24 \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-fast \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-optimized-qmake \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-pch \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-qt-sql-sqlite \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-qt-libjpeg \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-qt-zlib \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-qt-libpng \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-qt-freetype \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-little-endian -host-little-endian \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-qt3support \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-libtiff -no-libmng \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-opengl \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-mmx -no-sse -no-sse2 \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-3dnow \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-openssl \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-webkit \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-qvfb \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-phonon \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-nis \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-opengl \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-cups \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-glib \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-xcursor -no-xfixes -no-xrandr -no-xrender \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-no-separate-debug-info \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-nomake examples -nomake tools -nomake docs \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-qt-mouse-tslib \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-I/usr/local/tslib/include \</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>-L/usr/local/tslib/lib</span></p>

<p class=MsoNormal style='margin-left:48.0pt'><span lang=EN-US
style='color:#0070C0'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:27.0pt;text-indent:21.0pt'><span
lang=EN-US style='color:#0070C0'>exit</span></p>

<h3><span style='font-family:宋体'>环境变量配置：</span></h3>

<p class=MsoNormal style='text-indent:12.0pt'><span lang=EN-US
style='color:#0070C0'>1 export QTDIR=$PWD</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp; 2 export
LD_LIBRARY_PATH=$PWD/lib</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp; 3 export
TSLIB_TSDEVICE=/dev/event0</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp; 4 export
TSLIB_PLUGINDIR=$PWD/lib/ts</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp; 5 export
TSLIB_CONSOLEDEVICE=none</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp; 6 export
TSLIB_CONFFILE=$PWD/etc/ts.conf</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp; 7 export
POINTERCAL_FILE=$PWD/etc/ts-calib.conf</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp; 8 export
QWS_MOUSE_PROTO=tslib:/dev/event0</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp; 9 export
TSLIB_CALIBFILE=$PWD/etc/ts-calib.conf</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;10 export
LANG=zh_CN</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;11 export
QWS_DISPLAY=&quot;LinuxFb:mmWidth160:mmHeight120:0&quot;</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='color:red'>//</span><span style='font-family:宋体;color:red'>设置字库位置</span></p>

<p class=MsoNormal><span lang=EN-US style='color:#0070C0'>&nbsp;12 export
QT_QWS_FONTDIR=/mnt/nfs/qte/lib/fonts/</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>&nbsp;</span></p>

<h1><span style='font-family:宋体'>附：常用资料</span></h1>

<h2><span lang=EN-US>1</span><span style='font-family:宋体'>．</span><span
lang=EN-US>WAVE</span><span style='font-family:宋体'>文件格式剖析</span></h2>

<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt;
line-height:12.0pt;word-break:break-all'><span lang=EN-US style='font-family:
宋体;color:black'>WAVE</span><span style='font-family:宋体;color:black'>文件作为多媒体中使用的声波文件格式之一，它是以<span
lang=EN-US>RIFF</span>格式为标准的。<span lang=EN-US>RIFF</span>是英文<span lang=EN-US>Resource&nbsp;Interchange&nbsp;File&nbsp;Format</span>的缩写，每个<span
lang=EN-US>WAVE</span>文件的头四个字节便是“<span lang=EN-US>RIFF</span>”。<span
lang=EN-US>WAVE</span>文件由文件头和数据体两大部分组成。其中文件头又分为<span lang=EN-US>RIFF</span>／<span
lang=EN-US>WAV</span>文件标识段和声音数据格式说明段两部分。<span lang=EN-US>WAVE</span>文件各部分内容及格式见附表。</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt;
line-height:12.0pt;word-break:break-all'><span style='font-family:宋体;
color:black'>常见的声音文件主要有两种，分别对应于单声道（<span lang=EN-US>11.025KHz</span>采样率、<span
lang=EN-US>8Bit</span>的采样值）和双声道（<span lang=EN-US>44.1KHz</span>采样率、<span
lang=EN-US>16Bit</span>的采样值）。采样率是指：声音信号在“模→数”转换过程中单位时间内采样的次数。采样值是指每一次采样周期内声音模拟信号的积分值。</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt;
line-height:12.0pt;word-break:break-all'><span style='font-family:宋体;
color:black'>对于单声道声音文件，采样数据为八位的短整数（<span lang=EN-US>short&nbsp;int&nbsp;00H-FFH</span>）；而对于双声道立体声声音文件，每次采样数据为一个<span
lang=EN-US>16</span>位的整数（<span lang=EN-US>int</span>），高八位和低八位分别代表左右两个声道。<span
lang=EN-US>&nbsp;</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt;
line-height:12.0pt;word-break:break-all'><span lang=EN-US style='font-family:
宋体;color:black'>WAVE</span><span style='font-family:宋体;color:black'>文件数据块包含以脉冲编码调制（<span
lang=EN-US>PCM</span>）格式表示的样本。<span lang=EN-US>WAVE</span>文件是由样本组织而成的。在单声道<span
lang=EN-US>WAVE</span>文件中，声道<span lang=EN-US>0</span>代表左声道，声道<span lang=EN-US>1</span>代表右声道。在多声道<span
lang=EN-US>WAVE</span>文件中，样本是交替出现的。<span lang=EN-US>&nbsp;</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:18.0pt;
line-height:12.0pt;word-break:break-all'><span lang=EN-US style='font-family:
宋体;color:black'>WAVE</span><span style='font-family:宋体;color:black'>文件格式说明表<span
lang=EN-US>:</span>　　</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>偏移地址</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>字节数</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>数据类型</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border:solid black 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>内</span></b><b><span
  lang=EN-US style='font-family:宋体;color:black'>&nbsp;&nbsp;&nbsp;</span></b><b><span
  style='font-family:黑体;color:black'>容</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>00H</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>4</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>char</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>&quot;RIFF&quot;</span></b><b><span
  style='font-family:黑体;color:black'>标志</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>04H</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>4</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>long
  int</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>文件长度</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US style='font-family:黑体;color:black'>08H</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US style='font-family:黑体;color:black'>4</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US style='font-family:黑体;color:black'>char</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span lang=EN-US style='font-family:黑体;color:black'>&quot;WAVE&quot;</span></b><b><span
  style='font-family:黑体;color:black'>标志</span></b><b><span lang=EN-US
  style='font-family:宋体;color:black'>&nbsp;</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>0CH</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>4</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>char</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>&quot;fmt&quot;</span></b><b><span
  style='font-family:黑体;color:black'>标志</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>10H</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>4</span></b></p>
  </td>
  <td width=440 colspan=2 valign=top style='width:329.65pt;border-top:none;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>过渡字节（不定）</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>14H</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>2</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>int</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>格式类别</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#CCFFFF;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>16H</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#CCFFFF;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>2</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#CCFFFF;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>int</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  background:#CCFFFF;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>通道数，单声道为<span
  lang=EN-US>1</span>，双声道为<span lang=EN-US>2</span></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border:solid black 1.0pt;
  border-top:none;background:#CCFFCC;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>18H</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  background:#CCFFCC;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>2</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  background:#CCFFCC;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>int</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  background:#CCFFCC;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>采样率（每秒样本数），表示每个通道的播放速度</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>1CH</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>4</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>long</span></b><b><span
  lang=EN-US style='font-family:宋体;color:black'>&nbsp;</span></b><b><span
  lang=EN-US style='font-family:黑体;color:black'>int</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>波形音频数据传送速率<span
  lang=EN-US>,</span>其值为<span lang=EN-US>(</span>通道数<span lang=EN-US>x</span>每秒数据位数<span
  lang=EN-US>x</span>每样本的数据位数<span lang=EN-US>/8)</span>。播放软件利用此值可以估计缓冲区的大小。</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>20H</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>2</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>int</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>数据块的调整数（按字节算的）<span
  lang=EN-US>,</span>其值为通道数×每样本的数据位值／<span lang=EN-US>8</span>。播放软件需要一次处理多个该值大小的字节数据，以便将其值用于缓冲区的调整。</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border:solid black 1.0pt;
  border-top:none;background:#FFFF99;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>22H</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  background:#FFFF99;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>2</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  background:#FFFF99;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>int</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  background:#FFFF99;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:宋体;color:black'>&nbsp;</span></b><b><span
  style='font-family:黑体;color:black'>每样本的数据位数<span lang=EN-US>,</span>表示每个声道中各个样本的数据位数。如果有多个声道<span
  lang=EN-US>,</span>对每个声道而言，样本大小都一样。</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>24H</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>4</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>char</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>数据标记符＂<span
  lang=EN-US>data</span>＂</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=43 valign=top style='width:32.4pt;border:solid black 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>28H</span></b></p>
  </td>
  <td width=28 valign=top style='width:21.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>4</span></b></p>
  </td>
  <td width=80 valign=top style='width:59.65pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span lang=EN-US style='font-family:黑体;color:black'>long</span></b><b><span
  lang=EN-US style='font-family:宋体;color:black'>&nbsp;</span></b><b><span
  lang=EN-US style='font-family:黑体;color:black'>int</span></b></p>
  </td>
  <td width=360 valign=top style='width:270.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
  word-break:break-all'><b><span style='font-family:黑体;color:black'>语音数据的长度</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='text-align:left;line-height:12.0pt;
word-break:break-all'><span lang=EN-US style='font-family:宋体'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

</body>

</html>
